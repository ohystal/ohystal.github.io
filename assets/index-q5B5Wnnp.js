(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ty(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const st={},tl=[],yr=()=>{},Ix=()=>!1,up=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ny=t=>t.startsWith("onUpdate:"),xn=Object.assign,iy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ax=Object.prototype.hasOwnProperty,et=(t,e)=>Ax.call(t,e),Se=Array.isArray,nl=t=>ah(t)==="[object Map]",cp=t=>ah(t)==="[object Set]",PE=t=>ah(t)==="[object Date]",Ne=t=>typeof t=="function",Wt=t=>typeof t=="string",Ir=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",iA=t=>(lt(t)||Ne(t))&&Ne(t.then)&&Ne(t.catch),rA=Object.prototype.toString,ah=t=>rA.call(t),Sx=t=>ah(t).slice(8,-1),sA=t=>ah(t)==="[object Object]",ry=t=>Wt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yc=ty(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Px=/-(\w)/g,Vs=hp(t=>t.replace(Px,(e,n)=>n?n.toUpperCase():"")),Cx=/\B([A-Z])/g,Go=hp(t=>t.replace(Cx,"-$1").toLowerCase()),oA=hp(t=>t.charAt(0).toUpperCase()+t.slice(1)),mg=hp(t=>t?`on${oA(t)}`:""),Os=(t,e)=>!Object.is(t,e),cf=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},aA=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Pf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let CE;const dp=()=>CE||(CE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sy(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Wt(r)?Dx(r):sy(r);if(s)for(const a in s)e[a]=s[a]}return e}else if(Wt(t)||lt(t))return t}const Rx=/;(?![^(]*\))/g,kx=/:([^]+)/,xx=/\/\*[^]*?\*\//g;function Dx(t){const e={};return t.replace(xx,"").split(Rx).forEach(n=>{if(n){const r=n.split(kx);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function oy(t){let e="";if(Wt(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const r=oy(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ox="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mx=ty(Ox);function lA(t){return!!t||t===""}function Nx(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=fp(t[r],e[r]);return n}function fp(t,e){if(t===e)return!0;let n=PE(t),r=PE(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ir(t),r=Ir(e),n||r)return t===e;if(n=Se(t),r=Se(e),n||r)return n&&r?Nx(t,e):!1;if(n=lt(t),r=lt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in t){const c=t.hasOwnProperty(l),f=e.hasOwnProperty(l);if(c&&!f||!c&&f||!fp(t[l],e[l]))return!1}}return String(t)===String(e)}function Vx(t,e){return t.findIndex(n=>fp(n,e))}const uA=t=>!!(t&&t.__v_isRef===!0),Uc=t=>Wt(t)?t:t==null?"":Se(t)||lt(t)&&(t.toString===rA||!Ne(t.toString))?uA(t)?Uc(t.value):JSON.stringify(t,cA,2):String(t),cA=(t,e)=>uA(e)?cA(t,e.value):nl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],a)=>(n[gg(r,a)+" =>"]=s,n),{})}:cp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>gg(n))}:Ir(e)?gg(e):lt(e)&&!Se(e)&&!sA(e)?String(e):e,gg=(t,e="")=>{var n;return Ir(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zn;class Lx{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zn,!e&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=zn;try{return zn=this,e()}finally{zn=n}}}on(){++this._on===1&&(this.prevScope=zn,zn=this)}off(){this._on>0&&--this._on===0&&(zn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Fx(){return zn}let at;const vg=new WeakSet;class hA{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zn&&zn.active&&zn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vg.has(this)&&(vg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,RE(this),pA(this);const e=at,n=Bi;at=this,Bi=!0;try{return this.fn()}finally{mA(this),at=e,Bi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)uy(e);this.deps=this.depsTail=void 0,RE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tv(this)&&this.run()}get dirty(){return tv(this)}}let dA=0,_c,wc;function fA(t,e=!1){if(t.flags|=8,e){t.next=wc,wc=t;return}t.next=_c,_c=t}function ay(){dA++}function ly(){if(--dA>0)return;if(wc){let e=wc;for(wc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_c;){let e=_c;for(_c=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function pA(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mA(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),uy(r),Ux(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function tv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gA(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===jc)||(t.globalVersion=jc,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!tv(t))))return;t.flags|=2;const e=t.dep,n=at,r=Bi;at=t,Bi=!0;try{pA(t);const s=t.fn(t._value);(e.version===0||Os(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{at=n,Bi=r,mA(t),t.flags&=-3}}function uy(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)uy(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ux(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Bi=!0;const vA=[];function Gr(){vA.push(Bi),Bi=!1}function zr(){const t=vA.pop();Bi=t===void 0?!0:t}function RE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=at;at=void 0;try{e()}finally{at=n}}}let jc=0;class jx{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cy{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!at||!Bi||at===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==at)n=this.activeLink=new jx(at,this),at.deps?(n.prevDep=at.depsTail,at.depsTail.nextDep=n,at.depsTail=n):at.deps=at.depsTail=n,yA(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=at.depsTail,n.nextDep=void 0,at.depsTail.nextDep=n,at.depsTail=n,at.deps===n&&(at.deps=r)}return n}trigger(e){this.version++,jc++,this.notify(e)}notify(e){ay();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ly()}}}function yA(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)yA(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const nv=new WeakMap,Mo=Symbol(""),iv=Symbol(""),Bc=Symbol("");function Pn(t,e,n){if(Bi&&at){let r=nv.get(t);r||nv.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new cy),s.map=r,s.key=n),s.track()}}function jr(t,e,n,r,s,a){const l=nv.get(t);if(!l){jc++;return}const c=f=>{f&&f.trigger()};if(ay(),e==="clear")l.forEach(c);else{const f=Se(t),p=f&&ry(n);if(f&&n==="length"){const g=Number(r);l.forEach((_,b)=>{(b==="length"||b===Bc||!Ir(b)&&b>=g)&&c(_)})}else switch((n!==void 0||l.has(void 0))&&c(l.get(n)),p&&c(l.get(Bc)),e){case"add":f?p&&c(l.get("length")):(c(l.get(Mo)),nl(t)&&c(l.get(iv)));break;case"delete":f||(c(l.get(Mo)),nl(t)&&c(l.get(iv)));break;case"set":nl(t)&&c(l.get(Mo));break}}ly()}function Wa(t){const e=Ze(t);return e===t?e:(Pn(e,"iterate",Bc),Si(t)?e:e.map(yn))}function pp(t){return Pn(t=Ze(t),"iterate",Bc),t}const Bx={__proto__:null,[Symbol.iterator](){return yg(this,Symbol.iterator,yn)},concat(...t){return Wa(this).concat(...t.map(e=>Se(e)?Wa(e):e))},entries(){return yg(this,"entries",t=>(t[1]=yn(t[1]),t))},every(t,e){return Fr(this,"every",t,e,void 0,arguments)},filter(t,e){return Fr(this,"filter",t,e,n=>n.map(yn),arguments)},find(t,e){return Fr(this,"find",t,e,yn,arguments)},findIndex(t,e){return Fr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Fr(this,"findLast",t,e,yn,arguments)},findLastIndex(t,e){return Fr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Fr(this,"forEach",t,e,void 0,arguments)},includes(...t){return _g(this,"includes",t)},indexOf(...t){return _g(this,"indexOf",t)},join(t){return Wa(this).join(t)},lastIndexOf(...t){return _g(this,"lastIndexOf",t)},map(t,e){return Fr(this,"map",t,e,void 0,arguments)},pop(){return Qu(this,"pop")},push(...t){return Qu(this,"push",t)},reduce(t,...e){return kE(this,"reduce",t,e)},reduceRight(t,...e){return kE(this,"reduceRight",t,e)},shift(){return Qu(this,"shift")},some(t,e){return Fr(this,"some",t,e,void 0,arguments)},splice(...t){return Qu(this,"splice",t)},toReversed(){return Wa(this).toReversed()},toSorted(t){return Wa(this).toSorted(t)},toSpliced(...t){return Wa(this).toSpliced(...t)},unshift(...t){return Qu(this,"unshift",t)},values(){return yg(this,"values",yn)}};function yg(t,e,n){const r=pp(t),s=r[e]();return r!==t&&!Si(t)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const $x=Array.prototype;function Fr(t,e,n,r,s,a){const l=pp(t),c=l!==t&&!Si(t),f=l[e];if(f!==$x[e]){const _=f.apply(t,a);return c?yn(_):_}let p=n;l!==t&&(c?p=function(_,b){return n.call(this,yn(_),b,t)}:n.length>2&&(p=function(_,b){return n.call(this,_,b,t)}));const g=f.call(l,p,r);return c&&s?s(g):g}function kE(t,e,n,r){const s=pp(t);let a=n;return s!==t&&(Si(t)?n.length>3&&(a=function(l,c,f){return n.call(this,l,c,f,t)}):a=function(l,c,f){return n.call(this,l,yn(c),f,t)}),s[e](a,...r)}function _g(t,e,n){const r=Ze(t);Pn(r,"iterate",Bc);const s=r[e](...n);return(s===-1||s===!1)&&fy(n[0])?(n[0]=Ze(n[0]),r[e](...n)):s}function Qu(t,e,n=[]){Gr(),ay();const r=Ze(t)[e].apply(t,n);return ly(),zr(),r}const Hx=ty("__proto__,__v_isRef,__isVue"),_A=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ir));function Wx(t){Ir(t)||(t=String(t));const e=Ze(this);return Pn(e,"has",t),e.hasOwnProperty(t)}class wA{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(s?a?eD:IA:a?TA:EA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const l=Se(e);if(!s){let f;if(l&&(f=Bx[n]))return f;if(n==="hasOwnProperty")return Wx}const c=Reflect.get(e,n,kn(e)?e:r);return(Ir(n)?_A.has(n):Hx(n))||(s||Pn(e,"get",n),a)?c:kn(c)?l&&ry(n)?c:c.value:lt(c)?s?AA(c):lh(c):c}}class bA extends wA{constructor(e=!1){super(!1,e)}set(e,n,r,s){let a=e[n];if(!this._isShallow){const f=Ls(a);if(!Si(r)&&!Ls(r)&&(a=Ze(a),r=Ze(r)),!Se(e)&&kn(a)&&!kn(r))return f?!1:(a.value=r,!0)}const l=Se(e)&&ry(n)?Number(n)<e.length:et(e,n),c=Reflect.set(e,n,r,kn(e)?e:s);return e===Ze(s)&&(l?Os(r,a)&&jr(e,"set",n,r):jr(e,"add",n,r)),c}deleteProperty(e,n){const r=et(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&jr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Ir(n)||!_A.has(n))&&Pn(e,"has",n),r}ownKeys(e){return Pn(e,"iterate",Se(e)?"length":Mo),Reflect.ownKeys(e)}}class Kx extends wA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const qx=new bA,Gx=new Kx,zx=new bA(!0);const rv=t=>t,Xd=t=>Reflect.getPrototypeOf(t);function Yx(t,e,n){return function(...r){const s=this.__v_raw,a=Ze(s),l=nl(a),c=t==="entries"||t===Symbol.iterator&&l,f=t==="keys"&&l,p=s[t](...r),g=n?rv:e?Cf:yn;return!e&&Pn(a,"iterate",f?iv:Mo),{next(){const{value:_,done:b}=p.next();return b?{value:_,done:b}:{value:c?[g(_[0]),g(_[1])]:g(_),done:b}},[Symbol.iterator](){return this}}}}function Jd(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Xx(t,e){const n={get(s){const a=this.__v_raw,l=Ze(a),c=Ze(s);t||(Os(s,c)&&Pn(l,"get",s),Pn(l,"get",c));const{has:f}=Xd(l),p=e?rv:t?Cf:yn;if(f.call(l,s))return p(a.get(s));if(f.call(l,c))return p(a.get(c));a!==l&&a.get(s)},get size(){const s=this.__v_raw;return!t&&Pn(Ze(s),"iterate",Mo),Reflect.get(s,"size",s)},has(s){const a=this.__v_raw,l=Ze(a),c=Ze(s);return t||(Os(s,c)&&Pn(l,"has",s),Pn(l,"has",c)),s===c?a.has(s):a.has(s)||a.has(c)},forEach(s,a){const l=this,c=l.__v_raw,f=Ze(c),p=e?rv:t?Cf:yn;return!t&&Pn(f,"iterate",Mo),c.forEach((g,_)=>s.call(a,p(g),p(_),l))}};return xn(n,t?{add:Jd("add"),set:Jd("set"),delete:Jd("delete"),clear:Jd("clear")}:{add(s){!e&&!Si(s)&&!Ls(s)&&(s=Ze(s));const a=Ze(this);return Xd(a).has.call(a,s)||(a.add(s),jr(a,"add",s,s)),this},set(s,a){!e&&!Si(a)&&!Ls(a)&&(a=Ze(a));const l=Ze(this),{has:c,get:f}=Xd(l);let p=c.call(l,s);p||(s=Ze(s),p=c.call(l,s));const g=f.call(l,s);return l.set(s,a),p?Os(a,g)&&jr(l,"set",s,a):jr(l,"add",s,a),this},delete(s){const a=Ze(this),{has:l,get:c}=Xd(a);let f=l.call(a,s);f||(s=Ze(s),f=l.call(a,s)),c&&c.call(a,s);const p=a.delete(s);return f&&jr(a,"delete",s,void 0),p},clear(){const s=Ze(this),a=s.size!==0,l=s.clear();return a&&jr(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Yx(s,t,e)}),n}function hy(t,e){const n=Xx(t,e);return(r,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(et(n,s)&&s in r?n:r,s,a)}const Jx={get:hy(!1,!1)},Qx={get:hy(!1,!0)},Zx={get:hy(!0,!1)};const EA=new WeakMap,TA=new WeakMap,IA=new WeakMap,eD=new WeakMap;function tD(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nD(t){return t.__v_skip||!Object.isExtensible(t)?0:tD(Sx(t))}function lh(t){return Ls(t)?t:dy(t,!1,qx,Jx,EA)}function iD(t){return dy(t,!1,zx,Qx,TA)}function AA(t){return dy(t,!0,Gx,Zx,IA)}function dy(t,e,n,r,s){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=nD(t);if(a===0)return t;const l=s.get(t);if(l)return l;const c=new Proxy(t,a===2?r:n);return s.set(t,c),c}function il(t){return Ls(t)?il(t.__v_raw):!!(t&&t.__v_isReactive)}function Ls(t){return!!(t&&t.__v_isReadonly)}function Si(t){return!!(t&&t.__v_isShallow)}function fy(t){return t?!!t.__v_raw:!1}function Ze(t){const e=t&&t.__v_raw;return e?Ze(e):t}function rD(t){return!et(t,"__v_skip")&&Object.isExtensible(t)&&aA(t,"__v_skip",!0),t}const yn=t=>lt(t)?lh(t):t,Cf=t=>lt(t)?AA(t):t;function kn(t){return t?t.__v_isRef===!0:!1}function di(t){return sD(t,!1)}function sD(t,e){return kn(t)?t:new oD(t,e)}class oD{constructor(e,n){this.dep=new cy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ze(e),this._value=n?e:yn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Si(e)||Ls(e);e=r?e:Ze(e),Os(e,n)&&(this._rawValue=e,this._value=r?e:yn(e),this.dep.trigger())}}function sc(t){return kn(t)?t.value:t}const aD={get:(t,e,n)=>e==="__v_raw"?t:sc(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return kn(s)&&!kn(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function SA(t){return il(t)?t:new Proxy(t,aD)}class lD{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new cy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return fA(this,!0),!0}get value(){const e=this.dep.track();return gA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function uD(t,e,n=!1){let r,s;return Ne(t)?r=t:(r=t.get,s=t.set),new lD(r,s,n)}const Qd={},Rf=new WeakMap;let So;function cD(t,e=!1,n=So){if(n){let r=Rf.get(n);r||Rf.set(n,r=[]),r.push(t)}}function hD(t,e,n=st){const{immediate:r,deep:s,once:a,scheduler:l,augmentJob:c,call:f}=n,p=K=>s?K:Si(K)||s===!1||s===0?Br(K,1):Br(K);let g,_,b,I,N=!1,T=!1;if(kn(t)?(_=()=>t.value,N=Si(t)):il(t)?(_=()=>p(t),N=!0):Se(t)?(T=!0,N=t.some(K=>il(K)||Si(K)),_=()=>t.map(K=>{if(kn(K))return K.value;if(il(K))return p(K);if(Ne(K))return f?f(K,2):K()})):Ne(t)?e?_=f?()=>f(t,2):t:_=()=>{if(b){Gr();try{b()}finally{zr()}}const K=So;So=g;try{return f?f(t,3,[I]):t(I)}finally{So=K}}:_=yr,e&&s){const K=_,q=s===!0?1/0:s;_=()=>Br(K(),q)}const S=Fx(),D=()=>{g.stop(),S&&S.active&&iy(S.effects,g)};if(a&&e){const K=e;e=(...q)=>{K(...q),D()}}let F=T?new Array(t.length).fill(Qd):Qd;const B=K=>{if(!(!(g.flags&1)||!g.dirty&&!K))if(e){const q=g.run();if(s||N||(T?q.some((ie,V)=>Os(ie,F[V])):Os(q,F))){b&&b();const ie=So;So=g;try{const V=[q,F===Qd?void 0:T&&F[0]===Qd?[]:F,I];f?f(e,3,V):e(...V),F=q}finally{So=ie}}}else g.run()};return c&&c(B),g=new hA(_),g.scheduler=l?()=>l(B,!1):B,I=K=>cD(K,!1,g),b=g.onStop=()=>{const K=Rf.get(g);if(K){if(f)f(K,4);else for(const q of K)q();Rf.delete(g)}},e?r?B(!0):F=g.run():l?l(B.bind(null,!0),!0):g.run(),D.pause=g.pause.bind(g),D.resume=g.resume.bind(g),D.stop=D,D}function Br(t,e=1/0,n){if(e<=0||!lt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,kn(t))Br(t.value,e,n);else if(Se(t))for(let r=0;r<t.length;r++)Br(t[r],e,n);else if(cp(t)||nl(t))t.forEach(r=>{Br(r,e,n)});else if(sA(t)){for(const r in t)Br(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Br(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function uh(t,e,n,r){try{return r?t(...r):t()}catch(s){mp(s,e,n)}}function Ar(t,e,n,r){if(Ne(t)){const s=uh(t,e,n,r);return s&&iA(s)&&s.catch(a=>{mp(a,e,n)}),s}if(Se(t)){const s=[];for(let a=0;a<t.length;a++)s.push(Ar(t[a],e,n,r));return s}}function mp(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||st;if(e){let c=e.parent;const f=e.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const g=c.ec;if(g){for(let _=0;_<g.length;_++)if(g[_](t,f,p)===!1)return}c=c.parent}if(a){Gr(),uh(a,null,10,[t,f,p]),zr();return}}dD(t,n,s,r,l)}function dD(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Ln=[];let hr=-1;const rl=[];let Rs=null,qa=0;const PA=Promise.resolve();let kf=null;function CA(t){const e=kf||PA;return t?e.then(this?t.bind(this):t):e}function fD(t){let e=hr+1,n=Ln.length;for(;e<n;){const r=e+n>>>1,s=Ln[r],a=$c(s);a<t||a===t&&s.flags&2?e=r+1:n=r}return e}function py(t){if(!(t.flags&1)){const e=$c(t),n=Ln[Ln.length-1];!n||!(t.flags&2)&&e>=$c(n)?Ln.push(t):Ln.splice(fD(e),0,t),t.flags|=1,RA()}}function RA(){kf||(kf=PA.then(xA))}function pD(t){Se(t)?rl.push(...t):Rs&&t.id===-1?Rs.splice(qa+1,0,t):t.flags&1||(rl.push(t),t.flags|=1),RA()}function xE(t,e,n=hr+1){for(;n<Ln.length;n++){const r=Ln[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ln.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function kA(t){if(rl.length){const e=[...new Set(rl)].sort((n,r)=>$c(n)-$c(r));if(rl.length=0,Rs){Rs.push(...e);return}for(Rs=e,qa=0;qa<Rs.length;qa++){const n=Rs[qa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rs=null,qa=0}}const $c=t=>t.id==null?t.flags&2?-1:1/0:t.id;function xA(t){try{for(hr=0;hr<Ln.length;hr++){const e=Ln[hr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),uh(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;hr<Ln.length;hr++){const e=Ln[hr];e&&(e.flags&=-2)}hr=-1,Ln.length=0,kA(),kf=null,(Ln.length||rl.length)&&xA()}}let fi=null,DA=null;function xf(t){const e=fi;return fi=t,DA=t&&t.type.__scopeId||null,e}function oc(t,e=fi,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&jE(-1);const a=xf(e);let l;try{l=t(...s)}finally{xf(a),r._d&&jE(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function hf(t,e){if(fi===null)return t;const n=_p(fi),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,l,c,f=st]=e[s];a&&(Ne(a)&&(a={mounted:a,updated:a}),a.deep&&Br(l),r.push({dir:a,instance:n,value:l,oldValue:void 0,arg:c,modifiers:f}))}return t}function Io(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let f=c.dir[r];f&&(Gr(),Ar(f,n,8,[t.el,c,t,e]),zr())}}const mD=Symbol("_vte"),gD=t=>t.__isTeleport;function my(t,e){t.shapeFlag&6&&t.component?(t.transition=e,my(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function vD(t,e){return Ne(t)?xn({name:t.name},e,{setup:t}):t}function OA(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Df(t,e,n,r,s=!1){if(Se(t)){t.forEach((N,T)=>Df(N,e&&(Se(e)?e[T]:e),n,r,s));return}if(bc(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Df(t,e,n,r.component.subTree);return}const a=r.shapeFlag&4?_p(r.component):r.el,l=s?null:a,{i:c,r:f}=t,p=e&&e.r,g=c.refs===st?c.refs={}:c.refs,_=c.setupState,b=Ze(_),I=_===st?()=>!1:N=>et(b,N);if(p!=null&&p!==f&&(Wt(p)?(g[p]=null,I(p)&&(_[p]=null)):kn(p)&&(p.value=null)),Ne(f))uh(f,c,12,[l,g]);else{const N=Wt(f),T=kn(f);if(N||T){const S=()=>{if(t.f){const D=N?I(f)?_[f]:g[f]:f.value;s?Se(D)&&iy(D,a):Se(D)?D.includes(a)||D.push(a):N?(g[f]=[a],I(f)&&(_[f]=g[f])):(f.value=[a],t.k&&(g[t.k]=f.value))}else N?(g[f]=l,I(f)&&(_[f]=l)):T&&(f.value=l,t.k&&(g[t.k]=l))};l?(S.id=-1,ci(S,n)):S()}}}dp().requestIdleCallback;dp().cancelIdleCallback;const bc=t=>!!t.type.__asyncLoader,MA=t=>t.type.__isKeepAlive;function yD(t,e){NA(t,"a",e)}function _D(t,e){NA(t,"da",e)}function NA(t,e,n=Rn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(gp(e,r,n),n){let s=n.parent;for(;s&&s.parent;)MA(s.parent.vnode)&&wD(r,e,n,s),s=s.parent}}function wD(t,e,n,r){const s=gp(e,t,r,!0);gy(()=>{iy(r[e],s)},n)}function gp(t,e,n=Rn,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...l)=>{Gr();const c=ch(n),f=Ar(e,n,t,l);return c(),zr(),f});return r?s.unshift(a):s.push(a),a}}const ss=t=>(e,n=Rn)=>{(!Wc||t==="sp")&&gp(t,(...r)=>e(...r),n)},VA=ss("bm"),LA=ss("m"),FA=ss("bu"),UA=ss("u"),jA=ss("bum"),gy=ss("um"),bD=ss("sp"),ED=ss("rtg"),TD=ss("rtc");function ID(t,e=Rn){gp("ec",t,e)}const AD=Symbol.for("v-ndc");function ac(t,e,n,r){let s;const a=n,l=Se(t);if(l||Wt(t)){const c=l&&il(t);let f=!1,p=!1;c&&(f=!Si(t),p=Ls(t),t=pp(t)),s=new Array(t.length);for(let g=0,_=t.length;g<_;g++)s[g]=e(f?p?Cf(yn(t[g])):yn(t[g]):t[g],g,void 0,a)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,a)}else if(lt(t))if(t[Symbol.iterator])s=Array.from(t,(c,f)=>e(c,f,void 0,a));else{const c=Object.keys(t);s=new Array(c.length);for(let f=0,p=c.length;f<p;f++){const g=c[f];s[f]=e(t[g],g,f,a)}}else s=[];return s}const sv=t=>t?cS(t)?_p(t):sv(t.parent):null,Ec=xn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sv(t.parent),$root:t=>sv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>$A(t),$forceUpdate:t=>t.f||(t.f=()=>{py(t.update)}),$nextTick:t=>t.n||(t.n=CA.bind(t.proxy)),$watch:t=>zD.bind(t)}),wg=(t,e)=>t!==st&&!t.__isScriptSetup&&et(t,e),SD={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:c,appContext:f}=t;let p;if(e[0]!=="$"){const I=l[e];if(I!==void 0)switch(I){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(wg(r,e))return l[e]=1,r[e];if(s!==st&&et(s,e))return l[e]=2,s[e];if((p=t.propsOptions[0])&&et(p,e))return l[e]=3,a[e];if(n!==st&&et(n,e))return l[e]=4,n[e];ov&&(l[e]=0)}}const g=Ec[e];let _,b;if(g)return e==="$attrs"&&Pn(t.attrs,"get",""),g(t);if((_=c.__cssModules)&&(_=_[e]))return _;if(n!==st&&et(n,e))return l[e]=4,n[e];if(b=f.config.globalProperties,et(b,e))return b[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:a}=t;return wg(s,e)?(s[e]=n,!0):r!==st&&et(r,e)?(r[e]=n,!0):et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:a}},l){let c;return!!n[l]||t!==st&&et(t,l)||wg(e,l)||(c=a[0])&&et(c,l)||et(r,l)||et(Ec,l)||et(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function PD(){return CD().attrs}function CD(){const t=uS();return t.setupContext||(t.setupContext=dS(t))}function DE(t){return Se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ov=!0;function RD(t){const e=$A(t),n=t.proxy,r=t.ctx;ov=!1,e.beforeCreate&&OE(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:f,inject:p,created:g,beforeMount:_,mounted:b,beforeUpdate:I,updated:N,activated:T,deactivated:S,beforeDestroy:D,beforeUnmount:F,destroyed:B,unmounted:K,render:q,renderTracked:ie,renderTriggered:V,errorCaptured:P,serverPrefetch:C,expose:O,inheritAttrs:M,components:U,directives:R,filters:ge}=e;if(p&&kD(p,r,null),l)for(const De in l){const _e=l[De];Ne(_e)&&(r[De]=_e.bind(n))}if(s){const De=s.call(n,n);lt(De)&&(t.data=lh(De))}if(ov=!0,a)for(const De in a){const _e=a[De],dn=Ne(_e)?_e.bind(n,n):Ne(_e.get)?_e.get.bind(n,n):yr,En=!Ne(_e)&&Ne(_e.set)?_e.set.bind(n):yr,jn=fS({get:dn,set:En});Object.defineProperty(r,De,{enumerable:!0,configurable:!0,get:()=>jn.value,set:ht=>jn.value=ht})}if(c)for(const De in c)BA(c[De],r,n,De);if(f){const De=Ne(f)?f.call(n):f;Reflect.ownKeys(De).forEach(_e=>{WA(_e,De[_e])})}g&&OE(g,t,"c");function Et(De,_e){Se(_e)?_e.forEach(dn=>De(dn.bind(n))):_e&&De(_e.bind(n))}if(Et(VA,_),Et(LA,b),Et(FA,I),Et(UA,N),Et(yD,T),Et(_D,S),Et(ID,P),Et(TD,ie),Et(ED,V),Et(jA,F),Et(gy,K),Et(bD,C),Se(O))if(O.length){const De=t.exposed||(t.exposed={});O.forEach(_e=>{Object.defineProperty(De,_e,{get:()=>n[_e],set:dn=>n[_e]=dn})})}else t.exposed||(t.exposed={});q&&t.render===yr&&(t.render=q),M!=null&&(t.inheritAttrs=M),U&&(t.components=U),R&&(t.directives=R),C&&OA(t)}function kD(t,e,n=yr){Se(t)&&(t=av(t));for(const r in t){const s=t[r];let a;lt(s)?"default"in s?a=Tc(s.from||r,s.default,!0):a=Tc(s.from||r):a=Tc(s),kn(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function OE(t,e,n){Ar(Se(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function BA(t,e,n,r){let s=r.includes(".")?nS(n,r):()=>n[r];if(Wt(t)){const a=e[t];Ne(a)&&df(s,a)}else if(Ne(t))df(s,t.bind(n));else if(lt(t))if(Se(t))t.forEach(a=>BA(a,e,n,r));else{const a=Ne(t.handler)?t.handler.bind(n):e[t.handler];Ne(a)&&df(s,a,t)}}function $A(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,c=a.get(e);let f;return c?f=c:!s.length&&!n&&!r?f=e:(f={},s.length&&s.forEach(p=>Of(f,p,l,!0)),Of(f,e,l)),lt(e)&&a.set(e,f),f}function Of(t,e,n,r=!1){const{mixins:s,extends:a}=e;a&&Of(t,a,n,!0),s&&s.forEach(l=>Of(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=xD[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const xD={data:ME,props:NE,emits:NE,methods:lc,computed:lc,beforeCreate:Vn,created:Vn,beforeMount:Vn,mounted:Vn,beforeUpdate:Vn,updated:Vn,beforeDestroy:Vn,beforeUnmount:Vn,destroyed:Vn,unmounted:Vn,activated:Vn,deactivated:Vn,errorCaptured:Vn,serverPrefetch:Vn,components:lc,directives:lc,watch:OD,provide:ME,inject:DD};function ME(t,e){return e?t?function(){return xn(Ne(t)?t.call(this,this):t,Ne(e)?e.call(this,this):e)}:e:t}function DD(t,e){return lc(av(t),av(e))}function av(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vn(t,e){return t?[...new Set([].concat(t,e))]:e}function lc(t,e){return t?xn(Object.create(null),t,e):e}function NE(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:xn(Object.create(null),DE(t),DE(e??{})):e}function OD(t,e){if(!t)return e;if(!e)return t;const n=xn(Object.create(null),t);for(const r in e)n[r]=Vn(t[r],e[r]);return n}function HA(){return{app:null,config:{isNativeTag:Ix,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MD=0;function ND(t,e){return function(r,s=null){Ne(r)||(r=xn({},r)),s!=null&&!lt(s)&&(s=null);const a=HA(),l=new WeakSet,c=[];let f=!1;const p=a.app={_uid:MD++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:pO,get config(){return a.config},set config(g){},use(g,..._){return l.has(g)||(g&&Ne(g.install)?(l.add(g),g.install(p,..._)):Ne(g)&&(l.add(g),g(p,..._))),p},mixin(g){return a.mixins.includes(g)||a.mixins.push(g),p},component(g,_){return _?(a.components[g]=_,p):a.components[g]},directive(g,_){return _?(a.directives[g]=_,p):a.directives[g]},mount(g,_,b){if(!f){const I=p._ceVNode||mt(r,s);return I.appContext=a,b===!0?b="svg":b===!1&&(b=void 0),t(I,g,b),f=!0,p._container=g,g.__vue_app__=p,_p(I.component)}},onUnmount(g){c.push(g)},unmount(){f&&(Ar(c,p._instance,16),t(null,p._container),delete p._container.__vue_app__)},provide(g,_){return a.provides[g]=_,p},runWithContext(g){const _=sl;sl=p;try{return g()}finally{sl=_}}};return p}}let sl=null;function WA(t,e){if(Rn){let n=Rn.provides;const r=Rn.parent&&Rn.parent.provides;r===n&&(n=Rn.provides=Object.create(r)),n[t]=e}}function Tc(t,e,n=!1){const r=Rn||fi;if(r||sl){const s=sl?sl._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ne(e)?e.call(r&&r.proxy):e}}const KA={},qA=()=>Object.create(KA),GA=t=>Object.getPrototypeOf(t)===KA;function VD(t,e,n,r=!1){const s={},a=qA();t.propsDefaults=Object.create(null),zA(t,e,s,a);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:iD(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function LD(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=Ze(s),[f]=t.propsOptions;let p=!1;if((r||l>0)&&!(l&16)){if(l&8){const g=t.vnode.dynamicProps;for(let _=0;_<g.length;_++){let b=g[_];if(vp(t.emitsOptions,b))continue;const I=e[b];if(f)if(et(a,b))I!==a[b]&&(a[b]=I,p=!0);else{const N=Vs(b);s[N]=lv(f,c,N,I,t,!1)}else I!==a[b]&&(a[b]=I,p=!0)}}}else{zA(t,e,s,a)&&(p=!0);let g;for(const _ in c)(!e||!et(e,_)&&((g=Go(_))===_||!et(e,g)))&&(f?n&&(n[_]!==void 0||n[g]!==void 0)&&(s[_]=lv(f,c,_,void 0,t,!0)):delete s[_]);if(a!==c)for(const _ in a)(!e||!et(e,_))&&(delete a[_],p=!0)}p&&jr(t.attrs,"set","")}function zA(t,e,n,r){const[s,a]=t.propsOptions;let l=!1,c;if(e)for(let f in e){if(yc(f))continue;const p=e[f];let g;s&&et(s,g=Vs(f))?!a||!a.includes(g)?n[g]=p:(c||(c={}))[g]=p:vp(t.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,l=!0)}if(a){const f=Ze(n),p=c||st;for(let g=0;g<a.length;g++){const _=a[g];n[_]=lv(s,f,_,p[_],t,!et(p,_))}}return l}function lv(t,e,n,r,s,a){const l=t[n];if(l!=null){const c=et(l,"default");if(c&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Ne(f)){const{propsDefaults:p}=s;if(n in p)r=p[n];else{const g=ch(s);r=p[n]=f.call(null,e),g()}}else r=f;s.ce&&s.ce._setProp(n,r)}l[0]&&(a&&!c?r=!1:l[1]&&(r===""||r===Go(n))&&(r=!0))}return r}const FD=new WeakMap;function YA(t,e,n=!1){const r=n?FD:e.propsCache,s=r.get(t);if(s)return s;const a=t.props,l={},c=[];let f=!1;if(!Ne(t)){const g=_=>{f=!0;const[b,I]=YA(_,e,!0);xn(l,b),I&&c.push(...I)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!a&&!f)return lt(t)&&r.set(t,tl),tl;if(Se(a))for(let g=0;g<a.length;g++){const _=Vs(a[g]);VE(_)&&(l[_]=st)}else if(a)for(const g in a){const _=Vs(g);if(VE(_)){const b=a[g],I=l[_]=Se(b)||Ne(b)?{type:b}:xn({},b),N=I.type;let T=!1,S=!0;if(Se(N))for(let D=0;D<N.length;++D){const F=N[D],B=Ne(F)&&F.name;if(B==="Boolean"){T=!0;break}else B==="String"&&(S=!1)}else T=Ne(N)&&N.name==="Boolean";I[0]=T,I[1]=S,(T||et(I,"default"))&&c.push(_)}}const p=[l,c];return lt(t)&&r.set(t,p),p}function VE(t){return t[0]!=="$"&&!yc(t)}const vy=t=>t[0]==="_"||t==="$stable",yy=t=>Se(t)?t.map(dr):[dr(t)],UD=(t,e,n)=>{if(e._n)return e;const r=oc((...s)=>yy(e(...s)),n);return r._c=!1,r},XA=(t,e,n)=>{const r=t._ctx;for(const s in t){if(vy(s))continue;const a=t[s];if(Ne(a))e[s]=UD(s,a,r);else if(a!=null){const l=yy(a);e[s]=()=>l}}},JA=(t,e)=>{const n=yy(e);t.slots.default=()=>n},QA=(t,e,n)=>{for(const r in e)(n||!vy(r))&&(t[r]=e[r])},jD=(t,e,n)=>{const r=t.slots=qA();if(t.vnode.shapeFlag&32){const s=e._;s?(QA(r,e,n),n&&aA(r,"_",s,!0)):XA(e,r)}else e&&JA(t,e)},BD=(t,e,n)=>{const{vnode:r,slots:s}=t;let a=!0,l=st;if(r.shapeFlag&32){const c=e._;c?n&&c===1?a=!1:QA(s,e,n):(a=!e.$stable,XA(e,s)),l=e}else e&&(JA(t,e),l={default:1});if(a)for(const c in s)!vy(c)&&l[c]==null&&delete s[c]},ci=tO;function $D(t){return HD(t)}function HD(t,e){const n=dp();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:c,createComment:f,setText:p,setElementText:g,parentNode:_,nextSibling:b,setScopeId:I=yr,insertStaticContent:N}=t,T=(x,L,W,ee=null,Y=null,J=null,le=void 0,oe=null,re=!!L.dynamicChildren)=>{if(x===L)return;x&&!Zu(x,L)&&(ee=qt(x),ht(x,Y,J,!0),x=null),L.patchFlag===-2&&(re=!1,L.dynamicChildren=null);const{type:Q,ref:fe,shapeFlag:ae}=L;switch(Q){case yp:S(x,L,W,ee);break;case Yr:D(x,L,W,ee);break;case Eg:x==null&&F(L,W,ee,le);break;case Fn:U(x,L,W,ee,Y,J,le,oe,re);break;default:ae&1?q(x,L,W,ee,Y,J,le,oe,re):ae&6?R(x,L,W,ee,Y,J,le,oe,re):(ae&64||ae&128)&&Q.process(x,L,W,ee,Y,J,le,oe,re,ti)}fe!=null&&Y&&Df(fe,x&&x.ref,J,L||x,!L)},S=(x,L,W,ee)=>{if(x==null)r(L.el=c(L.children),W,ee);else{const Y=L.el=x.el;L.children!==x.children&&p(Y,L.children)}},D=(x,L,W,ee)=>{x==null?r(L.el=f(L.children||""),W,ee):L.el=x.el},F=(x,L,W,ee)=>{[x.el,x.anchor]=N(x.children,L,W,ee,x.el,x.anchor)},B=({el:x,anchor:L},W,ee)=>{let Y;for(;x&&x!==L;)Y=b(x),r(x,W,ee),x=Y;r(L,W,ee)},K=({el:x,anchor:L})=>{let W;for(;x&&x!==L;)W=b(x),s(x),x=W;s(L)},q=(x,L,W,ee,Y,J,le,oe,re)=>{L.type==="svg"?le="svg":L.type==="math"&&(le="mathml"),x==null?ie(L,W,ee,Y,J,le,oe,re):C(x,L,Y,J,le,oe,re)},ie=(x,L,W,ee,Y,J,le,oe)=>{let re,Q;const{props:fe,shapeFlag:ae,transition:he,dirs:be}=x;if(re=x.el=l(x.type,J,fe&&fe.is,fe),ae&8?g(re,x.children):ae&16&&P(x.children,re,null,ee,Y,bg(x,J),le,oe),be&&Io(x,null,ee,"created"),V(re,x,x.scopeId,le,ee),fe){for(const Ie in fe)Ie!=="value"&&!yc(Ie)&&a(re,Ie,null,fe[Ie],J,ee);"value"in fe&&a(re,"value",null,fe.value,J),(Q=fe.onVnodeBeforeMount)&&ur(Q,ee,x)}be&&Io(x,null,ee,"beforeMount");const ye=WD(Y,he);ye&&he.beforeEnter(re),r(re,L,W),((Q=fe&&fe.onVnodeMounted)||ye||be)&&ci(()=>{Q&&ur(Q,ee,x),ye&&he.enter(re),be&&Io(x,null,ee,"mounted")},Y)},V=(x,L,W,ee,Y)=>{if(W&&I(x,W),ee)for(let J=0;J<ee.length;J++)I(x,ee[J]);if(Y){let J=Y.subTree;if(L===J||rS(J.type)&&(J.ssContent===L||J.ssFallback===L)){const le=Y.vnode;V(x,le,le.scopeId,le.slotScopeIds,Y.parent)}}},P=(x,L,W,ee,Y,J,le,oe,re=0)=>{for(let Q=re;Q<x.length;Q++){const fe=x[Q]=oe?ks(x[Q]):dr(x[Q]);T(null,fe,L,W,ee,Y,J,le,oe)}},C=(x,L,W,ee,Y,J,le)=>{const oe=L.el=x.el;let{patchFlag:re,dynamicChildren:Q,dirs:fe}=L;re|=x.patchFlag&16;const ae=x.props||st,he=L.props||st;let be;if(W&&Ao(W,!1),(be=he.onVnodeBeforeUpdate)&&ur(be,W,L,x),fe&&Io(L,x,W,"beforeUpdate"),W&&Ao(W,!0),(ae.innerHTML&&he.innerHTML==null||ae.textContent&&he.textContent==null)&&g(oe,""),Q?O(x.dynamicChildren,Q,oe,W,ee,bg(L,Y),J):le||_e(x,L,oe,null,W,ee,bg(L,Y),J,!1),re>0){if(re&16)M(oe,ae,he,W,Y);else if(re&2&&ae.class!==he.class&&a(oe,"class",null,he.class,Y),re&4&&a(oe,"style",ae.style,he.style,Y),re&8){const ye=L.dynamicProps;for(let Ie=0;Ie<ye.length;Ie++){const Oe=ye[Ie],Gt=ae[Oe],zt=he[Oe];(zt!==Gt||Oe==="value")&&a(oe,Oe,Gt,zt,Y,W)}}re&1&&x.children!==L.children&&g(oe,L.children)}else!le&&Q==null&&M(oe,ae,he,W,Y);((be=he.onVnodeUpdated)||fe)&&ci(()=>{be&&ur(be,W,L,x),fe&&Io(L,x,W,"updated")},ee)},O=(x,L,W,ee,Y,J,le)=>{for(let oe=0;oe<L.length;oe++){const re=x[oe],Q=L[oe],fe=re.el&&(re.type===Fn||!Zu(re,Q)||re.shapeFlag&70)?_(re.el):W;T(re,Q,fe,null,ee,Y,J,le,!0)}},M=(x,L,W,ee,Y)=>{if(L!==W){if(L!==st)for(const J in L)!yc(J)&&!(J in W)&&a(x,J,L[J],null,Y,ee);for(const J in W){if(yc(J))continue;const le=W[J],oe=L[J];le!==oe&&J!=="value"&&a(x,J,oe,le,Y,ee)}"value"in W&&a(x,"value",L.value,W.value,Y)}},U=(x,L,W,ee,Y,J,le,oe,re)=>{const Q=L.el=x?x.el:c(""),fe=L.anchor=x?x.anchor:c("");let{patchFlag:ae,dynamicChildren:he,slotScopeIds:be}=L;be&&(oe=oe?oe.concat(be):be),x==null?(r(Q,W,ee),r(fe,W,ee),P(L.children||[],W,fe,Y,J,le,oe,re)):ae>0&&ae&64&&he&&x.dynamicChildren?(O(x.dynamicChildren,he,W,Y,J,le,oe),(L.key!=null||Y&&L===Y.subTree)&&ZA(x,L,!0)):_e(x,L,W,fe,Y,J,le,oe,re)},R=(x,L,W,ee,Y,J,le,oe,re)=>{L.slotScopeIds=oe,x==null?L.shapeFlag&512?Y.ctx.activate(L,W,ee,le,re):ge(L,W,ee,Y,J,le,re):yt(x,L,re)},ge=(x,L,W,ee,Y,J,le)=>{const oe=x.component=uO(x,ee,Y);if(MA(x)&&(oe.ctx.renderer=ti),cO(oe,!1,le),oe.asyncDep){if(Y&&Y.registerDep(oe,Et,le),!x.el){const re=oe.subTree=mt(Yr);D(null,re,L,W)}}else Et(oe,x,L,W,Y,J,le)},yt=(x,L,W)=>{const ee=L.component=x.component;if(ZD(x,L,W))if(ee.asyncDep&&!ee.asyncResolved){De(ee,L,W);return}else ee.next=L,ee.update();else L.el=x.el,ee.vnode=L},Et=(x,L,W,ee,Y,J,le)=>{const oe=()=>{if(x.isMounted){let{next:ae,bu:he,u:be,parent:ye,vnode:Ie}=x;{const xt=eS(x);if(xt){ae&&(ae.el=Ie.el,De(x,ae,le)),xt.asyncDep.then(()=>{x.isUnmounted||oe()});return}}let Oe=ae,Gt;Ao(x,!1),ae?(ae.el=Ie.el,De(x,ae,le)):ae=Ie,he&&cf(he),(Gt=ae.props&&ae.props.onVnodeBeforeUpdate)&&ur(Gt,ye,ae,Ie),Ao(x,!0);const zt=FE(x),Bn=x.subTree;x.subTree=zt,T(Bn,zt,_(Bn.el),qt(Bn),x,Y,J),ae.el=zt.el,Oe===null&&eO(x,zt.el),be&&ci(be,Y),(Gt=ae.props&&ae.props.onVnodeUpdated)&&ci(()=>ur(Gt,ye,ae,Ie),Y)}else{let ae;const{el:he,props:be}=L,{bm:ye,m:Ie,parent:Oe,root:Gt,type:zt}=x,Bn=bc(L);Ao(x,!1),ye&&cf(ye),!Bn&&(ae=be&&be.onVnodeBeforeMount)&&ur(ae,Oe,L),Ao(x,!0);{Gt.ce&&Gt.ce._injectChildStyle(zt);const xt=x.subTree=FE(x);T(null,xt,W,ee,x,Y,J),L.el=xt.el}if(Ie&&ci(Ie,Y),!Bn&&(ae=be&&be.onVnodeMounted)){const xt=L;ci(()=>ur(ae,Oe,xt),Y)}(L.shapeFlag&256||Oe&&bc(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&x.a&&ci(x.a,Y),x.isMounted=!0,L=W=ee=null}};x.scope.on();const re=x.effect=new hA(oe);x.scope.off();const Q=x.update=re.run.bind(re),fe=x.job=re.runIfDirty.bind(re);fe.i=x,fe.id=x.uid,re.scheduler=()=>py(fe),Ao(x,!0),Q()},De=(x,L,W)=>{L.component=x;const ee=x.vnode.props;x.vnode=L,x.next=null,LD(x,L.props,ee,W),BD(x,L.children,W),Gr(),xE(x),zr()},_e=(x,L,W,ee,Y,J,le,oe,re=!1)=>{const Q=x&&x.children,fe=x?x.shapeFlag:0,ae=L.children,{patchFlag:he,shapeFlag:be}=L;if(he>0){if(he&128){En(Q,ae,W,ee,Y,J,le,oe,re);return}else if(he&256){dn(Q,ae,W,ee,Y,J,le,oe,re);return}}be&8?(fe&16&&Dn(Q,Y,J),ae!==Q&&g(W,ae)):fe&16?be&16?En(Q,ae,W,ee,Y,J,le,oe,re):Dn(Q,Y,J,!0):(fe&8&&g(W,""),be&16&&P(ae,W,ee,Y,J,le,oe,re))},dn=(x,L,W,ee,Y,J,le,oe,re)=>{x=x||tl,L=L||tl;const Q=x.length,fe=L.length,ae=Math.min(Q,fe);let he;for(he=0;he<ae;he++){const be=L[he]=re?ks(L[he]):dr(L[he]);T(x[he],be,W,null,Y,J,le,oe,re)}Q>fe?Dn(x,Y,J,!0,!1,ae):P(L,W,ee,Y,J,le,oe,re,ae)},En=(x,L,W,ee,Y,J,le,oe,re)=>{let Q=0;const fe=L.length;let ae=x.length-1,he=fe-1;for(;Q<=ae&&Q<=he;){const be=x[Q],ye=L[Q]=re?ks(L[Q]):dr(L[Q]);if(Zu(be,ye))T(be,ye,W,null,Y,J,le,oe,re);else break;Q++}for(;Q<=ae&&Q<=he;){const be=x[ae],ye=L[he]=re?ks(L[he]):dr(L[he]);if(Zu(be,ye))T(be,ye,W,null,Y,J,le,oe,re);else break;ae--,he--}if(Q>ae){if(Q<=he){const be=he+1,ye=be<fe?L[be].el:ee;for(;Q<=he;)T(null,L[Q]=re?ks(L[Q]):dr(L[Q]),W,ye,Y,J,le,oe,re),Q++}}else if(Q>he)for(;Q<=ae;)ht(x[Q],Y,J,!0),Q++;else{const be=Q,ye=Q,Ie=new Map;for(Q=ye;Q<=he;Q++){const Yt=L[Q]=re?ks(L[Q]):dr(L[Q]);Yt.key!=null&&Ie.set(Yt.key,Q)}let Oe,Gt=0;const zt=he-ye+1;let Bn=!1,xt=0;const ni=new Array(zt);for(Q=0;Q<zt;Q++)ni[Q]=0;for(Q=be;Q<=ae;Q++){const Yt=x[Q];if(Gt>=zt){ht(Yt,Y,J,!0);continue}let $n;if(Yt.key!=null)$n=Ie.get(Yt.key);else for(Oe=ye;Oe<=he;Oe++)if(ni[Oe-ye]===0&&Zu(Yt,L[Oe])){$n=Oe;break}$n===void 0?ht(Yt,Y,J,!0):(ni[$n-ye]=Q+1,$n>=xt?xt=$n:Bn=!0,T(Yt,L[$n],W,null,Y,J,le,oe,re),Gt++)}const ii=Bn?KD(ni):tl;for(Oe=ii.length-1,Q=zt-1;Q>=0;Q--){const Yt=ye+Q,$n=L[Yt],Ys=Yt+1<fe?L[Yt+1].el:ee;ni[Q]===0?T(null,$n,W,Ys,Y,J,le,oe,re):Bn&&(Oe<0||Q!==ii[Oe]?jn($n,W,Ys,2):Oe--)}}},jn=(x,L,W,ee,Y=null)=>{const{el:J,type:le,transition:oe,children:re,shapeFlag:Q}=x;if(Q&6){jn(x.component.subTree,L,W,ee);return}if(Q&128){x.suspense.move(L,W,ee);return}if(Q&64){le.move(x,L,W,ti);return}if(le===Fn){r(J,L,W);for(let ae=0;ae<re.length;ae++)jn(re[ae],L,W,ee);r(x.anchor,L,W);return}if(le===Eg){B(x,L,W);return}if(ee!==2&&Q&1&&oe)if(ee===0)oe.beforeEnter(J),r(J,L,W),ci(()=>oe.enter(J),Y);else{const{leave:ae,delayLeave:he,afterLeave:be}=oe,ye=()=>{x.ctx.isUnmounted?s(J):r(J,L,W)},Ie=()=>{ae(J,()=>{ye(),be&&be()})};he?he(J,ye,Ie):Ie()}else r(J,L,W)},ht=(x,L,W,ee=!1,Y=!1)=>{const{type:J,props:le,ref:oe,children:re,dynamicChildren:Q,shapeFlag:fe,patchFlag:ae,dirs:he,cacheIndex:be}=x;if(ae===-2&&(Y=!1),oe!=null&&(Gr(),Df(oe,null,W,x,!0),zr()),be!=null&&(L.renderCache[be]=void 0),fe&256){L.ctx.deactivate(x);return}const ye=fe&1&&he,Ie=!bc(x);let Oe;if(Ie&&(Oe=le&&le.onVnodeBeforeUnmount)&&ur(Oe,L,x),fe&6)ot(x.component,W,ee);else{if(fe&128){x.suspense.unmount(W,ee);return}ye&&Io(x,null,L,"beforeUnmount"),fe&64?x.type.remove(x,L,W,ti,ee):Q&&!Q.hasOnce&&(J!==Fn||ae>0&&ae&64)?Dn(Q,L,W,!1,!0):(J===Fn&&ae&384||!Y&&fe&16)&&Dn(re,L,W),ee&&dt(x)}(Ie&&(Oe=le&&le.onVnodeUnmounted)||ye)&&ci(()=>{Oe&&ur(Oe,L,x),ye&&Io(x,null,L,"unmounted")},W)},dt=x=>{const{type:L,el:W,anchor:ee,transition:Y}=x;if(L===Fn){us(W,ee);return}if(L===Eg){K(x);return}const J=()=>{s(W),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(x.shapeFlag&1&&Y&&!Y.persisted){const{leave:le,delayLeave:oe}=Y,re=()=>le(W,J);oe?oe(x.el,J,re):re()}else J()},us=(x,L)=>{let W;for(;x!==L;)W=b(x),s(x),x=W;s(L)},ot=(x,L,W)=>{const{bum:ee,scope:Y,job:J,subTree:le,um:oe,m:re,a:Q,parent:fe,slots:{__:ae}}=x;LE(re),LE(Q),ee&&cf(ee),fe&&Se(ae)&&ae.forEach(he=>{fe.renderCache[he]=void 0}),Y.stop(),J&&(J.flags|=8,ht(le,x,L,W)),oe&&ci(oe,L),ci(()=>{x.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Dn=(x,L,W,ee=!1,Y=!1,J=0)=>{for(let le=J;le<x.length;le++)ht(x[le],L,W,ee,Y)},qt=x=>{if(x.shapeFlag&6)return qt(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const L=b(x.anchor||x.el),W=L&&L[mD];return W?b(W):L};let ei=!1;const vi=(x,L,W)=>{x==null?L._vnode&&ht(L._vnode,null,null,!0):T(L._vnode||null,x,L,null,null,null,W),L._vnode=x,ei||(ei=!0,xE(),kA(),ei=!1)},ti={p:T,um:ht,m:jn,r:dt,mt:ge,mc:P,pc:_e,pbc:O,n:qt,o:t};return{render:vi,hydrate:void 0,createApp:ND(vi)}}function bg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ao({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function WD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ZA(t,e,n=!1){const r=t.children,s=e.children;if(Se(r)&&Se(s))for(let a=0;a<r.length;a++){const l=r[a];let c=s[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[a]=ks(s[a]),c.el=l.el),!n&&c.patchFlag!==-2&&ZA(l,c)),c.type===yp&&(c.el=l.el),c.type===Yr&&!c.el&&(c.el=l.el)}}function KD(t){const e=t.slice(),n=[0];let r,s,a,l,c;const f=t.length;for(r=0;r<f;r++){const p=t[r];if(p!==0){if(s=n[n.length-1],t[s]<p){e[r]=s,n.push(r);continue}for(a=0,l=n.length-1;a<l;)c=a+l>>1,t[n[c]]<p?a=c+1:l=c;p<t[n[a]]&&(a>0&&(e[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=e[l];return n}function eS(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:eS(e)}function LE(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const qD=Symbol.for("v-scx"),GD=()=>Tc(qD);function df(t,e,n){return tS(t,e,n)}function tS(t,e,n=st){const{immediate:r,deep:s,flush:a,once:l}=n,c=xn({},n),f=e&&r||!e&&a!=="post";let p;if(Wc){if(a==="sync"){const I=GD();p=I.__watcherHandles||(I.__watcherHandles=[])}else if(!f){const I=()=>{};return I.stop=yr,I.resume=yr,I.pause=yr,I}}const g=Rn;c.call=(I,N,T)=>Ar(I,g,N,T);let _=!1;a==="post"?c.scheduler=I=>{ci(I,g&&g.suspense)}:a!=="sync"&&(_=!0,c.scheduler=(I,N)=>{N?I():py(I)}),c.augmentJob=I=>{e&&(I.flags|=4),_&&(I.flags|=2,g&&(I.id=g.uid,I.i=g))};const b=hD(t,e,c);return Wc&&(p?p.push(b):f&&b()),b}function zD(t,e,n){const r=this.proxy,s=Wt(t)?t.includes(".")?nS(r,t):()=>r[t]:t.bind(r,r);let a;Ne(e)?a=e:(a=e.handler,n=e);const l=ch(this),c=tS(s,a.bind(r),n);return l(),c}function nS(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const YD=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Vs(e)}Modifiers`]||t[`${Go(e)}Modifiers`];function XD(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||st;let s=n;const a=e.startsWith("update:"),l=a&&YD(r,e.slice(7));l&&(l.trim&&(s=n.map(g=>Wt(g)?g.trim():g)),l.number&&(s=n.map(Pf)));let c,f=r[c=mg(e)]||r[c=mg(Vs(e))];!f&&a&&(f=r[c=mg(Go(e))]),f&&Ar(f,t,6,s);const p=r[c+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Ar(p,t,6,s)}}function iS(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const a=t.emits;let l={},c=!1;if(!Ne(t)){const f=p=>{const g=iS(p,e,!0);g&&(c=!0,xn(l,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!a&&!c?(lt(t)&&r.set(t,null),null):(Se(a)?a.forEach(f=>l[f]=null):xn(l,a),lt(t)&&r.set(t,l),l)}function vp(t,e){return!t||!up(e)?!1:(e=e.slice(2).replace(/Once$/,""),et(t,e[0].toLowerCase()+e.slice(1))||et(t,Go(e))||et(t,e))}function FE(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[a],slots:l,attrs:c,emit:f,render:p,renderCache:g,props:_,data:b,setupState:I,ctx:N,inheritAttrs:T}=t,S=xf(t);let D,F;try{if(n.shapeFlag&4){const K=s||r,q=K;D=dr(p.call(q,K,g,_,I,b,N)),F=c}else{const K=e;D=dr(K.length>1?K(_,{attrs:c,slots:l,emit:f}):K(_,null)),F=e.props?c:JD(c)}}catch(K){Ic.length=0,mp(K,t,1),D=mt(Yr)}let B=D;if(F&&T!==!1){const K=Object.keys(F),{shapeFlag:q}=B;K.length&&q&7&&(a&&K.some(ny)&&(F=QD(F,a)),B=jo(B,F,!1,!0))}return n.dirs&&(B=jo(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&my(B,n.transition),D=B,xf(S),D}const JD=t=>{let e;for(const n in t)(n==="class"||n==="style"||up(n))&&((e||(e={}))[n]=t[n]);return e},QD=(t,e)=>{const n={};for(const r in t)(!ny(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function ZD(t,e,n){const{props:r,children:s,component:a}=t,{props:l,children:c,patchFlag:f}=e,p=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?UE(r,l,p):!!l;if(f&8){const g=e.dynamicProps;for(let _=0;_<g.length;_++){const b=g[_];if(l[b]!==r[b]&&!vp(p,b))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?UE(r,l,p):!0:!!l;return!1}function UE(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(e[a]!==t[a]&&!vp(n,a))return!0}return!1}function eO({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const rS=t=>t.__isSuspense;function tO(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):pD(t)}const Fn=Symbol.for("v-fgt"),yp=Symbol.for("v-txt"),Yr=Symbol.for("v-cmt"),Eg=Symbol.for("v-stc"),Ic=[];let pi=null;function wt(t=!1){Ic.push(pi=t?null:[])}function nO(){Ic.pop(),pi=Ic[Ic.length-1]||null}let Hc=1;function jE(t,e=!1){Hc+=t,t<0&&pi&&e&&(pi.hasOnce=!0)}function sS(t){return t.dynamicChildren=Hc>0?pi||tl:null,nO(),Hc>0&&pi&&pi.push(t),t}function Vt(t,e,n,r,s,a){return sS(Ce(t,e,n,r,s,a,!0))}function oS(t,e,n,r,s){return sS(mt(t,e,n,r,s,!0))}function Mf(t){return t?t.__v_isVNode===!0:!1}function Zu(t,e){return t.type===e.type&&t.key===e.key}const aS=({key:t})=>t??null,ff=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Wt(t)||kn(t)||Ne(t)?{i:fi,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,s=null,a=t===Fn?0:1,l=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&aS(e),ref:e&&ff(e),scopeId:DA,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:fi};return c?(_y(f,n),a&128&&t.normalize(f)):n&&(f.shapeFlag|=Wt(n)?8:16),Hc>0&&!l&&pi&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&pi.push(f),f}const mt=iO;function iO(t,e=null,n=null,r=0,s=null,a=!1){if((!t||t===AD)&&(t=Yr),Mf(t)){const c=jo(t,e,!0);return n&&_y(c,n),Hc>0&&!a&&pi&&(c.shapeFlag&6?pi[pi.indexOf(t)]=c:pi.push(c)),c.patchFlag=-2,c}if(fO(t)&&(t=t.__vccOpts),e){e=rO(e);let{class:c,style:f}=e;c&&!Wt(c)&&(e.class=oy(c)),lt(f)&&(fy(f)&&!Se(f)&&(f=xn({},f)),e.style=sy(f))}const l=Wt(t)?1:rS(t)?128:gD(t)?64:lt(t)?4:Ne(t)?2:0;return Ce(t,e,n,r,s,l,a,!0)}function rO(t){return t?fy(t)||GA(t)?xn({},t):t:null}function jo(t,e,n=!1,r=!1){const{props:s,ref:a,patchFlag:l,children:c,transition:f}=t,p=e?lS(s||{},e):s,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:p,key:p&&aS(p),ref:e&&e.ref?n&&a?Se(a)?a.concat(ff(e)):[a,ff(e)]:ff(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fn?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jo(t.ssContent),ssFallback:t.ssFallback&&jo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&r&&my(g,f.clone(g)),g}function sO(t=" ",e=0){return mt(yp,null,t,e)}function oO(t="",e=!1){return e?(wt(),oS(Yr,null,t)):mt(Yr,null,t)}function dr(t){return t==null||typeof t=="boolean"?mt(Yr):Se(t)?mt(Fn,null,t.slice()):Mf(t)?ks(t):mt(yp,null,String(t))}function ks(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jo(t)}function _y(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),_y(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!GA(e)?e._ctx=fi:s===3&&fi&&(fi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ne(e)?(e={default:e,_ctx:fi},n=32):(e=String(e),r&64?(n=16,e=[sO(e)]):n=8);t.children=e,t.shapeFlag|=n}function lS(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=oy([e.class,r.class]));else if(s==="style")e.style=sy([e.style,r.style]);else if(up(s)){const a=e[s],l=r[s];l&&a!==l&&!(Se(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=r[s])}return e}function ur(t,e,n,r=null){Ar(t,e,7,[n,r])}const aO=HA();let lO=0;function uO(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||aO,a={uid:lO++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Lx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YA(r,s),emitsOptions:iS(r,s),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=XD.bind(null,a),t.ce&&t.ce(a),a}let Rn=null;const uS=()=>Rn||fi;let Nf,uv;{const t=dp(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};Nf=e("__VUE_INSTANCE_SETTERS__",n=>Rn=n),uv=e("__VUE_SSR_SETTERS__",n=>Wc=n)}const ch=t=>{const e=Rn;return Nf(t),t.scope.on(),()=>{t.scope.off(),Nf(e)}},BE=()=>{Rn&&Rn.scope.off(),Nf(null)};function cS(t){return t.vnode.shapeFlag&4}let Wc=!1;function cO(t,e=!1,n=!1){e&&uv(e);const{props:r,children:s}=t.vnode,a=cS(t);VD(t,r,a,e),jD(t,s,n||e);const l=a?hO(t,e):void 0;return e&&uv(!1),l}function hO(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,SD);const{setup:r}=n;if(r){Gr();const s=t.setupContext=r.length>1?dS(t):null,a=ch(t),l=uh(r,t,0,[t.props,s]),c=iA(l);if(zr(),a(),(c||t.sp)&&!bc(t)&&OA(t),c){if(l.then(BE,BE),e)return l.then(f=>{$E(t,f)}).catch(f=>{mp(f,t,0)});t.asyncDep=l}else $E(t,l)}else hS(t)}function $E(t,e,n){Ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=SA(e)),hS(t)}function hS(t,e,n){const r=t.type;t.render||(t.render=r.render||yr);{const s=ch(t);Gr();try{RD(t)}finally{zr(),s()}}}const dO={get(t,e){return Pn(t,"get",""),t[e]}};function dS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,dO),slots:t.slots,emit:t.emit,expose:e}}function _p(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(SA(rD(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ec)return Ec[n](t)},has(e,n){return n in e||n in Ec}})):t.proxy}function fO(t){return Ne(t)&&"__vccOpts"in t}const fS=(t,e)=>uD(t,e,Wc);function pS(t,e,n){const r=arguments.length;return r===2?lt(e)&&!Se(e)?Mf(e)?mt(t,null,[e]):mt(t,e):mt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mf(n)&&(n=[n]),mt(t,e,n))}const pO="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cv;const HE=typeof window<"u"&&window.trustedTypes;if(HE)try{cv=HE.createPolicy("vue",{createHTML:t=>t})}catch{}const mS=cv?t=>cv.createHTML(t):t=>t,mO="http://www.w3.org/2000/svg",gO="http://www.w3.org/1998/Math/MathML",Ur=typeof document<"u"?document:null,WE=Ur&&Ur.createElement("template"),vO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ur.createElementNS(mO,t):e==="mathml"?Ur.createElementNS(gO,t):n?Ur.createElement(t,{is:n}):Ur.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ur.createTextNode(t),createComment:t=>Ur.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ur.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,a){const l=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{WE.innerHTML=mS(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=WE.content;if(r==="svg"||r==="mathml"){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},yO=Symbol("_vtc");function _O(t,e,n){const r=t[yO];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const KE=Symbol("_vod"),wO=Symbol("_vsh"),bO=Symbol(""),EO=/(^|;)\s*display\s*:/;function TO(t,e,n){const r=t.style,s=Wt(n);let a=!1;if(n&&!s){if(e)if(Wt(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&pf(r,c,"")}else for(const l in e)n[l]==null&&pf(r,l,"");for(const l in n)l==="display"&&(a=!0),pf(r,l,n[l])}else if(s){if(e!==n){const l=r[bO];l&&(n+=";"+l),r.cssText=n,a=EO.test(n)}}else e&&t.removeAttribute("style");KE in t&&(t[KE]=a?r.display:"",t[wO]&&(r.display="none"))}const qE=/\s*!important$/;function pf(t,e,n){if(Se(n))n.forEach(r=>pf(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=IO(t,e);qE.test(n)?t.setProperty(Go(r),n.replace(qE,""),"important"):t[r]=n}}const GE=["Webkit","Moz","ms"],Tg={};function IO(t,e){const n=Tg[e];if(n)return n;let r=Vs(e);if(r!=="filter"&&r in t)return Tg[e]=r;r=oA(r);for(let s=0;s<GE.length;s++){const a=GE[s]+r;if(a in t)return Tg[e]=a}return e}const zE="http://www.w3.org/1999/xlink";function YE(t,e,n,r,s,a=Mx(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(zE,e.slice(6,e.length)):t.setAttributeNS(zE,e,n):n==null||a&&!lA(n)?t.removeAttribute(e):t.setAttribute(e,a?"":Ir(n)?String(n):n)}function XE(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?mS(n):n);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,f=n==null?t.type==="checkbox"?"on":"":String(n);(c!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=lA(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(s||e)}function Ro(t,e,n,r){t.addEventListener(e,n,r)}function AO(t,e,n,r){t.removeEventListener(e,n,r)}const JE=Symbol("_vei");function SO(t,e,n,r,s=null){const a=t[JE]||(t[JE]={}),l=a[e];if(r&&l)l.value=r;else{const[c,f]=PO(e);if(r){const p=a[e]=kO(r,s);Ro(t,c,p,f)}else l&&(AO(t,c,l,f),a[e]=void 0)}}const QE=/(?:Once|Passive|Capture)$/;function PO(t){let e;if(QE.test(t)){e={};let r;for(;r=t.match(QE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Go(t.slice(2)),e]}let Ig=0;const CO=Promise.resolve(),RO=()=>Ig||(CO.then(()=>Ig=0),Ig=Date.now());function kO(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ar(xO(r,n.value),e,5,[r])};return n.value=t,n.attached=RO(),n}function xO(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const ZE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,DO=(t,e,n,r,s,a)=>{const l=s==="svg";e==="class"?_O(t,r,l):e==="style"?TO(t,n,r):up(e)?ny(e)||SO(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):OO(t,e,r,l))?(XE(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&YE(t,e,r,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Wt(r))?XE(t,Vs(e),r,a,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),YE(t,e,r,l))};function OO(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ZE(e)&&Ne(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ZE(e)&&Wt(n)?!1:e in t}const Vf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?n=>cf(e,n):e};function MO(t){t.target.composing=!0}function eT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ol=Symbol("_assign"),Ag={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ol]=Vf(s);const a=r||s.props&&s.props.type==="number";Ro(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),a&&(c=Pf(c)),t[ol](c)}),n&&Ro(t,"change",()=>{t.value=t.value.trim()}),e||(Ro(t,"compositionstart",MO),Ro(t,"compositionend",eT),Ro(t,"change",eT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:a}},l){if(t[ol]=Vf(l),t.composing)return;const c=(a||t.type==="number")&&!/^0\d/.test(t.value)?Pf(t.value):t.value,f=e??"";c!==f&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===f)||(t.value=f))}},NO={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=cp(e);Ro(t,"change",()=>{const a=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?Pf(Lf(l)):Lf(l));t[ol](t.multiple?s?new Set(a):a:a[0]),t._assigning=!0,CA(()=>{t._assigning=!1})}),t[ol]=Vf(r)},mounted(t,{value:e}){tT(t,e)},beforeUpdate(t,e,n){t[ol]=Vf(n)},updated(t,{value:e}){t._assigning||tT(t,e)}};function tT(t,e){const n=t.multiple,r=Se(e);if(!(n&&!r&&!cp(e))){for(let s=0,a=t.options.length;s<a;s++){const l=t.options[s],c=Lf(l);if(n)if(r){const f=typeof c;f==="string"||f==="number"?l.selected=e.some(p=>String(p)===String(c)):l.selected=Vx(e,c)>-1}else l.selected=e.has(c);else if(fp(Lf(l),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Lf(t){return"_value"in t?t._value:t.value}const VO=["ctrl","shift","alt","meta"],LO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>VO.some(n=>t[`${n}Key`]&&!e.includes(n))},Xa=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...a)=>{for(let l=0;l<e.length;l++){const c=LO[e[l]];if(c&&c(s,e))return}return t(s,...a)})},FO=xn({patchProp:DO},vO);let nT;function UO(){return nT||(nT=$D(FO))}const jO=(...t)=>{const e=UO().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=$O(r);if(!s)return;const a=e._component;!Ne(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,BO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function BO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $O(t){return Wt(t)?document.querySelector(t):t}const HO={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},WO={class:"bg-slate-300/80 rounded-lg shadow-xl w-full max-w-md overflow-hidden"},KO={class:"p-6"},qO={key:0,class:"text-xl font-semibold text-gray-800 mb-4"},GO={key:1,class:"text-xl font-semibold text-gray-800 mb-4"},zO={class:"mb-4"},YO={class:"mb-6"},XO={class:"mb-4"},JO={__name:"Popup",props:{isTask:Boolean,isPopupOpen:Boolean},emits:["close","submitTask","submitProject"],setup(t,{emit:e}){const n=t,r=e,s=di(""),a=di(""),l=di(""),c=()=>{r("close")},f=()=>{r("submitTask",{id:Date.now(),title:s.value,description:a.value}),a.value="",s.value=""},p=()=>{r("submitProject",l.value),l.value=""};return(g,_)=>t.isPopupOpen?(wt(),Vt("div",HO,[Ce("div",WO,[Ce("div",KO,[n.isTask?(wt(),Vt("h3",qO," Add new task ")):(wt(),Vt("h3",GO," Add new project ")),n.isTask?(wt(),Vt("form",{key:2,onSubmit:Xa(f,["prevent"])},[Ce("div",zO,[_[3]||(_[3]=Ce("label",{for:"task-title",class:"block text-sm font-medium text-gray-700 mb-1"},"Task",-1)),hf(Ce("input",{id:"task-title",type:"text","onUpdate:modelValue":_[0]||(_[0]=b=>s.value=b),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task name",required:""},null,512),[[Ag,s.value]])]),Ce("div",YO,[_[4]||(_[4]=Ce("label",{for:"task-description",class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),hf(Ce("textarea",{id:"task-description","onUpdate:modelValue":_[1]||(_[1]=b=>a.value=b),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter task description"},null,512),[[Ag,a.value]])]),Ce("div",{class:"flex justify-end space-x-3"},[Ce("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition"}," Cancel "),_[5]||(_[5]=Ce("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition"}," Save ",-1))])],32)):(wt(),Vt("form",{key:3,onSubmit:Xa(p,["prevent"])},[Ce("div",XO,[_[6]||(_[6]=Ce("label",{for:"task-title",class:"block text-sm font-medium text-gray-700 mb-1"},"Project",-1)),hf(Ce("input",{id:"task-title",type:"text","onUpdate:modelValue":_[2]||(_[2]=b=>l.value=b),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project name",required:""},null,512),[[Ag,l.value]])]),Ce("div",{class:"flex justify-end space-x-3"},[Ce("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition"}," Cancel "),_[7]||(_[7]=Ce("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition"}," Save ",-1))])],32))])])])):oO("",!0)}};var iT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let b=(c&15)<<2|p>>6,I=p&63;f||(I=64,l||(b=64)),r.push(n[g],n[_],n[b],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||_==null)throw new ZO;const b=a<<2|c>>4;if(r.push(b),p!==64){const I=c<<4&240|p>>2;if(r.push(I),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eM=function(t){const e=gS(t);return vS.encodeByteArray(e,!0)},Ff=function(t){return eM(t).replace(/\./g,"")},yS=function(t){try{return vS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Uf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tM(n)||(t[n]=Uf(t[n],e[n]));return t}function tM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=()=>_S().__FIREBASE_DEFAULTS__,iM=()=>{if(typeof process>"u"||typeof iT>"u")return;const t=iT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yS(t[1]);return e&&JSON.parse(e)},wp=()=>{try{return nM()||iM()||rM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wS=t=>{var e,n;return(n=(e=wp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sM=t=>{const e=wS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bS=()=>{var t;return(t=wp())===null||t===void 0?void 0:t.config},ES=t=>{var e;return(e=wp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ff(JSON.stringify(n)),Ff(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function wy(){var t;const e=(t=wp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uM(){return typeof window<"u"||TS()}function TS(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function cM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function by(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AS(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hM(){return!wy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jf(){try{return typeof indexedDB=="object"}catch{return!1}}function dM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="FirebaseError";class Un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fM,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?pM(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Un(s,c,r)}}function pM(t,e){return t.replace(mM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(sT(a)&&sT(l)){if(!Kc(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function sT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SS(t,e){const n=new vM(t,e);return n.subscribe.bind(n)}class vM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Sg),s.error===void 0&&(s.error=Sg),s.complete===void 0&&(s.complete=Sg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class Xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bM(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wM(t){return t===Po?void 0:t}function bM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _M(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=[];var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const CS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},EM=Be.INFO,TM={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},IM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=TM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=IM,this._userLogHandler=null,Ey.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function AM(t){Ey.forEach(e=>{e.setLogLevel(t)})}function SM(t,e){for(const n of Ey){let r=null;e&&e.level&&(r=CS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,a,...l)=>{const c=l.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");a>=(r??s.logLevel)&&t({level:Be[a].toLowerCase(),message:c,args:l,type:s.name})}}}const PM=(t,e)=>e.some(n=>t instanceof n);let oT,aT;function CM(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RM(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RS=new WeakMap,hv=new WeakMap,kS=new WeakMap,Pg=new WeakMap,Ty=new WeakMap;function kM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ms(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&RS.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function xM(t){if(hv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});hv.set(t,e)}let dv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DM(t){dv=t(dv)}function OM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cg(this),e,...n);return kS.set(r,e.sort?e.sort():[e]),Ms(r)}:RM().includes(t)?function(...e){return t.apply(Cg(this),e),Ms(RS.get(this))}:function(...e){return Ms(t.apply(Cg(this),e))}}function MM(t){return typeof t=="function"?OM(t):(t instanceof IDBTransaction&&xM(t),PM(t,CM())?new Proxy(t,dv):t)}function Ms(t){if(t instanceof IDBRequest)return kM(t);if(Pg.has(t))return Pg.get(t);const e=MM(t);return e!==t&&(Pg.set(t,e),Ty.set(e,t)),e}const Cg=t=>Ty.get(t);function NM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Ms(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ms(l.result),f.oldVersion,f.newVersion,Ms(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const VM=["get","getKey","getAll","getAllKeys","count"],LM=["put","add","delete","clear"],Rg=new Map;function lT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=LM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VM.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&f.done]))[0]};return Rg.set(e,a),a}DM(t=>({...t,get:(e,n,r)=>lT(e,n)||t.get(e,n,r),has:(e,n)=>!!lT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",fv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new bp("@firebase/app"),jM="@firebase/app-compat",BM="@firebase/analytics-compat",$M="@firebase/analytics",HM="@firebase/app-check-compat",WM="@firebase/app-check",KM="@firebase/auth",qM="@firebase/auth-compat",GM="@firebase/database",zM="@firebase/data-connect",YM="@firebase/database-compat",XM="@firebase/functions",JM="@firebase/functions-compat",QM="@firebase/installations",ZM="@firebase/installations-compat",eN="@firebase/messaging",tN="@firebase/messaging-compat",nN="@firebase/performance",iN="@firebase/performance-compat",rN="@firebase/remote-config",sN="@firebase/remote-config-compat",oN="@firebase/storage",aN="@firebase/storage-compat",lN="@firebase/firestore",uN="@firebase/vertexai-preview",cN="@firebase/firestore-compat",hN="firebase",dN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]",fN={[Bf]:"fire-core",[jM]:"fire-core-compat",[$M]:"fire-analytics",[BM]:"fire-analytics-compat",[WM]:"fire-app-check",[HM]:"fire-app-check-compat",[KM]:"fire-auth",[qM]:"fire-auth-compat",[GM]:"fire-rtdb",[zM]:"fire-data-connect",[YM]:"fire-rtdb-compat",[XM]:"fire-fn",[JM]:"fire-fn-compat",[QM]:"fire-iid",[ZM]:"fire-iid-compat",[eN]:"fire-fcm",[tN]:"fire-fcm-compat",[nN]:"fire-perf",[iN]:"fire-perf-compat",[rN]:"fire-rc",[sN]:"fire-rc-compat",[oN]:"fire-gcs",[aN]:"fire-gcs-compat",[lN]:"fire-fst",[cN]:"fire-fst-compat",[uN]:"fire-vertex","fire-js":"fire-js",[hN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Map,dl=new Map,fl=new Map;function qc(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xS(t,e){t.container.addOrOverwriteComponent(e)}function js(t){const e=t.name;if(fl.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;fl.set(e,t);for(const n of Us.values())qc(n,t);for(const n of dl.values())qc(n,t);return!0}function hh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pN(t,e,n=Fs){hh(t,e).clearInstance(n)}function DS(t){return t.options!==void 0}function Pt(t){return t.settings!==void 0}function mN(){fl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new zo("app","Firebase",gN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OS=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends OS{constructor(e,n,r,s){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,l,s);else{const c=e;super(c.options,l,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:a},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,$i(Bf,fv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Sy(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=dN;function Iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fs,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Pi.create("bad-app-name",{appName:String(s)});if(n||(n=bS()),!n)throw Pi.create("no-options");const a=Us.get(s);if(a){if(Kc(n,a.options)&&Kc(r,a.config))return a;throw Pi.create("duplicate-app",{appName:s})}const l=new PS(s);for(const f of fl.values())l.addComponent(f);const c=new OS(n,r,l);return Us.set(s,c),c}function yN(t,e){if(uM()&&!TS())throw Pi.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;DS(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const s=p=>[...p].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Pi.create("finalization-registry-not-supported",{});const a=""+s(JSON.stringify(r)),l=dl.get(a);if(l)return l.incRefCount(e.releaseOnDeref),l;const c=new PS(a);for(const p of fl.values())c.addComponent(p);const f=new vN(n,e,a,c);return dl.set(a,f),f}function Ay(t=Fs){const e=Us.get(t);if(!e&&t===Fs&&bS())return Iy();if(!e)throw Pi.create("no-app",{appName:t});return e}function _N(){return Array.from(Us.values())}async function Sy(t){let e=!1;const n=t.name;Us.has(n)?(e=!0,Us.delete(n)):dl.has(n)&&t.decRefCount()<=0&&(dl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function $i(t,e,n){var r;let s=(r=fN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(c.join(" "));return}js(new Xr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function MS(t,e){if(t!==null&&typeof t!="function")throw Pi.create("invalid-log-argument");SM(t,e)}function NS(t){AM(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebase-heartbeat-database",bN=1,Gc="firebase-heartbeat-store";let kg=null;function VS(){return kg||(kg=NM(wN,bN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),kg}async function EN(t){try{const n=(await VS()).transaction(Gc),r=await n.objectStore(Gc).get(LS(t));return await n.done,r}catch(e){if(e instanceof Un)Jr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function uT(t,e){try{const r=(await VS()).transaction(Gc,"readwrite");await r.objectStore(Gc).put(e,LS(t)),await r.done}catch(n){if(n instanceof Un)Jr.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(r.message)}}}function LS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1024,IN=30*24*60*60*1e3;class AN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=IN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cT(),{heartbeatsToSend:r,unsentEntries:s}=SN(this._heartbeatsCache.heartbeats),a=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Jr.warn(n),""}}}function cT(){return new Date().toISOString().substring(0,10)}function SN(t,e=TN){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),hT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jf()?dM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return uT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hT(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){js(new Xr("platform-logger",e=>new FM(e),"PRIVATE")),js(new Xr("heartbeat",e=>new AN(e),"PRIVATE")),$i(Bf,fv,t),$i(Bf,fv,"esm2017"),$i("fire-js","")}CN("");const RN=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Un,SDK_VERSION:qs,_DEFAULT_ENTRY_NAME:Fs,_addComponent:qc,_addOrOverwriteComponent:xS,_apps:Us,_clearComponents:mN,_components:fl,_getProvider:hh,_isFirebaseApp:DS,_isFirebaseServerApp:Pt,_registerComponent:js,_removeServiceInstance:pN,_serverApps:dl,deleteApp:Sy,getApp:Ay,getApps:_N,initializeApp:Iy,initializeServerApp:yN,onLog:MS,registerVersion:$i,setLogLevel:NS},Symbol.toStringTag,{value:"Module"}));var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,FS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,P){function C(){}C.prototype=P.prototype,V.D=P.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,M,U){for(var R=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)R[ge-2]=arguments[ge];return P.prototype[M].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,P,C){C||(C=0);var O=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)O[M]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=V.g[0],C=V.g[1],M=V.g[2];var U=V.g[3],R=P+(U^C&(M^U))+O[0]+3614090360&4294967295;P=C+(R<<7&4294967295|R>>>25),R=U+(M^P&(C^M))+O[1]+3905402710&4294967295,U=P+(R<<12&4294967295|R>>>20),R=M+(C^U&(P^C))+O[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(P^M&(U^P))+O[3]+3250441966&4294967295,C=M+(R<<22&4294967295|R>>>10),R=P+(U^C&(M^U))+O[4]+4118548399&4294967295,P=C+(R<<7&4294967295|R>>>25),R=U+(M^P&(C^M))+O[5]+1200080426&4294967295,U=P+(R<<12&4294967295|R>>>20),R=M+(C^U&(P^C))+O[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(P^M&(U^P))+O[7]+4249261313&4294967295,C=M+(R<<22&4294967295|R>>>10),R=P+(U^C&(M^U))+O[8]+1770035416&4294967295,P=C+(R<<7&4294967295|R>>>25),R=U+(M^P&(C^M))+O[9]+2336552879&4294967295,U=P+(R<<12&4294967295|R>>>20),R=M+(C^U&(P^C))+O[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(P^M&(U^P))+O[11]+2304563134&4294967295,C=M+(R<<22&4294967295|R>>>10),R=P+(U^C&(M^U))+O[12]+1804603682&4294967295,P=C+(R<<7&4294967295|R>>>25),R=U+(M^P&(C^M))+O[13]+4254626195&4294967295,U=P+(R<<12&4294967295|R>>>20),R=M+(C^U&(P^C))+O[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=C+(P^M&(U^P))+O[15]+1236535329&4294967295,C=M+(R<<22&4294967295|R>>>10),R=P+(M^U&(C^M))+O[1]+4129170786&4294967295,P=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(P^C))+O[6]+3225465664&4294967295,U=P+(R<<9&4294967295|R>>>23),R=M+(P^C&(U^P))+O[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^P&(M^U))+O[0]+3921069994&4294967295,C=M+(R<<20&4294967295|R>>>12),R=P+(M^U&(C^M))+O[5]+3593408605&4294967295,P=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(P^C))+O[10]+38016083&4294967295,U=P+(R<<9&4294967295|R>>>23),R=M+(P^C&(U^P))+O[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^P&(M^U))+O[4]+3889429448&4294967295,C=M+(R<<20&4294967295|R>>>12),R=P+(M^U&(C^M))+O[9]+568446438&4294967295,P=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(P^C))+O[14]+3275163606&4294967295,U=P+(R<<9&4294967295|R>>>23),R=M+(P^C&(U^P))+O[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^P&(M^U))+O[8]+1163531501&4294967295,C=M+(R<<20&4294967295|R>>>12),R=P+(M^U&(C^M))+O[13]+2850285829&4294967295,P=C+(R<<5&4294967295|R>>>27),R=U+(C^M&(P^C))+O[2]+4243563512&4294967295,U=P+(R<<9&4294967295|R>>>23),R=M+(P^C&(U^P))+O[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=C+(U^P&(M^U))+O[12]+2368359562&4294967295,C=M+(R<<20&4294967295|R>>>12),R=P+(C^M^U)+O[5]+4294588738&4294967295,P=C+(R<<4&4294967295|R>>>28),R=U+(P^C^M)+O[8]+2272392833&4294967295,U=P+(R<<11&4294967295|R>>>21),R=M+(U^P^C)+O[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^P)+O[14]+4259657740&4294967295,C=M+(R<<23&4294967295|R>>>9),R=P+(C^M^U)+O[1]+2763975236&4294967295,P=C+(R<<4&4294967295|R>>>28),R=U+(P^C^M)+O[4]+1272893353&4294967295,U=P+(R<<11&4294967295|R>>>21),R=M+(U^P^C)+O[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^P)+O[10]+3200236656&4294967295,C=M+(R<<23&4294967295|R>>>9),R=P+(C^M^U)+O[13]+681279174&4294967295,P=C+(R<<4&4294967295|R>>>28),R=U+(P^C^M)+O[0]+3936430074&4294967295,U=P+(R<<11&4294967295|R>>>21),R=M+(U^P^C)+O[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^P)+O[6]+76029189&4294967295,C=M+(R<<23&4294967295|R>>>9),R=P+(C^M^U)+O[9]+3654602809&4294967295,P=C+(R<<4&4294967295|R>>>28),R=U+(P^C^M)+O[12]+3873151461&4294967295,U=P+(R<<11&4294967295|R>>>21),R=M+(U^P^C)+O[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=C+(M^U^P)+O[2]+3299628645&4294967295,C=M+(R<<23&4294967295|R>>>9),R=P+(M^(C|~U))+O[0]+4096336452&4294967295,P=C+(R<<6&4294967295|R>>>26),R=U+(C^(P|~M))+O[7]+1126891415&4294967295,U=P+(R<<10&4294967295|R>>>22),R=M+(P^(U|~C))+O[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~P))+O[5]+4237533241&4294967295,C=M+(R<<21&4294967295|R>>>11),R=P+(M^(C|~U))+O[12]+1700485571&4294967295,P=C+(R<<6&4294967295|R>>>26),R=U+(C^(P|~M))+O[3]+2399980690&4294967295,U=P+(R<<10&4294967295|R>>>22),R=M+(P^(U|~C))+O[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~P))+O[1]+2240044497&4294967295,C=M+(R<<21&4294967295|R>>>11),R=P+(M^(C|~U))+O[8]+1873313359&4294967295,P=C+(R<<6&4294967295|R>>>26),R=U+(C^(P|~M))+O[15]+4264355552&4294967295,U=P+(R<<10&4294967295|R>>>22),R=M+(P^(U|~C))+O[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~P))+O[13]+1309151649&4294967295,C=M+(R<<21&4294967295|R>>>11),R=P+(M^(C|~U))+O[4]+4149444226&4294967295,P=C+(R<<6&4294967295|R>>>26),R=U+(C^(P|~M))+O[11]+3174756917&4294967295,U=P+(R<<10&4294967295|R>>>22),R=M+(P^(U|~C))+O[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=C+(U^(M|~P))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+U&4294967295}r.prototype.u=function(V,P){P===void 0&&(P=V.length);for(var C=P-this.blockSize,O=this.B,M=this.h,U=0;U<P;){if(M==0)for(;U<=C;)s(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<P;)if(O[M++]=V.charCodeAt(U++),M==this.blockSize){s(this,O),M=0;break}}else for(;U<P;)if(O[M++]=V[U++],M==this.blockSize){s(this,O),M=0;break}}this.h=M,this.o+=P},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;var C=8*this.o;for(P=V.length-8;P<V.length;++P)V[P]=C&255,C/=256;for(this.u(V),V=Array(16),P=C=0;4>P;++P)for(var O=0;32>O;O+=8)V[C++]=this.g[P]>>>O&255;return V};function a(V,P){var C=c;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=P(V)}function l(V,P){this.h=P;for(var C=[],O=!0,M=V.length-1;0<=M;M--){var U=V[M]|0;O&&U==P||(C[M]=U,O=!1)}this.g=C}var c={};function f(V){return-128<=V&&128>V?a(V,function(P){return new l([P|0],0>P?-1:0)}):new l([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return S(p(-V));for(var P=[],C=1,O=0;V>=C;O++)P[O]=V/C|0,C*=4294967296;return new l(P,0)}function g(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return S(g(V.substring(1),P));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(P,8)),O=_,M=0;M<V.length;M+=8){var U=Math.min(8,V.length-M),R=parseInt(V.substring(M,M+U),P);8>U?(U=p(Math.pow(P,U)),O=O.j(U).add(p(R))):(O=O.j(C),O=O.add(p(R)))}return O}var _=f(0),b=f(1),I=f(16777216);t=l.prototype,t.m=function(){if(T(this))return-S(this).m();for(var V=0,P=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*P,P*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(T(this))return"-"+S(this).toString(V);for(var P=p(Math.pow(V,6)),C=this,O="";;){var M=K(C,P).g;C=D(C,M.j(P));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,N(C))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function T(V){return V.h==-1}t.l=function(V){return V=D(this,V),T(V)?-1:N(V)?0:1};function S(V){for(var P=V.g.length,C=[],O=0;O<P;O++)C[O]=~V.g[O];return new l(C,~V.h).add(b)}t.abs=function(){return T(this)?S(this):this},t.add=function(V){for(var P=Math.max(this.g.length,V.g.length),C=[],O=0,M=0;M<=P;M++){var U=O+(this.i(M)&65535)+(V.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=R>>>16,U&=65535,R&=65535,C[M]=R<<16|U}return new l(C,C[C.length-1]&-2147483648?-1:0)};function D(V,P){return V.add(S(P))}t.j=function(V){if(N(this)||N(V))return _;if(T(this))return T(V)?S(this).j(S(V)):S(S(this).j(V));if(T(V))return S(this.j(S(V)));if(0>this.l(I)&&0>V.l(I))return p(this.m()*V.m());for(var P=this.g.length+V.g.length,C=[],O=0;O<2*P;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var U=this.i(O)>>>16,R=this.i(O)&65535,ge=V.i(M)>>>16,yt=V.i(M)&65535;C[2*O+2*M]+=R*yt,F(C,2*O+2*M),C[2*O+2*M+1]+=U*yt,F(C,2*O+2*M+1),C[2*O+2*M+1]+=R*ge,F(C,2*O+2*M+1),C[2*O+2*M+2]+=U*ge,F(C,2*O+2*M+2)}for(O=0;O<P;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=P;O<2*P;O++)C[O]=0;return new l(C,0)};function F(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function B(V,P){this.g=V,this.h=P}function K(V,P){if(N(P))throw Error("division by zero");if(N(V))return new B(_,_);if(T(V))return P=K(S(V),P),new B(S(P.g),S(P.h));if(T(P))return P=K(V,S(P)),new B(S(P.g),P.h);if(30<V.g.length){if(T(V)||T(P))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=P;0>=O.l(V);)C=q(C),O=q(O);var M=ie(C,1),U=ie(O,1);for(O=ie(O,2),C=ie(C,2);!N(O);){var R=U.add(O);0>=R.l(V)&&(M=M.add(C),U=R),O=ie(O,1),C=ie(C,1)}return P=D(V,M.j(P)),new B(M,P)}for(M=_;0<=V.l(P);){for(C=Math.max(1,Math.floor(V.m()/P.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=p(C),R=U.j(P);T(R)||0<R.l(V);)C-=O,U=p(C),R=U.j(P);N(U)&&(U=b),M=M.add(U),V=D(V,R)}return new B(M,V)}t.A=function(V){return K(this,V).h},t.and=function(V){for(var P=Math.max(this.g.length,V.g.length),C=[],O=0;O<P;O++)C[O]=this.i(O)&V.i(O);return new l(C,this.h&V.h)},t.or=function(V){for(var P=Math.max(this.g.length,V.g.length),C=[],O=0;O<P;O++)C[O]=this.i(O)|V.i(O);return new l(C,this.h|V.h)},t.xor=function(V){for(var P=Math.max(this.g.length,V.g.length),C=[],O=0;O<P;O++)C[O]=this.i(O)^V.i(O);return new l(C,this.h^V.h)};function q(V){for(var P=V.g.length+1,C=[],O=0;O<P;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new l(C,V.h)}function ie(V,P){var C=P>>5;P%=32;for(var O=V.g.length-C,M=[],U=0;U<O;U++)M[U]=0<P?V.i(U+C)>>>P|V.i(U+C+1)<<32-P:V.i(U+C);return new l(M,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,No=l}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var US,cc,jS,mf,pv,BS,$S,HS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,w){return h==Array.prototype||h==Object.prototype||(h[y]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var y=0;y<h.length;++y){var w=h[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var w=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var j=h[A];if(!(j in w))break e;w=w[j]}h=h[h.length-1],A=w[h],y=y(A),y!=A&&y!=null&&e(w,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var w=0,A=!1,j={next:function(){if(!A&&w<h.length){var H=w++;return{value:y(H,h[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,w){return h.call.apply(h.bind,arguments)}function _(h,y,w){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),h.apply(y,j)}}return function(){return h.apply(y,arguments)}}function b(h,y,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,b.apply(null,arguments)}function I(h,y){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function N(h,y){function w(){}w.prototype=y.prototype,h.aa=y.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(A,j,H){for(var se=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)se[qe-2]=arguments[qe];return y.prototype[j].apply(A,se)}}function T(h){const y=h.length;if(0<y){const w=Array(y);for(let A=0;A<y;A++)w[A]=h[A];return w}return[]}function S(h,y){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(f(A)){const j=h.length||0,H=A.length||0;h.length=j+H;for(let se=0;se<H;se++)h[j+se]=A[se]}else h.push(A)}}class D{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var q=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ie(h,y,w){for(const A in h)y.call(w,h[A],A,h)}function V(h,y){for(const w in h)y.call(void 0,h[w],w,h)}function P(h){const y={};for(const w in h)y[w]=h[w];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let w,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(w in A)h[w]=A[w];for(let H=0;H<C.length;H++)w=C[H],Object.prototype.hasOwnProperty.call(A,w)&&(h[w]=A[w])}}function M(h){var y=1;h=h.split(":");const w=[];for(;0<y&&h.length;)w.push(h.shift()),y--;return h.length&&w.push(h.join(":")),w}function U(h){c.setTimeout(()=>{throw h},0)}function R(){var h=dn;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ge{constructor(){this.h=this.g=null}add(y,w){const A=yt.get();A.set(y,w),this.h?this.h.next=A:this.g=A,this.h=A}}var yt=new D(()=>new Et,h=>h.reset());class Et{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let De,_e=!1,dn=new ge,En=()=>{const h=c.Promise.resolve(void 0);De=()=>{h.then(jn)}};var jn=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(w){U(w)}var y=yt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}_e=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var us=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return h}();function ot(h,y){if(dt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(q){e:{try{K(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else w=="mouseover"?y=h.fromElement:w=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Dn[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ot.aa.h.call(this)}}N(ot,dt);var Dn={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),ei=0;function vi(h,y,w,A,j){this.listener=h,this.proxy=null,this.src=y,this.type=w,this.capture=!!A,this.ha=j,this.key=++ei,this.da=this.fa=!1}function ti(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function cs(h){this.src=h,this.g={},this.h=0}cs.prototype.add=function(h,y,w,A,j){var H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);var se=L(h,y,A,j);return-1<se?(y=h[se],w||(y.fa=!1)):(y=new vi(y,this.src,H,!!A,j),y.fa=w,h.push(y)),y};function x(h,y){var w=y.type;if(w in h.g){var A=h.g[w],j=Array.prototype.indexOf.call(A,y,void 0),H;(H=0<=j)&&Array.prototype.splice.call(A,j,1),H&&(ti(y),h.g[w].length==0&&(delete h.g[w],h.h--))}}function L(h,y,w,A){for(var j=0;j<h.length;++j){var H=h[j];if(!H.da&&H.listener==y&&H.capture==!!w&&H.ha==A)return j}return-1}var W="closure_lm_"+(1e6*Math.random()|0),ee={};function Y(h,y,w,A,j){if(Array.isArray(y)){for(var H=0;H<y.length;H++)Y(h,y[H],w,A,j);return null}return w=be(w),h&&h[qt]?h.K(y,w,p(A)?!!A.capture:!1,j):J(h,y,w,!1,A,j)}function J(h,y,w,A,j,H){if(!y)throw Error("Invalid event type");var se=p(j)?!!j.capture:!!j,qe=ae(h);if(qe||(h[W]=qe=new cs(h)),w=qe.add(y,w,A,se,H),w.proxy)return w;if(A=le(),w.proxy=A,A.src=h,A.listener=w,h.addEventListener)us||(j=se),j===void 0&&(j=!1),h.addEventListener(y.toString(),A,j);else if(h.attachEvent)h.attachEvent(Q(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function le(){function h(w){return y.call(h.src,h.listener,w)}const y=fe;return h}function oe(h,y,w,A,j){if(Array.isArray(y))for(var H=0;H<y.length;H++)oe(h,y[H],w,A,j);else A=p(A)?!!A.capture:!!A,w=be(w),h&&h[qt]?(h=h.i,y=String(y).toString(),y in h.g&&(H=h.g[y],w=L(H,w,A,j),-1<w&&(ti(H[w]),Array.prototype.splice.call(H,w,1),H.length==0&&(delete h.g[y],h.h--)))):h&&(h=ae(h))&&(y=h.g[y.toString()],h=-1,y&&(h=L(y,w,A,j)),(w=-1<h?y[h]:null)&&re(w))}function re(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[qt])x(y.i,h);else{var w=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(w,A,h.capture):y.detachEvent?y.detachEvent(Q(w),A):y.addListener&&y.removeListener&&y.removeListener(A),(w=ae(y))?(x(w,h),w.h==0&&(w.src=null,y[W]=null)):ti(h)}}}function Q(h){return h in ee?ee[h]:ee[h]="on"+h}function fe(h,y){if(h.da)h=!0;else{y=new ot(y,this);var w=h.listener,A=h.ha||h.src;h.fa&&re(h),h=w.call(A,y)}return h}function ae(h){return h=h[W],h instanceof cs?h:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(h){return typeof h=="function"?h:(h[he]||(h[he]=function(y){return h.handleEvent(y)}),h[he])}function ye(){ht.call(this),this.i=new cs(this),this.M=this,this.F=null}N(ye,ht),ye.prototype[qt]=!0,ye.prototype.removeEventListener=function(h,y,w,A){oe(this,h,y,w,A)};function Ie(h,y){var w,A=h.F;if(A)for(w=[];A;A=A.F)w.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new dt(y,h);else if(y instanceof dt)y.target=y.target||h;else{var j=y;y=new dt(A,h),O(y,j)}if(j=!0,w)for(var H=w.length-1;0<=H;H--){var se=y.g=w[H];j=Oe(se,A,!0,y)&&j}if(se=y.g=h,j=Oe(se,A,!0,y)&&j,j=Oe(se,A,!1,y)&&j,w)for(H=0;H<w.length;H++)se=y.g=w[H],j=Oe(se,A,!1,y)&&j}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var w=h.g[y],A=0;A<w.length;A++)ti(w[A]);delete h.g[y],h.h--}}this.F=null},ye.prototype.K=function(h,y,w,A){return this.i.add(String(h),y,!1,w,A)},ye.prototype.L=function(h,y,w,A){return this.i.add(String(h),y,!0,w,A)};function Oe(h,y,w,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,H=0;H<y.length;++H){var se=y[H];if(se&&!se.da&&se.capture==w){var qe=se.listener,Jt=se.ha||se.src;se.fa&&x(h.i,se),j=qe.call(Jt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Gt(h,y,w){if(typeof h=="function")w&&(h=b(h,w));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function zt(h){h.g=Gt(()=>{h.g=null,h.i&&(h.i=!1,zt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Bn extends ht{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(h){ht.call(this),this.h=h,this.g={}}N(xt,ht);var ni=[];function ii(h){ie(h.g,function(y,w){this.g.hasOwnProperty(w)&&re(y)},h),h.g={}}xt.prototype.N=function(){xt.aa.N.call(this),ii(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=c.JSON.stringify,$n=c.JSON.parse,Ys=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Qo(){}Qo.prototype.h=null;function Xs(h){return h.h||(h.h=h.i())}function xh(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Js(){dt.call(this,"d")}N(Js,dt);function Qs(){dt.call(this,"c")}N(Qs,dt);var Ri={},Zo=null;function Ki(){return Zo=Zo||new ye}Ri.La="serverreachability";function hs(h){dt.call(this,Ri.La,h)}N(hs,dt);function Zs(h){const y=Ki();Ie(y,new hs(y))}Ri.STAT_EVENT="statevent";function Ll(h,y){dt.call(this,Ri.STAT_EVENT,h),this.stat=y}N(Ll,dt);function fn(h){const y=Ki();Ie(y,new Ll(y,h))}Ri.Ma="timingevent";function Dh(h,y){dt.call(this,Ri.Ma,h),this.size=y}N(Dh,dt);function eo(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function to(){this.g=!0}to.prototype.xa=function(){this.g=!1};function no(h,y,w,A,j,H){h.info(function(){if(h.g)if(H)for(var se="",qe=H.split("&"),Jt=0;Jt<qe.length;Jt++){var Ve=qe[Jt].split("=");if(1<Ve.length){var sn=Ve[0];Ve=Ve[1];var Tt=sn.split("_");se=2<=Tt.length&&Tt[1]=="type"?se+(sn+"="+Ve+"&"):se+(sn+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+w+`
`+se})}function qi(h,y,w,A,j,H,se){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+w+`
`+H+" "+se})}function Wn(h,y,w,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mh(h,w)+(A?" "+A:"")})}function Oh(h,y){h.info(function(){return"TIMEOUT: "+y})}to.prototype.info=function(){};function Mh(h,y){if(!h.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var A=w[h];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Yt(w)}catch{return y}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function ea(){}N(ea,Qo),ea.prototype.g=function(){return new XMLHttpRequest},ea.prototype.i=function(){return{}},xi=new ea;function Gi(h,y,w,A){this.j=h,this.i=y,this.l=w,this.R=A||1,this.U=new xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var Ul={},ft={};function zi(h,y,w){h.L=1,h.v=ra(Tn(y)),h.m=w,h.P=!0,jl(h,null)}function jl(h,y){h.F=Date.now(),io(h),h.A=Tn(h.v);var w=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Gl(w.i,"t",A),h.C=0,w=h.j.J,h.h=new Fl,h.g=Kh(h.j,w?y:null,!h.m),0<h.O&&(h.M=new Bn(b(h.Y,h,h.g),h.O)),y=h.U,w=h.g,A=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(ni[0]=j.toString()),j=ni);for(var H=0;H<j.length;H++){var se=Y(w,j[H],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Zs(),no(h.i,h.u,h.A,h.l,h.R,h.m)}Gi.prototype.ca=function(h){h=h.target;const y=this.M;y&&Mi(h)==3?y.j():this.Y(h)},Gi.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=Mi(this.g);var y=this.g.Ba();const Ei=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Ei?Zs(3):Zs(2)),$l(this);var w=this.g.Z();this.X=w;t:if(Bl(this)){var A=Zl(this.g);h="";var j=A.length,H=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),ds(this);var se="";break t}this.h.i=new c.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(H&&y==j-1)});A.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=w==200,qi(this.i,this.u,this.A,this.l,this.R,Tt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Jt=this.g;if((qe=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(qe)){var Ve=qe;break t}}Ve=null}if(w=Ve)Wn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yi(this,w);else{this.o=!1,this.s=3,fn(12),Ye(this),ds(this);break e}}if(this.P){w=!0;let ri;for(;!this.J&&this.C<se.length;)if(ri=Fe(this,se),ri==ft){Tt==4&&(this.s=4,fn(14),w=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==Ul){this.s=4,fn(15),Wn(this.i,this.l,se,"[Invalid Chunk]"),w=!1;break}else Wn(this.i,this.l,ri,null),yi(this,ri);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||se.length!=0||this.h.h||(this.s=1,fn(16),w=!1),this.o=this.o&&w,!w)Wn(this.i,this.l,se,"[Invalid Chunked Response]"),Ye(this),ds(this);else if(0<se.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),nu(sn),sn.M=!0,fn(11))}}else Wn(this.i,this.l,se,null),yi(this,se);Tt==4&&Ye(this),this.o&&!this.J&&(Tt==4?rn(this.j,this):(this.o=!1,io(this)))}else er(this.g),w==400&&0<se.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),Ye(this),ds(this)}}}catch{}finally{}};function Bl(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fe(h,y){var w=h.C,A=y.indexOf(`
`,w);return A==-1?ft:(w=Number(y.substring(w,A)),isNaN(w)?Ul:(A+=1,A+w>y.length?ft:(y=y.slice(A,A+w),h.C=A+w,y)))}Gi.prototype.cancel=function(){this.J=!0,Ye(this)};function io(h){h.S=Date.now()+h.I,ta(h,h.I)}function ta(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=eo(b(h.ba,h),y)}function $l(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Gi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Oh(this.i,this.A),this.L!=2&&(Zs(),fn(17)),Ye(this),this.s=2,ds(this)):ta(this,this.S-h)};function ds(h){h.j.G==0||h.J||rn(h.j,h)}function Ye(h){$l(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,ii(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function yi(h,y){try{var w=h.j;if(w.G!=0&&(w.g==h||_i(w.h,h))){if(!h.K&&_i(w.h,h)&&w.G==3){try{var A=w.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)fo(w),la(w);else break e;tu(w),fn(18)}}else w.za=j[1],0<w.za-w.T&&37500>j[2]&&w.F&&w.v==0&&!w.C&&(w.C=eo(b(w.Za,w),6e3));if(1>=Vh(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ir(w,11)}else if((h.K||w.g==h)&&fo(w),!F(y))for(j=w.Da.g.parse(y),y=0;y<j.length;y++){let Ve=j[y];if(w.T=Ve[0],Ve=Ve[1],w.G==2)if(Ve[0]=="c"){w.K=Ve[1],w.ia=Ve[2];const sn=Ve[3];sn!=null&&(w.la=sn,w.j.info("VER="+w.la));const Tt=Ve[4];Tt!=null&&(w.Aa=Tt,w.j.info("SVER="+w.Aa));const Ei=Ve[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(A=1.5*Ei,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const ri=h.g;if(ri){const po=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var H=A.h;H.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(na(H,H.h),H.h=null))}if(A.D){const iu=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(A.ya=iu,it(A.I,A.D,iu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var se=h;if(A.qa=Wh(A,A.J?A.ia:null,A.W),se.K){ro(A.h,se);var qe=se,Jt=A.L;Jt&&(qe.I=Jt),qe.B&&($l(qe),io(qe)),A.g=se}else ue(A);0<w.i.length&&xr(w)}else Ve[0]!="stop"&&Ve[0]!="close"||ir(w,7);else w.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ir(w,7):eu(w):Ve[0]!="noop"&&w.l&&w.l.ta(Ve),w.v=0)}}Zs(4)}catch{}}var Xp=class{constructor(h,y){this.g=h,this.map=y}};function Kn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vh(h){return h.h?1:h.g?h.g.size:0}function _i(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function na(h,y){h.g?h.g.add(y):h.h=y}function ro(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Kn.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ia(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const w of h.g.values())y=y.concat(w.D);return y}return T(h.i)}function Hl(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],w=h.length,A=0;A<w;A++)y.push(h[A]);return y}y=[],w=0;for(A in h)y[w++]=h[A];return y}function Wl(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var w=0;w<h;w++)y.push(w);return y}y=[],w=0;for(const A in h)y[w++]=A;return y}}}function Lh(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var w=Wl(h),A=Hl(h),j=A.length,H=0;H<j;H++)y.call(void 0,A[H],w&&w[H],h)}var Yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(h,y){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var A=h[w].indexOf("="),j=null;if(0<=A){var H=h[w].substring(0,A);j=h[w].substring(A+1)}else H=h[w];y(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Xi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Xi){this.h=h.h,oo(this,h.j),this.o=h.o,this.g=h.g,ao(this,h.s),this.l=h.l;var y=h.i,w=new wi;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Ji(this,w),this.m=h.m}else h&&(y=String(h).match(Yi))?(this.h=!1,oo(this,y[1]||"",!0),this.o=fs(y[2]||""),this.g=fs(y[3]||"",!0),ao(this,y[4]),this.l=fs(y[5]||"",!0),Ji(this,y[6]||"",!0),this.m=fs(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Xi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Xt(y,Kl,!0),":");var w=this.g;return(w||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Xt(y,Kl,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Xt(w,w.charAt(0)=="/"?Fh:sa,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Xt(w,ql)),h.join("")};function Tn(h){return new Xi(h)}function oo(h,y,w){h.j=w?fs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ao(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Ji(h,y,w){y instanceof wi?(h.i=y,Jp(h.i,h.h)):(w||(y=Xt(y,Uh)),h.i=new wi(y,h.h))}function it(h,y,w){h.i.set(y,w)}function ra(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function fs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xt(h,y,w){return typeof h=="string"?(h=encodeURI(h).replace(y,Qi),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qi(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Kl=/[#\/\?@]/g,sa=/[#\?:]/g,Fh=/[#\?]/g,Uh=/[#\?@]/g,ql=/#/g;function wi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Di(h){h.g||(h.g=new Map,h.h=0,h.i&&so(h.i,function(y,w){h.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=wi.prototype,t.add=function(h,y){Di(this),this.i=null,h=bi(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(y),this.h+=1,this};function Oi(h,y){Di(h),y=bi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function lo(h,y){return Di(h),y=bi(h,y),h.g.has(y)}t.forEach=function(h,y){Di(this),this.g.forEach(function(w,A){w.forEach(function(j){h.call(y,j,A,this)},this)},this)},t.na=function(){Di(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let A=0;A<y.length;A++){const j=h[A];for(let H=0;H<j.length;H++)w.push(y[A])}return w},t.V=function(h){Di(this);let y=[];if(typeof h=="string")lo(this,h)&&(y=y.concat(this.g.get(bi(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)y=y.concat(h[w])}return y},t.set=function(h,y){return Di(this),this.i=null,h=bi(this,h),lo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Gl(h,y,w){Oi(h,y),0<w.length&&(h.i=null,h.g.set(bi(h,y),T(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var A=y[w];const H=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var j=H;se[A]!==""&&(j+="="+encodeURIComponent(String(se[A]))),h.push(j)}}return this.i=h.join("&")};function bi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Jp(h,y){y&&!h.j&&(Di(h),h.i=null,h.g.forEach(function(w,A){var j=A.toLowerCase();A!=j&&(Oi(this,A),Gl(this,j,w))},h)),h.j=y}function Qp(h,y){const w=new to;if(c.Image){const A=new Image;A.onload=I(On,w,"TestLoadImage: loaded",!0,y,A),A.onerror=I(On,w,"TestLoadImage: error",!1,y,A),A.onabort=I(On,w,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(On,w,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Zp(h,y){const w=new to,A=new AbortController,j=setTimeout(()=>{A.abort(),On(w,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(H=>{clearTimeout(j),H.ok?On(w,"TestPingServer: ok",!0,y):On(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),On(w,"TestPingServer: error",!1,y)})}function On(h,y,w,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(w)}catch{}}function Zi(){this.g=new Ys}function zl(h,y,w){const A=w||"";try{Lh(h,function(j,H){let se=j;p(j)&&(se=Yt(j)),y.push(A+H+"="+encodeURIComponent(se))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function Rr(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Rr,Qo),Rr.prototype.g=function(){return new ps(this.l,this.j)},Rr.prototype.i=function(h){return function(){return h}}({});function ps(h,y){ye.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ps,ye),t=ps.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,uo(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oa(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function oa(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ms(this):uo(this),this.readyState==3&&oa(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ms(this))},t.Qa=function(h){this.g&&(this.response=h,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(h){h.readyState=4,h.l=null,h.j=null,h.v=null,uo(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=y.next();return h.join(`\r
`)};function uo(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Yl(h){let y="";return ie(h,function(w,A){y+=A,y+=":",y+=w,y+=`\r
`}),y}function gs(h,y,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=Yl(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):it(h,y,w))}function Xe(h){ye.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Xe,ye);var co=/^https?$/i,Xl=["POST","PUT"];t=Xe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Xs(this.o):Xs(xi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Jl(this,H);return}if(h=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)w.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())w.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),j=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Xl,y,void 0))||A||j||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of w)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ql(this),this.u=!0,this.g.send(h),this.u=!1}catch(H){Jl(this,H)}};function Jl(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,jh(h),kr(h)}function jh(h){h.A||(h.A=!0,Ie(h,"complete"),Ie(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ie(this,"complete"),Ie(this,"abort"),kr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},t.bb=function(){aa(this)};function aa(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Mi(h)!=4||h.Z()!=2)){if(h.u&&Mi(h)==4)Gt(h.Ea,0,h);else if(Ie(h,"readystatechange"),Mi(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var A;if(A=se===0){var j=String(h.D).match(Yi)[1]||null;!j&&c.self&&c.self.location&&(j=c.self.location.protocol.slice(0,-1)),A=!co.test(j?j.toLowerCase():"")}w=A}if(w)Ie(h,"complete"),Ie(h,"success");else{h.m=6;try{var H=2<Mi(h)?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.Z()+"]",jh(h)}}finally{kr(h)}}}}function kr(h,y){if(h.g){Ql(h);const w=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ie(h,"ready");try{w.onreadystatechange=A}catch{}}}function Ql(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Mi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$n(y)}};function Zl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function er(h){const y={};h=(h.g&&2<=Mi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(F(h[A]))continue;var w=M(h[A]);const j=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=y[j]||[];y[j]=H,H.push(w)}V(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(h,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||y}function Bh(h){this.Aa=0,this.i=[],this.j=new to,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ni("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ni("baseRetryDelayMs",5e3,h),this.cb=Ni("retryDelaySeedMs",1e4,h),this.Wa=Ni("forwardChannelMaxRetries",2,h),this.wa=Ni("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Kn(h&&h.concurrentRequestLimit),this.Da=new Zi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bh.prototype,t.la=8,t.G=1,t.connect=function(h,y,w,A){fn(0),this.W=h,this.H=y||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=Wh(this,null,this.W),xr(this)};function eu(h){if($h(h),h.G==3){var y=h.U++,w=Tn(h.I);if(it(w,"SID",h.K),it(w,"RID",y),it(w,"TYPE","terminate"),tr(h,w),y=new Gi(h,h.j,y),y.L=2,y.v=ra(Tn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=Kh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),io(y)}Hh(h)}function la(h){h.g&&(nu(h),h.g.cancel(),h.g=null)}function $h(h){la(h),h.u&&(c.clearTimeout(h.u),h.u=null),fo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function xr(h){if(!nn(h.h)&&!h.s){h.s=!0;var y=h.Ga;De||En(),_e||(De(),_e=!0),dn.add(y,h),h.B=0}}function Te(h,y){return Vh(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=eo(b(h.Ga,h,y),nr(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new Gi(this,this.j,h);let H=this.o;if(this.S&&(H?(H=P(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=je(this,j,y),w=Tn(this.I),it(w,"RID",h),it(w,"CVER",22),this.D&&it(w,"X-HTTP-Session-Id",this.D),tr(this,w),H&&(this.O?y="headers="+encodeURIComponent(String(Yl(H)))+"&"+y:this.m&&gs(w,this.m,H)),na(this.h,j),this.Ua&&it(w,"TYPE","init"),this.P?(it(w,"$req",y),it(w,"SID","null"),j.T=!0,zi(j,w,null)):zi(j,w,y),this.G=2}}else this.G==3&&(h?ho(this,h):this.i.length==0||nn(this.h)||ho(this))};function ho(h,y){var w;y?w=y.l:w=h.U++;const A=Tn(h.I);it(A,"SID",h.K),it(A,"RID",w),it(A,"AID",h.T),tr(h,A),h.m&&h.o&&gs(A,h.m,h.o),w=new Gi(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),y&&(h.i=y.D.concat(h.i)),y=je(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),na(h.h,w),zi(w,A,y)}function tr(h,y){h.H&&ie(h.H,function(w,A){it(y,A,w)}),h.l&&Lh({},function(w,A){it(y,A,w)})}function je(h,y,w){w=Math.min(h.i.length,w);var A=h.l?b(h.l.Na,h.l,h):null;e:{var j=h.i;let H=-1;for(;;){const se=["count="+w];H==-1?0<w?(H=j[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let qe=!0;for(let Jt=0;Jt<w;Jt++){let Ve=j[Jt].g;const sn=j[Jt].map;if(Ve-=H,0>Ve)H=Math.max(0,j[Jt].g-100),qe=!1;else try{zl(sn,se,"req"+Ve+"_")}catch{A&&A(sn)}}if(qe){A=se.join("&");break e}}}return h=h.i.splice(0,w),y.D=h,A}function ue(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;De||En(),_e||(De(),_e=!0),dn.add(y,h),h.v=0}}function tu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=eo(b(h.Fa,h),nr(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ut(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=eo(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),la(this),ut(this))};function nu(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function ut(h){h.g=new Gi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Tn(h.qa);it(y,"RID","rpc"),it(y,"SID",h.K),it(y,"AID",h.T),it(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(y,"TO",h.ja),it(y,"TYPE","xmlhttp"),tr(h,y),h.m&&h.o&&gs(y,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=ra(Tn(y)),w.m=null,w.P=!0,jl(w,h)}t.Za=function(){this.C!=null&&(this.C=null,la(this),tu(this),fn(19))};function fo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function rn(h,y){var w=null;if(h.g==y){fo(h),nu(h),h.g=null;var A=2}else if(_i(h.h,y))w=y.D,ro(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var j=h.B;A=Ki(),Ie(A,new Dh(A,w)),xr(h)}else ue(h);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&Te(h,y)||A==2&&tu(h)))switch(w&&0<w.length&&(y=h.h,y.i=y.i.concat(w)),j){case 1:ir(h,5);break;case 4:ir(h,10);break;case 3:ir(h,6);break;default:ir(h,2)}}}function nr(h,y){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*y}function ir(h,y){if(h.j.info("Error code "+y),y==2){var w=b(h.fb,h),A=h.Xa;const j=!A;A=new Xi(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oo(A,"https"),ra(A),j?Qp(A.toString(),w):Zp(A.toString(),w)}else fn(2);h.G=0,h.l&&h.l.sa(y),Hh(h),$h(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Hh(h){if(h.G=0,h.ka=[],h.l){const y=ia(h.h);(y.length!=0||h.i.length!=0)&&(S(h.ka,y),S(h.ka,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.ra()}}function Wh(h,y,w){var A=w instanceof Xi?Tn(w):new Xi(w);if(A.g!="")y&&(A.g=y+"."+A.g),ao(A,A.s);else{var j=c.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var H=new Xi(null);A&&oo(H,A),y&&(H.g=y),j&&ao(H,j),w&&(H.l=w),A=H}return w=h.D,y=h.ya,w&&y&&it(A,w,y),it(A,"VER",h.la),tr(h,A),A}function Kh(h,y,w){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Xe(new Rr({eb:w})):new Xe(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ua(){}t=ua.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ca(){}ca.prototype.g=function(h,y){return new pn(h,y)};function pn(h,y){ye.call(this),this.g=new Bh(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!F(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vs(this)}N(pn,ye),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){eu(this.g)},pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Yt(h),h=w);y.i.push(new Xp(y.Ya++,h)),y.G==3&&xr(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,pn.aa.N.call(this)};function qh(h){Js.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const w in y){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}N(qh,Js);function Gh(){Qs.call(this),this.status=1}N(Gh,Qs);function vs(h){this.g=h}N(vs,ua),vs.prototype.ua=function(){Ie(this.g,"a")},vs.prototype.ta=function(h){Ie(this.g,new qh(h))},vs.prototype.sa=function(h){Ie(this.g,new Gh)},vs.prototype.ra=function(){Ie(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,HS=function(){return new ca},$S=function(){return Ki()},BS=Ri,pv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,mf=ki,Nh.COMPLETE="complete",jS=Nh,xh.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,cc=xh,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,US=Xe}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new bp("@firebase/firestore");function ec(){return Bo.logLevel}function de(t,...e){if(Bo.logLevel<=Be.DEBUG){const n=e.map(Py);Bo.debug(`Firestore (${Cl}): ${t}`,...n)}}function Qr(t,...e){if(Bo.logLevel<=Be.ERROR){const n=e.map(Py);Bo.error(`Firestore (${Cl}): ${t}`,...n)}}function pl(t,...e){if(Bo.logLevel<=Be.WARN){const n=e.map(Py);Bo.warn(`Firestore (${Cl}): ${t}`,...n)}}function Py(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function nt(t,e){t||Pe()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class xN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DN{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Kr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new WS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new Sn(e)}}class ON{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ON(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){nt(this.o===void 0);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new NN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=LN(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function ml(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new en(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new en(0,0))}static max(){return new Re(new en(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),l=n.get(s);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends zc{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const FN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends zc{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return FN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ve(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new ve(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(gt.fromString(e))}static fromName(e){return new we(gt.fromString(e).popFirst(5))}static empty(){return new we(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new gt(e.slice()))}}function UN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new Bs(s,we.empty(),e)}function jN(t){return new Bs(t.readTime,t.key,-1)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(Re.min(),we.empty(),-1)}static max(){return new Bs(Re.max(),we.empty(),-1)}}function BN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==$N)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},f=>r(f))}),l=!0,a===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new Z((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function WN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cy.oe=-1;function Ep(t){return t==null}function $f(t){return t===0&&1/t==-1/0}function KN(t){return typeof t=="number"&&Number.isInteger(t)&&!$f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new vn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class mT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new mi([])}unionWith(e){let n=new wn(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GS("Invalid base64 string: "+a):a}}(e);return new bn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const qN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(nt(!!t),typeof t=="string"){let e=0;const n=qN.exec(t);if(nt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ky(t){const e=t.mapValue.fields.__previous_value__;return Ry(e)?ky(e):e}function Yc(t){const e=$s(t.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,s,a,l,c,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}class Xc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={mapValue:{}};function Ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ry(t)?4:YN(t)?9007199254740991:zN(t)?10:11:Pe()}function Sr(t,e){if(t===e)return!0;const n=Ho(t);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=$s(s.timestampValue),c=$s(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return $o(s.bytesValue).isEqual($o(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Lt(s.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Lt(s.integerValue)===Lt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Lt(s.doubleValue),c=Lt(a.doubleValue);return l===c?$f(l)===$f(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(pT(l)!==pT(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Sr(l[f],c[f])))return!1;return!0}(t,e);default:return Pe()}}function Jc(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=Ho(t),r=Ho(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Lt(a.integerValue||a.doubleValue),f=Lt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return gT(t.timestampValue,e.timestampValue);case 4:return gT(Yc(t),Yc(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(a,l){const c=$o(a),f=$o(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=Ge(c[p],f[p]);if(g!==0)return g}return Ge(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ge(Lt(a.latitude),Lt(l.latitude));return c!==0?c:Ge(Lt(a.longitude),Lt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vT(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},b=l.fields||{},I=(c=_.value)===null||c===void 0?void 0:c.arrayValue,N=(f=b.value)===null||f===void 0?void 0:f.arrayValue,T=Ge(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0);return T!==0?T:vT(I,N)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===tf.mapValue&&l===tf.mapValue)return 0;if(a===tf.mapValue)return 1;if(l===tf.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const b=Ge(f[_],g[_]);if(b!==0)return b;const I=gl(c[f[_]],p[g[_]]);if(I!==0)return I}return Ge(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function gT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=$s(t),r=$s(e),s=Ge(n.seconds,r.seconds);return s!==0?s:Ge(n.nanos,r.nanos)}function vT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=gl(n[s],r[s]);if(a)return a}return Ge(n.length,r.length)}function vl(t){return mv(t)}function mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=mv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${mv(n.fields[l])}`;return s+"}"}(t.mapValue):Pe()}function gv(t){return!!t&&"integerValue"in t}function xy(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function _T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gf(t){return!!t&&"mapValue"in t}function zN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ac(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=_n.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Ac(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Xn(Ac(this.value))}}function zS(t){const e=[];return Yo(t.fields,(n,r)=>{const s=new _n([n]);if(gf(r)){const a=zS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Cn(e,0,Re.min(),Re.min(),Re.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,s){return new Cn(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new Cn(e,2,n,Re.min(),Re.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Re.min(),Re.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.position=e,this.inclusive=n}}function wT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),n.key):r=gl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function bT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function XN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{}class Zt extends YS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QN(e,n,r):n==="array-contains"?new tV(e,r):n==="in"?new nV(e,r):n==="not-in"?new iV(e,r):n==="array-contains-any"?new rV(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZN(e,r):new eV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&Ho(this.value)===Ho(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends YS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Pr(e,n)}matches(e){return XS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XS(t){return t.op==="and"}function JS(t){return JN(t)&&XS(t)}function JN(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function vv(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(JS(t))return t.filters.map(e=>vv(e)).join(",");{const e=t.filters.map(n=>vv(n)).join(",");return`${t.op}(${e})`}}function QS(t,e){return t instanceof Zt?function(r,s){return s instanceof Zt&&r.op===s.op&&r.field.isEqual(s.field)&&Sr(r.value,s.value)}(t,e):t instanceof Pr?function(r,s){return s instanceof Pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&QS(l,s.filters[c]),!0):!1}(t,e):void Pe()}function ZS(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"}(t):"Filter"}class QN extends Zt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZN extends Zt{constructor(e,n){super(e,"in",n),this.keys=eP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eV extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=eP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class tV extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xy(n)&&Jc(n.arrayValue,this.value)}}class nV extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class iV extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jc(this.value.arrayValue,n)}}class rV extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function ET(t,e=null,n=[],r=[],s=null,a=null,l=null){return new sV(t,e,n,r,s,a,l)}function Dy(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.ue=n}return e.ue}function Oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bT(t.startAt,e.startAt)&&bT(t.endAt,e.endAt)}function yv(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oV(t,e,n,r,s,a,l,c){return new Tp(t,e,n,r,s,a,l,c)}function My(t){return new Tp(t)}function TT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aV(t){return t.collectionGroup!==null}function Sc(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(_n.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Wf(a,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Wf(_n.keyField(),r))}return e.ce}function _r(t){const e=xe(t);return e.le||(e.le=lV(e,Sc(t))),e.le}function lV(t,e){if(t.limitType==="F")return ET(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Wf(s.field,a)});const n=t.endAt?new Hf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hf(t.startAt.position,t.startAt.inclusive):null;return ET(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _v(t,e,n){return new Tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ip(t,e){return Oy(_r(t),_r(e))&&t.limitType===e.limitType}function tP(t){return`${Dy(_r(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ZS(s)).join(", ")}]`),Ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vl(s)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Ap(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Sc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,f){const p=wT(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,Sc(r),s)||r.endAt&&!function(l,c,f){const p=wT(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,Sc(r),s))}(t,e)}function uV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nP(t){return(e,n)=>{let r=!1;for(const s of Sc(t)){const a=cV(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function cV(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?gl(f,p):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new bt(we.comparator);function Zr(){return hV}const iP=new bt(we.comparator);function hc(...t){let e=iP;for(const n of t)e=e.insert(n.key,n);return e}function rP(t){let e=iP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ko(){return Pc()}function sP(){return Pc()}function Pc(){return new Rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const dV=new bt(we.comparator),fV=new wn(we.comparator);function $e(...t){let e=fV;for(const n of t)e=e.add(n);return e}const pV=new wn(Ge);function mV(){return pV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function oP(t){return{integerValue:""+t}}function gV(t,e){return KN(e)?oP(e):Ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this._=void 0}}function vV(t,e,n){return t instanceof Kf?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ry(a)&&(a=ky(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof yl?lP(t,e):t instanceof Qc?uP(t,e):function(s,a){const l=aP(s,a),c=IT(l)+IT(s.Pe);return gv(l)&&gv(s.Pe)?oP(c):Ny(s.serializer,c)}(t,e)}function yV(t,e,n){return t instanceof yl?lP(t,e):t instanceof Qc?uP(t,e):n}function aP(t,e){return t instanceof qf?function(r){return gv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Kf extends Sp{}class yl extends Sp{constructor(e){super(),this.elements=e}}function lP(t,e){const n=cP(e);for(const r of t.elements)n.some(s=>Sr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qc extends Sp{constructor(e){super(),this.elements=e}}function uP(t,e){let n=cP(e);for(const r of t.elements)n=n.filter(s=>!Sr(s,r));return{arrayValue:{values:n}}}class qf extends Sp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function IT(t){return Lt(t.integerValue||t.doubleValue)}function cP(t){return xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.field=e,this.transform=n}}function wV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yl&&s instanceof yl||r instanceof Qc&&s instanceof Qc?ml(r.elements,s.elements,Sr):r instanceof qf&&s instanceof qf?Sr(r.Pe,s.Pe):r instanceof Kf&&s instanceof Kf}(t.transform,e.transform)}class bV{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pp{}function hP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fP(t.key,wr.none()):new ph(t.key,t.data,wr.none());{const n=t.data,r=Xn.empty();let s=new wn(_n.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Gs(t.key,r,new mi(s.toArray()),wr.none())}}function EV(t,e,n){t instanceof ph?function(s,a,l){const c=s.value.clone(),f=ST(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(s,a,l){if(!vf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=ST(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(dP(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof ph?function(a,l,c,f){if(!vf(a.precondition,l))return c;const p=a.value.clone(),g=PT(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gs?function(a,l,c,f){if(!vf(a.precondition,l))return c;const p=PT(a.fieldTransforms,f,l),g=l.data;return g.setAll(dP(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return vf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function TV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=aP(r.transform,s||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,a))}return n||null}function AT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ml(r,s,(a,l)=>wV(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ph extends Pp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gs extends Pp{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ST(t,e,n){const r=new Map;nt(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,yV(l,c,n[s]))}return r}function PT(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,vV(a,l,e))}return r}class fP extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IV extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&EV(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sP();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const f=hP(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,r)=>AT(n,r))&&ml(this.baseMutations,e.baseMutations,(n,r)=>AT(n,r))}}class Vy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){nt(e.mutations.length===r.length);let s=function(){return dV}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Vy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ke;function CV(t){switch(t){default:return Pe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function pP(t){if(t===void 0)return Qr("GRPC error has no .code"),X.UNKNOWN;switch(t){case Bt.OK:return X.OK;case Bt.CANCELLED:return X.CANCELLED;case Bt.UNKNOWN:return X.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return X.INTERNAL;case Bt.UNAVAILABLE:return X.UNAVAILABLE;case Bt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Bt.NOT_FOUND:return X.NOT_FOUND;case Bt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Bt.ABORTED:return X.ABORTED;case Bt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Bt.DATA_LOSS:return X.DATA_LOSS;default:return Pe()}}(Ke=Bt||(Bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new No([4294967295,4294967295],0);function CT(t){const e=RV().encode(t),n=new FS;return n.update(e),new Uint8Array(n.digest())}function RT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new No([n,r],0),new No([s,a],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dc(`Invalid padding: ${n}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=No.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(No.fromNumber(r)));return s.compare(kV)===1&&(s=new No([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=CT(e),[r,s]=RT(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ly(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ie===0)return;const n=CT(e),[r,s]=RT(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cp(Re.min(),s,new bt(Ge),Zr(),$e())}}class mh{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mh(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class mP{constructor(e,n){this.targetId=e,this.me=n}}class gP{constructor(e,n,r=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kT{constructor(){this.fe=0,this.ge=DT(),this.pe=bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),n=$e(),r=$e();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe()}}),new mh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=xT(),this.Qe=new bt(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(yv(a))if(r===0){const l=new we(a.path);this.Ue(n,l,Cn.newNoDocument(l,Re.min()))}else nt(r===1);else{const l=this.Ye(n);if(l!==r){const c=this.Ze(e),f=c?this.Xe(c,e,l):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=$o(r).toUint8Array()}catch(f){if(f instanceof GS)return pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Ly(l,s,a)}catch(f){return pl(f instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,a,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((a,l)=>{const c=this.Je(l);if(c){if(a.current&&yv(c.target)){const f=new we(c.target.path);this.ke.get(f)!==null||this.it(l,f)||this.Ue(l,f,Cn.newNoDocument(f,e))}a.be&&(n.set(l,a.ve()),a.Ce())}});let r=$e();this.qe.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const s=new Cp(e,n,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=xT(),this.Qe=new bt(Ge),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wn(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xT(){return new bt(we.comparator)}function DT(){return new bt(we.comparator)}const DV={asc:"ASCENDING",desc:"DESCENDING"},OV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MV={and:"AND",or:"OR"};class NV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wv(t,e){return t.useProto3Json||Ep(e)?e:{value:e}}function Gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VV(t,e){return Gf(t,e.toTimestamp())}function br(t){return nt(!!t),Re.fromTimestamp(function(n){const r=$s(n);return new en(r.seconds,r.nanos)}(t))}function Fy(t,e){return bv(t,e).canonicalString()}function bv(t,e){const n=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yP(t){const e=gt.fromString(t);return nt(TP(e)),e}function Ev(t,e){return Fy(t.databaseId,e.path)}function xg(t,e){const n=yP(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(wP(n))}function _P(t,e){return Fy(t.databaseId,e)}function LV(t){const e=yP(t);return e.length===4?gt.emptyPath():wP(e)}function Tv(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wP(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OT(t,e,n){return{name:Ev(t,e),fields:n.value.mapValue.fields}}function FV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(nt(g===void 0||typeof g=="string"),bn.fromBase64String(g||"")):(nt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),bn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?X.UNKNOWN:pP(p.code);return new ve(g,p.message||"")}(l);n=new gP(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xg(t,r.document.name),a=br(r.document.updateTime),l=r.document.createTime?br(r.document.createTime):Re.min(),c=new Xn({mapValue:{fields:r.document.fields}}),f=Cn.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new yf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xg(t,r.document),a=r.readTime?br(r.readTime):Re.min(),l=Cn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new yf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xg(t,r.document),a=r.removedTargetIds||[];n=new yf([],a,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new PV(s,a),c=r.targetId;n=new mP(c,l)}}return n}function UV(t,e){let n;if(e instanceof ph)n={update:OT(t,e.key,e.value)};else if(e instanceof fP)n={delete:Ev(t,e.key)};else if(e instanceof Gs)n={update:OT(t,e.key,e.data),updateMask:zV(e.fieldMask)};else{if(!(e instanceof IV))return Pe();n={verify:Ev(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Kf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:VV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(t,e.precondition)),n}function jV(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?br(s.updateTime):br(a);return l.isEqual(Re.min())&&(l=br(a)),new bV(l,s.transformResults||[])}(n,e))):[]}function BV(t,e){return{documents:[_P(t,e.path)]}}function $V(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_P(t,s);const a=function(p){if(p.length!==0)return EP(Pr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(b){return{field:za(b.field),direction:KV(b.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=wv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:s}}function HV(t){let e=LV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){nt(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const b=bP(_);return b instanceof Pr&&JS(b)?b.getFilters():[b]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(b=>function(N){return new Wf(Ya(N.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(_){let b;return b=typeof _=="object"?_.value:_,Ep(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(_){const b=!!_.before,I=_.values||[];return new Hf(I,b)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const b=!_.before,I=_.values||[];return new Hf(I,b)}(n.endAt)),oV(e,s,l,a,c,"F",f,p)}function WV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ya(n.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ya(n.unaryFilter.field);return Zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ya(n.unaryFilter.field);return Zt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(Ya(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>bP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function KV(t){return DV[t]}function qV(t){return OV[t]}function GV(t){return MV[t]}function za(t){return{fieldPath:t.canonicalString()}}function Ya(t){return _n.fromServerFormat(t.fieldPath)}function EP(t){return t instanceof Zt?function(n){if(n.op==="=="){if(_T(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(yT(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_T(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(yT(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:qV(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(s=>EP(s));return r.length===1?r[0]:{compositeFilter:{op:GV(n.op),filters:r}}}(t):Pe()}function zV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,s,a=Re.min(),l=Re.min(),c=bn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ct=e}}function XV(t){const e=HV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_v(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.un=new QV}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Bs.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class QV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(gt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _l(0)}static kn(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.changes=new Rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cc(r.mutation,s,mi.empty(),en.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=ko();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=hc();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=Zr();const l=Pc(),c=function(){return Pc()}();return n.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Gs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Cc(g.mutation,p,g.mutation.getFieldMask(),en.now())):l.set(p.key,mi.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new eL(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Pc();let s=new bt((l,c)=>l-c),a=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||mi.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(s.get(c.batchId)||$e()).add(f);s=s.insert(c.batchId,_)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=sP();g.forEach(b=>{if(!a.has(b)){const I=hP(n.get(b),r.get(b));I!==null&&_.set(b,I),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Z.resolve(ko());let c=-1,f=a;return l.next(p=>Z.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{f=f.insert(g,b)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,$e())).next(g=>({batchId:c,changes:rP(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=hc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=hc();return this.indexManager.getCollectionParents(e,a).next(c=>Z.forEach(c,f=>{const p=function(_,b){return new Tp(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,b)=>{l=l.insert(_,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Cn.newInvalidDocument(g)))});let c=hc();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Cc(g.mutation,p,mi.empty(),en.now()),Ap(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:br(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:XV(s.bundledQuery),readTime:br(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.overlays=new bt(we.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ko();return Z.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.ht(e,n,a)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=ko(),a=n.length+1,l=new we(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new bt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ko(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=ko(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return Z.resolve(c)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new SV(n,r));let a=this.Ir.get(n);a===void 0&&(a=$e(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Tr=new wn(un.Er),this.dr=new wn(un.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new un(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new un(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new gt([])),r=new un(n,e),s=new un(n,e+1),a=[];return this.dr.forEachInRange([r,s],l=>{this.Vr(l),a.push(l.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new gt([])),r=new un(n,e),s=new un(n,e+1);let a=$e();return this.dr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new un(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wn(un.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new AV(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.br=this.br.add(new un(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),s=new un(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],l=>{const c=this.Dr(l.wr);a.push(c)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(Ge);return n.forEach(s=>{const a=new un(s,0),l=new un(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],c=>{r=r.add(c.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const l=new un(new we(a),0);let c=new wn(Ge);return this.br.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.wr)),!0)},l),Z.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,s=>{const a=new un(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new un(n,0),s=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.Mr=e,this.docs=function(){return new bt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Cn.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Zr();const l=n.path,c=new we(l.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||BN(jN(g),r)<=0||(s.has(g.key)||Ap(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aL(this)}getSize(e){return Z.resolve(this.size)}}class aL extends ZV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.persistence=e,this.Nr=new Rl(n=>Dy(n),Oy),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Uy,this.targetCount=0,this.kr=_l.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cy(0),this.Kr=!1,this.Kr=!0,this.$r=new rL,this.referenceDelegate=e(this),this.Ur=new lL(this),this.indexManager=new JV,this.remoteDocumentCache=function(s){return new oL(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YV(n),this.Gr=new nL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new cL(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class cL extends HN{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.Jr=new Uy,this.Yr=null}static Zr(e){return new jy(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const s=we.fromPath(r);return this.ei(e,s).next(a=>{a||n.removeEntry(s,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=$e(),s=$e();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new By(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hM()?8:WN(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Zi(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new hL;return this.Xi(e,n,l).next(c=>{if(a.result=c,this.zi)return this.es(e,n,l,c.size)})}).next(()=>a.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ec()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(ec()<=Be.DEBUG&&de("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ec()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):Z.resolve())}Yi(e,n){if(TT(n))return Z.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=_v(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=$e(...a);return this.Ji.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ts(n,c);return this.ns(n,p,l,f.readTime)?this.Yi(e,_v(n,null,"F")):this.rs(e,p,n,f)}))})))}Zi(e,n,r,s){return TT(n)||s.isEqual(Re.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const l=this.ts(n,a);return this.ns(n,l,r,s)?Z.resolve(null):(ec()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ga(n)),this.rs(e,l,n,UN(s,-1)).next(c=>c))})}ts(e,n){let r=new wn(nP(e));return n.forEach((s,a)=>{Ap(e,a)&&(r=r.add(a))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return ec()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new bt(Ge),this._s=new Rl(a=>Dy(a),Oy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function pL(t,e,n,r){return new fL(t,e,n,r)}async function IP(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=$e();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({hs:p,removedBatchIds:l,addedBatchIds:c}))})})}function mL(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,b=_.keys();let I=Z.resolve();return b.forEach(N=>{I=I.next(()=>g.getEntry(f,N)).next(T=>{const S=p.docVersions.get(N);nt(S!==null),T.version.compareTo(S)<0&&(_.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),g.addEntry(T)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=$e();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function AP(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gL(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach((g,_)=>{const b=s.get(_);if(!b)return;c.push(n.Ur.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Ur.addMatchingKeys(a,g.addedDocuments,_)));let I=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(bn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(_,I),function(T,S,D){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(b,I,g)&&c.push(n.Ur.updateTargetData(a,I))});let f=Zr(),p=$e();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(vL(a,l,e.documentUpdates).next(g=>{f=g.Ps,p=g.Is})),!r.isEqual(Re.min())){const g=n.Ur.getLastRemoteSnapshotVersion(a).next(_=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return Z.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.os=s,a))}function vL(t,e,n){let r=$e(),s=$e();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Zr();return n.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):de("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Ps:l,Is:s}})}function yL(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _L(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):n.Ur.allocateTargetId(r).next(l=>(s=new xs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Iv(t,e,n){const r=xe(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!fh(l))throw l;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function MT(t,e,n){const r=xe(t);let s=Re.min(),a=$e();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=xe(f),b=_._s.get(g);return b!==void 0?Z.resolve(_.os.get(b)):_.Ur.getTargetData(p,g)}(r,l,_r(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.ss.getDocumentsMatchingQuery(l,e,n?s:Re.min(),n?a:$e())).next(c=>(wL(r,uV(e),c),{documents:c,Ts:a})))}function wL(t,e,n){let r=t.us.get(e)||Re.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class NT{constructor(){this.activeTargetIds=mV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bL{constructor(){this.so=new NT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new NT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function Dg(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class AL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,l){const c=Dg(),f=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${c}:`,f,s);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,a,l),this.No(n,f,p,s).then(g=>(de("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw pl("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",f,"request:",s),g})}Lo(n,r,s,a,l,c){return this.Mo(n,r,s,a,l)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),s&&s.headers.forEach((a,l)=>n[l]=a)}xo(n,r){const s=TL[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=Dg();return new Promise((l,c)=>{const f=new US;f.setWithCredentials(!0),f.listenOnce(jS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case mf.NO_ERROR:const g=f.getResponseJson();de(In,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case mf.TIMEOUT:de(In,`RPC '${e}' ${a} timed out`),c(new ve(X.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const _=f.getStatus();if(de(In,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b==null?void 0:b.error;if(I&&I.status&&I.message){const N=function(S){const D=S.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(D)>=0?D:X.UNKNOWN}(I.status);c(new ve(N,I.message))}else c(new ve(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ve(X.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{de(In,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);de(In,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",p,r,15)})}Bo(e,n,r){const s=Dg(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HS(),c=$S(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");de(In,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=l.createWebChannel(g,f);let b=!1,I=!1;const N=new IL({Io:S=>{I?de(In,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(b||(de(In,`Opening RPC '${e}' stream ${s} transport.`),_.open(),b=!0),de(In,`RPC '${e}' stream ${s} sending:`,S),_.send(S))},To:()=>_.close()}),T=(S,D,F)=>{S.listen(D,B=>{try{F(B)}catch(K){setTimeout(()=>{throw K},0)}})};return T(_,cc.EventType.OPEN,()=>{I||(de(In,`RPC '${e}' stream ${s} transport opened.`),N.yo())}),T(_,cc.EventType.CLOSE,()=>{I||(I=!0,de(In,`RPC '${e}' stream ${s} transport closed`),N.So())}),T(_,cc.EventType.ERROR,S=>{I||(I=!0,pl(In,`RPC '${e}' stream ${s} transport errored:`,S),N.So(new ve(X.UNAVAILABLE,"The operation could not be completed")))}),T(_,cc.EventType.MESSAGE,S=>{var D;if(!I){const F=S.data[0];nt(!!F);const B=F,K=B.error||((D=B[0])===null||D===void 0?void 0:D.error);if(K){de(In,`RPC '${e}' stream ${s} received error:`,K);const q=K.status;let ie=function(C){const O=Bt[C];if(O!==void 0)return pP(O)}(q),V=K.message;ie===void 0&&(ie=X.INTERNAL,V="Unknown error status: "+q+" with message "+K.message),I=!0,N.So(new ve(ie,V)),_.close()}else de(In,`RPC '${e}' stream ${s} received:`,F),N.bo(F)}}),T(c,BS.STAT_EVENT,S=>{S.stat===pv.PROXY?de(In,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===pv.NOPROXY&&de(In,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function Og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){return new NV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r,s,a,l,c,f){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new SP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ve(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SL extends PP{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=FV(this.serializer,e),r=function(a){if(!("targetChange"in a))return Re.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?br(l.readTime):Re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Tv(this.serializer),n.addTarget=function(a,l){let c;const f=l.target;if(c=yv(f)?{documents:BV(a,f)}:{query:$V(a,f)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=vP(a,l.resumeToken);const p=wv(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){c.readTime=Gf(a,l.snapshotVersion.toTimestamp());const p=wv(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=WV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Tv(this.serializer),n.removeTarget=e,this.a_(n)}}class PL extends PP{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=jV(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Tv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Mo(e,bv(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(X.UNKNOWN,a.toString())})}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Lo(e,bv(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(X.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class RL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(l=>{r.enqueueAndForget(async()=>{Xo(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=xe(f);p.L_.add(4),await gh(p),p.q_.set("Unknown"),p.L_.delete(4),await kp(p)}(this))})}),this.q_=new RL(r,s)}}async function kp(t){if(Xo(t))for(const e of t.B_)await e(!0)}async function gh(t){for(const e of t.B_)await e(!1)}function CP(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ky(n)?Wy(n):kl(n).r_()&&Hy(n,e))}function $y(t,e){const n=xe(t),r=kl(n);n.N_.delete(e),r.r_()&&RP(n,e),n.N_.size===0&&(r.r_()?r.o_():Xo(n)&&n.q_.set("Unknown"))}function Hy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).A_(e)}function RP(t,e){t.Q_.xe(e),kl(t).R_(e)}function Wy(t){t.Q_=new xV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.q_.v_()}function Ky(t){return Xo(t)&&!kl(t).n_()&&t.N_.size>0}function Xo(t){return xe(t).L_.size===0}function kP(t){t.Q_=void 0}async function xL(t){t.q_.set("Online")}async function DL(t){t.N_.forEach((e,n)=>{Hy(t,e)})}async function OL(t,e){kP(t),Ky(t)?(t.q_.M_(e),Wy(t)):t.q_.set("Unknown")}async function ML(t,e,n){if(t.q_.set("Online"),e instanceof gP&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(t,r)}else if(e instanceof yf?t.Q_.Ke(e):e instanceof mP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Re.min()))try{const r=await AP(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.Q_.rt(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.N_.get(p);g&&a.N_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.N_.get(f);if(!g)return;a.N_.set(f,g.withResumeToken(bn.EMPTY_BYTE_STRING,g.snapshotVersion)),RP(a,f);const _=new xs(g.target,f,p,g.sequenceNumber);Hy(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await zf(t,r)}}async function zf(t,e,n){if(!fh(e))throw e;t.L_.add(1),await gh(t),t.q_.set("Offline"),n||(n=()=>AP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kp(t)})}function xP(t,e){return e().catch(n=>zf(t,n,e))}async function xp(t){const e=xe(t),n=Hs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NL(e);)try{const s=await yL(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,VL(e,s)}catch(s){await zf(e,s)}DP(e)&&OP(e)}function NL(t){return Xo(t)&&t.O_.length<10}function VL(t,e){t.O_.push(e);const n=Hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DP(t){return Xo(t)&&!Hs(t).n_()&&t.O_.length>0}function OP(t){Hs(t).start()}async function LL(t){Hs(t).p_()}async function FL(t){const e=Hs(t);for(const n of t.O_)e.m_(n.mutations)}async function UL(t,e,n){const r=t.O_.shift(),s=Vy.from(r,e,n);await xP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xp(t)}async function jL(t,e){e&&Hs(t).V_&&await async function(r,s){if(function(l){return CV(l)&&l!==X.ABORTED}(s.code)){const a=r.O_.shift();Hs(r).s_(),await xP(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await xp(r)}}(t,e),DP(t)&&OP(t)}async function LT(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Xo(n);n.L_.add(3),await gh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kp(n)}async function BL(t,e){const n=xe(t);e?(n.L_.delete(2),await kp(n)):e||(n.L_.add(2),await gh(n),n.q_.set("Unknown"))}function kl(t){return t.K_||(t.K_=function(n,r,s){const a=xe(n);return a.w_(),new SL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:xL.bind(null,t),Ro:DL.bind(null,t),mo:OL.bind(null,t),d_:ML.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ky(t)?Wy(t):t.q_.set("Unknown")):(await t.K_.stop(),kP(t))})),t.K_}function Hs(t){return t.U_||(t.U_=function(n,r,s){const a=xe(n);return a.w_(),new PL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:LL.bind(null,t),mo:jL.bind(null,t),f_:FL.bind(null,t),g_:UL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xp(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new qy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),fh(t))return new ve(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new al(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.W_=new bt(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wl{constructor(e,n,r,s,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new wl(e,n,al.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class HL{constructor(){this.queries=UT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=xe(n),a=s.queries;s.queries=UT(),a.forEach((l,c)=>{for(const f of c.j_)f.onError(r)})})(this,new ve(X.ABORTED,"Firestore shutting down"))}}function UT(){return new Rl(t=>tP(t),Ip)}async function MP(t,e){const n=xe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new $L,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Gy(l,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&zy(n)}async function NP(t,e){const n=xe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WL(t,e){const n=xe(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.j_)c.X_(s)&&(r=!0);l.z_=s}}r&&zy(n)}function KL(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function zy(t){t.Y_.forEach(e=>{e.next()})}var Av,jT;(jT=Av||(Av={})).ea="default",jT.Cache="cache";class VP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.key=e}}class FP{constructor(e){this.key=e}}class qL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$e(),this.mutatedKeys=$e(),this.Aa=nP(e),this.Ra=new al(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new FT,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const b=s.get(g),I=Ap(this.query,_)?_:null,N=!!b&&this.mutatedKeys.has(b.key),T=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let S=!1;b&&I?b.data.isEqual(I.data)?N!==T&&(r.track({type:3,doc:I}),S=!0):this.ga(b,I)||(r.track({type:2,doc:I}),S=!0,(f&&this.Aa(I,f)>0||p&&this.Aa(I,p)<0)&&(c=!0)):!b&&I?(r.track({type:0,doc:I}),S=!0):b&&!I&&(r.track({type:1,doc:b}),S=!0,(f||p)&&(c=!0)),S&&(I?(l=l.add(I),a=T?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Ra:l,fa:r,ns:c,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((g,_)=>function(I,N){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return T(I)-T(N)}(g.type,_.type)||this.Aa(g.doc,_.doc)),this.pa(r),s=s!=null&&s;const c=n&&!s?this.ya():[],f=this.da.size===0&&this.current&&!s?1:0,p=f!==this.Ea;return this.Ea=f,l.length!==0||p?{snapshot:new wl(this.query,e.Ra,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new FT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=$e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new LP(r))}),n}ba(e){this.Ta=e.Ts,this.da=$e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class GL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zL{constructor(e){this.key=e,this.va=!1}}class YL{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Rl(c=>tP(c),Ip),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(we.comparator),this.Na=new Map,this.La=new Uy,this.Ba={},this.ka=new Map,this.qa=_l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function XL(t,e,n=!0){const r=WP(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await UP(r,e,n,!0),s}async function JL(t,e){const n=WP(t);await UP(n,e,!0,!1)}async function UP(t,e,n,r){const s=await _L(t.localStore,_r(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await QL(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&CP(t.remoteStore,s),c}async function QL(t,e,n,r,s){t.Ka=(_,b,I)=>async function(T,S,D,F){let B=S.view.ma(D);B.ns&&(B=await MT(T.localStore,S.query,!1).then(({documents:V})=>S.view.ma(V,B)));const K=F&&F.targetChanges.get(S.targetId),q=F&&F.targetMismatches.get(S.targetId)!=null,ie=S.view.applyChanges(B,T.isPrimaryClient,K,q);return $T(T,S.targetId,ie.wa),ie.snapshot}(t,_,b,I);const a=await MT(t.localStore,e,!0),l=new qL(e,a.Ts),c=l.ma(a.documents),f=mh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,f);$T(t,n,p.wa);const g=new GL(e,n,l);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function ZL(t,e,n){const r=xe(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter(l=>!Ip(l,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Iv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$y(r.remoteStore,s.targetId),Sv(r,s.targetId)}).catch(dh)):(Sv(r,s.targetId),await Iv(r.localStore,s.targetId,!0))}async function eF(t,e){const n=xe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$y(n.remoteStore,r.targetId))}async function tF(t,e,n){const r=lF(t);try{const s=await function(l,c){const f=xe(l),p=en.now(),g=c.reduce((I,N)=>I.add(N.key),$e());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=Zr(),T=$e();return f.cs.getEntries(I,g).next(S=>{N=S,N.forEach((D,F)=>{F.isValidDocument()||(T=T.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,N)).next(S=>{_=S;const D=[];for(const F of c){const B=TV(F,_.get(F.key).overlayedDocument);B!=null&&D.push(new Gs(F.key,B,zS(B.value.mapValue),wr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,D,c)}).next(S=>{b=S;const D=S.applyToLocalDocumentSet(_,T);return f.documentOverlayCache.saveOverlays(I,S.batchId,D)})}).then(()=>({batchId:b.batchId,changes:rP(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let p=l.Ba[l.currentUser.toKey()];p||(p=new bt(Ge)),p=p.insert(c,f),l.Ba[l.currentUser.toKey()]=p}(r,s.batchId,n),await vh(r,s.changes),await xp(r.remoteStore)}catch(s){const a=Gy(s,"Failed to persist write");n.reject(a)}}async function jP(t,e){const n=xe(t);try{const r=await gL(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Na.get(a);l&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.va=!0:s.modifiedDocuments.size>0?nt(l.va):s.removedDocuments.size>0&&(nt(l.va),l.va=!1))}),await vh(n,r,e)}catch(r){await dh(r)}}function BT(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((a,l)=>{const c=l.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=xe(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const b of _.j_)b.Z_(c)&&(p=!0)}),p&&zy(f)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nF(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let l=new bt(we.comparator);l=l.insert(a,Cn.newNoDocument(a,Re.min()));const c=$e().add(a),f=new Cp(Re.min(),new Map,new bt(Ge),l,c);await jP(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),Yy(r)}else await Iv(r.localStore,e,!1).then(()=>Sv(r,e,n)).catch(dh)}async function iF(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await mL(n.localStore,e);$P(n,r,null),BP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vh(n,s)}catch(s){await dh(s)}}async function rF(t,e,n){const r=xe(t);try{const s=await function(l,c){const f=xe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(nt(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);$P(r,e,n),BP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vh(r,s)}catch(s){await dh(s)}}function BP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $P(t,e,n){const r=xe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HP(t,r)})}function HP(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&($y(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Yy(t))}function $T(t,e,n){for(const r of n)r instanceof LP?(t.La.addReference(r.key,e),sF(t,r)):r instanceof FP?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HP(t,r.key)):Pe()}function sF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),Yy(t))}function Yy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(gt.fromString(e)),r=t.qa.next();t.Na.set(r,new zL(n)),t.Oa=t.Oa.insert(n,r),CP(t.remoteStore,new xs(_r(My(n.path)),r,"TargetPurposeLimboResolution",Cy.oe))}}async function vh(t,e,n){const r=xe(t),s=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach((c,f)=>{l.push(r.Ka(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=By.Wi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.Ca.d_(s),await async function(f,p){const g=xe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Z.forEach(p,b=>Z.forEach(b.$i,I=>g.persistence.referenceDelegate.addReference(_,b.targetId,I)).next(()=>Z.forEach(b.Ui,I=>g.persistence.referenceDelegate.removeReference(_,b.targetId,I)))))}catch(_){if(!fh(_))throw _;de("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const b=_.targetId;if(!_.fromCache){const I=g.os.get(b),N=I.snapshotVersion,T=I.withLastLimboFreeSnapshotVersion(N);g.os=g.os.insert(b,T)}}}(r.localStore,a))}async function oF(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await IP(n.localStore,e);n.currentUser=e,function(a,l){a.ka.forEach(c=>{c.forEach(f=>{f.reject(new ve(X.CANCELLED,l))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vh(n,r.hs)}}function aF(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return $e().add(r.key);{let s=$e();const a=n.Ma.get(e);if(!a)return s;for(const l of a){const c=n.Fa.get(l);s=s.unionWith(c.view.Va)}return s}}function WP(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nF.bind(null,e),e.Ca.d_=WL.bind(null,e.eventManager),e.Ca.$a=KL.bind(null,e.eventManager),e}function lF(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rF.bind(null,e),e}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return pL(this.persistence,new dL,e.initialUser,this.serializer)}Ga(e){return new uL(jy.Zr,this.serializer)}Wa(e){return new bL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class Pv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oF.bind(null,this.syncEngine),await BL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HL}()}createDatastore(e){const n=Rp(e.databaseInfo.databaseId),r=function(a){return new AL(a)}(e.databaseInfo);return function(a,l,c,f){return new CL(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new kL(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>BT(this.syncEngine,n,0),function(){return VT.D()?new VT:new EL}())}createSyncEngine(e,n){return function(s,a,l,c,f,p,g){const _=new YL(s,a,l,c,f,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=xe(s);de("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await gh(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pv.provider={build:()=>new Pv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Sn.UNAUTHENTICATED,this.clientId=KS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{de("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(de("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await IP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cF(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>LT(e.remoteStore,s)),t._onlineComponents=e}async function cF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new Yf)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Mg(t,new Yf);return t._offlineComponents}async function qP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await HT(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await HT(t,new Pv))),t._onlineComponents}function hF(t){return qP(t).then(e=>e.syncEngine)}async function GP(t){const e=await qP(t),n=e.eventManager;return n.onListen=XL.bind(null,e.syncEngine),n.onUnlisten=ZL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eF.bind(null,e.syncEngine),n}function dF(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new KP({next:b=>{g.Za(),l.enqueueAndForget(()=>NP(a,_));const I=b.docs.has(c);!I&&b.fromCache?p.reject(new ve(X.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&f&&f.source==="server"?p.reject(new ve(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new VP(My(c.path),g,{includeMetadataChanges:!0,_a:!0});return MP(a,_)}(await GP(t),t.asyncQueue,e,n,r)),r.promise}function fF(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new KP({next:b=>{g.Za(),l.enqueueAndForget(()=>NP(a,_)),b.fromCache&&f.source==="server"?p.reject(new ve(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),_=new VP(c,g,{includeMetadataChanges:!0,_a:!0});return MP(a,_)}(await GP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e,n){if(!n)throw new ve(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pF(t,e,n,r){if(e===!0&&r===!0)throw new ve(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!we.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qT(t){if(we.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xy(t);throw new ve(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kN;switch(r.type){case"firstParty":return new MN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WT.get(n);r&&(de("ComponentProvider","Removing Datastore"),WT.delete(n),r.terminate())}(this),Promise.resolve()}}function mF(t,e,n,r={}){var s;const a=(t=es(t,Dp))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Sn.MOCK_USER;else{c=aM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Sn(p)}t._authCredentials=new xN(new WS(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Op(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Ns extends Op{constructor(e,n,r){super(e,n,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new we(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function gF(t,e,...n){if(t=ke(t),YP("collection","path",e),t instanceof Dp){const r=gt.fromString(e,...n);return qT(r),new Ns(t,null,r)}{if(!(t instanceof Qn||t instanceof Ns))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return qT(r),new Ns(t.firestore,null,r)}}function Xf(t,e,...n){if(t=ke(t),arguments.length===1&&(e=KS.newId()),YP("doc","path",e),t instanceof Dp){const r=gt.fromString(e,...n);return KT(r),new Qn(t,null,new we(r))}{if(!(t instanceof Qn||t instanceof Ns))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return KT(r),new Qn(t.firestore,t instanceof Ns?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new SP(this,"async_queue_retry"),this.Vu=()=>{const r=Og();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Kr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fh(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=qy.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class yh extends Dp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new zT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zT(e),this._firestoreClient=void 0,await e}}}function vF(t,e){const n=typeof t=="object"?t:Ay(),r=typeof t=="string"?t:"(default)",s=hh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=sM("firestore");a&&mF(s,...a)}return s}function Jy(t){if(t._terminated)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yF(t),t._firestoreClient}function yF(t){var e,n,r;const s=t._freezeSettings(),a=function(c,f,p,g){return new GN(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,zP(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uF(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(bn.fromBase64String(e))}catch(n){throw new ve(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bl(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=/^__.*__$/;class wF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ph(e,this.data,n,this.fieldTransforms)}}class XP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Vp{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JP(this.Cu)&&_F.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rp(e)}Qu(e,n,r,s=!1){return new Vp({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QP(t){const e=t._freezeSettings(),n=Rp(t._databaseId);return new bF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EF(t,e,n,r,s,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);t_("Data must be an object, but it was:",l,r);const c=ZP(r,l);let f,p;if(a.merge)f=new mi(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const b=Cv(e,_,n);if(!l.contains(b))throw new ve(X.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);tC(g,b)||g.push(b)}f=new mi(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new wF(new Xn(c),f,p)}class Lp extends Np{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}function TF(t,e,n){return new Vp({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class e_ extends Np{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=TF(this,e,!0),r=this.Ku.map(a=>_h(a,n)),s=new yl(r);return new _V(e.path,s)}isEqual(e){return e instanceof e_&&Kc(this.Ku,e.Ku)}}function IF(t,e,n,r){const s=t.Qu(1,e,n);t_("Data must be an object, but it was:",s,r);const a=[],l=Xn.empty();Yo(r,(f,p)=>{const g=n_(e,f,n);p=ke(p);const _=s.Nu(g);if(p instanceof Lp)a.push(g);else{const b=_h(p,_);b!=null&&(a.push(g),l.set(g,b))}});const c=new mi(a);return new XP(l,c,s.fieldTransforms)}function AF(t,e,n,r,s,a){const l=t.Qu(1,e,n),c=[Cv(e,r,n)],f=[s];if(a.length%2!=0)throw new ve(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)c.push(Cv(e,a[b])),f.push(a[b+1]);const p=[],g=Xn.empty();for(let b=c.length-1;b>=0;--b)if(!tC(p,c[b])){const I=c[b];let N=f[b];N=ke(N);const T=l.Nu(I);if(N instanceof Lp)p.push(I);else{const S=_h(N,T);S!=null&&(p.push(I),g.set(I,S))}}const _=new mi(p);return new XP(g,_,l.fieldTransforms)}function _h(t,e){if(eC(t=ke(t)))return t_("Unsupported field value:",e,t),ZP(t,e);if(t instanceof Np)return function(r,s){if(!JP(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let f=_h(c,s.Lu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=en.fromDate(r);return{timestampValue:Gf(s.serializer,a)}}if(r instanceof en){const a=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gf(s.serializer,a)}}if(r instanceof Qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bl)return{bytesValue:vP(s.serializer,r._byteString)};if(r instanceof Qn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zy)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Bu("VectorValues must only contain numeric values.");return Ny(c.serializer,f)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Xy(r)}`)}(t,e)}function ZP(t,e){const n={};return qS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(r,s)=>{const a=_h(s,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function eC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof Qy||t instanceof bl||t instanceof Qn||t instanceof Np||t instanceof Zy)}function t_(t,e,n){if(!eC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Xy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cv(t,e,n){if((e=ke(e))instanceof Mp)return e._internalPath;if(typeof e=="string")return n_(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const SF=new RegExp("[~\\*/\\[\\]]");function n_(t,e,n){if(e.search(SF)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mp(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ve(X.INVALID_ARGUMENT,c+t+f)}function tC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PF extends nC{data(){return super.data()}}function iC(t,e){return typeof e=="string"?n_(t,e):e instanceof Mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RF{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yo(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Lt(l.doubleValue));return new Zy(a)}convertGeoPoint(e){return new Qy(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=$s(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);nt(TP(r));const s=new Xc(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(n)||Qr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends nC{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _f extends rC{data(e={}){return super.data(e)}}class xF{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _f(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new _f(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new _f(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:DF(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){t=es(t,Qn);const e=es(t.firestore,yh);return dF(Jy(e),t._key).then(n=>VF(e,t,n))}class sC extends RF{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function MF(t){t=es(t,Op);const e=es(t.firestore,yh),n=Jy(e),r=new sC(e);return CF(t._query),fF(n,t._query).then(s=>new xF(e,r,t,s))}function NF(t,e,n){t=es(t,Qn);const r=es(t.firestore,yh),s=kF(t.converter,e);return aC(r,[EF(QP(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wr.none())])}function oC(t,e,n,...r){t=es(t,Qn);const s=es(t.firestore,yh),a=QP(s);let l;return l=typeof(e=ke(e))=="string"||e instanceof Mp?AF(a,"updateDoc",t._key,e,n,r):IF(a,"updateDoc",t._key,e),aC(s,[l.toMutation(t._key,wr.exists(!0))])}function aC(t,e){return function(r,s){const a=new Kr;return r.asyncQueue.enqueueAndForget(async()=>tF(await hF(r),s,a)),a.promise}(Jy(t),e)}function VF(t,e,n){const r=n.docs.get(e._key),s=new sC(t);return new rC(t,s,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}function LF(...t){return new e_("arrayUnion",t)}(function(e,n=!0){(function(s){Cl=s})(qs),js(new Xr("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new yh(new DN(r.getProvider("auth-internal")),new VN(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xc(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),$i(fT,"4.7.3",e),$i(fT,"4.7.3","esm2017")})();function i_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const tc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Ka={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function lC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UF=FF,jF=lC,uC=new zo("auth","Firebase",lC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new bp("@firebase/auth");function BF(t,...e){Qf.logLevel<=Be.WARN&&Qf.warn(`Auth (${qs}): ${t}`,...e)}function wf(t,...e){Qf.logLevel<=Be.ERROR&&Qf.error(`Auth (${qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw s_(t,...e)}function tn(t,...e){return s_(t,...e)}function r_(t,e,n){const r=Object.assign(Object.assign({},jF()),{[e]:n});return new zo("auth","Firebase",r).create(e,{appName:t.name})}function cn(t){return r_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hn(t,"argument-error"),r_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uC.create(t,...e)}function ne(t,e,...n){if(!t)throw s_(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wf(e),new Error(e)}function Wi(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o_(){return YT()==="http:"||YT()==="https:"}function YT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o_()||IS()||"connection"in navigator)?navigator.onLine:!0}function HF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=lM()||by()}get(){return $F()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=new wh(3e4,6e4);function Rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function kt(t,e,n,r,s={}){return hC(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Pl(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},a);return cM()||(p.referrerPolicy="no-referrer"),cC.fetch()(dC(t,t.config.apiHost,n,c),p)})}async function hC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WF),e);try{const s=new GF(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw pc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw pc(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw r_(t,g,p);hn(t,g)}}catch(s){if(s instanceof Un)throw s;hn(t,"network-request-failed",{message:String(s)})}}async function os(t,e,n,r,s={}){const a=await kt(t,e,n,r,s);return"mfaPendingCredential"in a&&hn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function dC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?a_(t.config,s):`${t.config.apiScheme}://${s}`}function qF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tn(this.auth,"network-request-failed")),KF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=tn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){return t!==void 0&&t.getResponse!==void 0}function JT(t){return t!==void 0&&t.enterprise!==void 0}class zF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t){return(await kt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function XF(t,e){return kt(t,"GET","/v2/recaptchaConfig",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(t,e){return kt(t,"POST","/v1/accounts:delete",e)}async function QF(t,e){return kt(t,"POST","/v1/accounts:update",e)}async function fC(t,e){return kt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZF(t,e=!1){const n=ke(t),r=await n.getIdToken(e),s=Fp(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Rc(Ng(s.auth_time)),issuedAtTime:Rc(Ng(s.iat)),expirationTime:Rc(Ng(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function Fp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const s=yS(n);return s?JSON.parse(s):(wf("Failed to decode base64 JWT payload"),null)}catch(s){return wf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function QT(t){const e=Fp(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Un&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ts(t,fC(n,{idToken:r}));ne(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?pC(a.providerUserInfo):[],c=i4(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Rv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function n4(t){const e=ke(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pC(t){return t.map(e=>{var{providerId:n}=e,r=i_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){const n=await hC(t,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=dC(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",cC.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s4(t,e){return kt(t,"POST","/v2/accounts:revokeToken",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=QT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await r4(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ll;return r&&(ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(ne(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=i_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Rv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ts(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZF(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pt(this.auth.app))return Promise.reject(cn(this.auth));const e=await this.getIdToken();return await ts(this,JF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,f,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,I=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=n.photoURL)!==null&&l!==void 0?l:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=n.createdAt)!==null&&p!==void 0?p:void 0,F=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:K,isAnonymous:q,providerData:ie,stsTokenManager:V}=n;ne(B&&V,e,"internal-error");const P=ll.fromJSON(this.name,V);ne(typeof B=="string",e,"internal-error"),Ps(_,e.name),Ps(b,e.name),ne(typeof K=="boolean",e,"internal-error"),ne(typeof q=="boolean",e,"internal-error"),Ps(I,e.name),Ps(N,e.name),Ps(T,e.name),Ps(S,e.name),Ps(D,e.name),Ps(F,e.name);const C=new $r({uid:B,auth:e,email:b,emailVerified:K,displayName:_,isAnonymous:q,photoURL:N,phoneNumber:I,tenantId:T,stsTokenManager:P,createdAt:D,lastLoginAt:F});return ie&&Array.isArray(ie)&&(C.providerData=ie.map(O=>Object.assign({},O))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new ll;s.updateFromServerResponse(n);const a=new $r({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await eh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?pC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new ll;c.updateFromIdToken(r);const f=new $r({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;function gi(t){Wi(t instanceof Function,"Expected a class definition");let e=ZT.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mC.type="NONE";const El=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,e,n){return`firebase:${t}:${e}:${n}`}class ul{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Vo(this.userKey,s.apiKey,a),this.fullPersistenceKey=Vo("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ul(gi(El),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||gi(El);const l=Vo(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=$r._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ul(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ul(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_C(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wC(e))return"Blackberry";if(bC(e))return"Webos";if(vC(e))return"Safari";if((e.includes("chrome/")||yC(e))&&!e.includes("edge/"))return"Chrome";if(bh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gC(t=Kt()){return/firefox\//i.test(t)}function vC(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yC(t=Kt()){return/crios\//i.test(t)}function _C(t=Kt()){return/iemobile/i.test(t)}function bh(t=Kt()){return/android/i.test(t)}function wC(t=Kt()){return/blackberry/i.test(t)}function bC(t=Kt()){return/webos/i.test(t)}function Eh(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=Kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function a4(t=Kt()){var e;return Eh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l4(){return AS()&&document.documentMode===10}function EC(t=Kt()){return Eh(t)||bh(t)||bC(t)||wC(t)||/windows phone/i.test(t)||_C(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e=[]){let n;switch(t){case"Browser":n=eI(Kt());break;case"Worker":n=`${eI(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e={}){return kt(t,"GET","/v2/passwordPolicy",Rt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=6;class d4{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:h4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tI(this),this.idTokenSubscription=new tI(this),this.beforeStateQueue=new u4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fC(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pt(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pt(this.app))return Promise.reject(cn(this));const n=e?ke(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pt(this.app)?Promise.reject(cn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pt(this.app)?Promise.reject(cn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c4(this),n=new d4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ct(t){return ke(t)}class tI{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p4(t){Th=t}function l_(t){return Th.loadJS(t)}function m4(){return Th.recaptchaV2Script}function g4(){return Th.recaptchaEnterpriseScript}function v4(){return Th.gapiScript}function IC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const y4="recaptcha-enterprise",_4="NO_RECAPTCHA";class w4{constructor(e){this.type=y4,this.auth=Ct(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{XF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new zF(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function s(a,l,c){const f=window.grecaptcha;JT(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(_4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&JT(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=g4();f.length!==0&&(f+=c),l_(f).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function nI(t,e,n,r=!1){const s=new w4(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function th(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await nI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await nI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t,e){const n=hh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Kc(a,e??{}))return s;hn(s,"already-initialized")}return n.initialize({options:e})}function E4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AC(t,e,n){const r=Ct(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),a=SC(e),{host:l,port:c}=T4(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||I4()}function SC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T4(t){const e=SC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:iI(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:iI(l)}}}function iI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,e){return kt(t,"POST","/v1/accounts:resetPassword",Rt(t,e))}async function A4(t,e){return kt(t,"POST","/v1/accounts:update",e)}async function S4(t,e){return kt(t,"POST","/v1/accounts:signUp",e)}async function P4(t,e){return kt(t,"POST","/v1/accounts:update",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return os(t,"POST","/v1/accounts:signInWithPassword",Rt(t,e))}async function Up(t,e){return kt(t,"POST","/v1/accounts:sendOobCode",Rt(t,e))}async function R4(t,e){return Up(t,e)}async function k4(t,e){return Up(t,e)}async function x4(t,e){return Up(t,e)}async function D4(t,e){return Up(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){return os(t,"POST","/v1/accounts:signInWithEmailLink",Rt(t,e))}async function M4(t,e){return os(t,"POST","/v1/accounts:signInWithEmailLink",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Dl{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,n,"signInWithPassword",C4);case"emailLink":return O4(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,r,"signUpPassword",S4);case"emailLink":return M4(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qr(t,e){return os(t,"POST","/v1/accounts:signInWithIdp",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="http://localhost";class Cr extends Dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=i_(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Cr(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return qr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qr(e,n)}buildRequest(){const e={requestUri:N4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e){return kt(t,"POST","/v1/accounts:sendVerificationCode",Rt(t,e))}async function L4(t,e){return os(t,"POST","/v1/accounts:signInWithPhoneNumber",Rt(t,e))}async function F4(t,e){const n=await os(t,"POST","/v1/accounts:signInWithPhoneNumber",Rt(t,e));if(n.temporaryProof)throw pc(t,"account-exists-with-different-credential",n);return n}const U4={USER_NOT_FOUND:"user-not-found"};async function j4(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return os(t,"POST","/v1/accounts:signInWithPhoneNumber",Rt(t,n),U4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Dl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Lo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Lo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return L4(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return F4(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return j4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:a}=e;return!r&&!n&&!s&&!a?null:new Lo({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $4(t){const e=Ja(uc(t)).link,n=e?Ja(uc(e)).deep_link_id:null,r=Ja(uc(t)).deep_link_id;return(r?Ja(uc(r)).link:null)||r||n||e||t}class jp{constructor(e){var n,r,s,a,l,c;const f=Ja(uc(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=B4((s=f.mode)!==null&&s!==void 0?s:null);ne(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=$4(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.providerId=zs.PROVIDER_ID}static credential(e,n){return nh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jp.parseLink(n);return ne(r,"argument-error"),nh._fromEmailAndCode(e,r.code,r.tenantId)}}zs.PROVIDER_ID="password";zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends as{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cl extends Ol{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in n&&"signInMethod"in n,"argument-error"),Cr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),Cr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return cl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return cl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:l,providerId:c}=e;if(!r&&!s&&!n&&!a||!c)return null;try{return new cl(c)._credential({idToken:n,accessToken:r,nonce:l,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Ol{constructor(){super("facebook.com")}static credential(e){return Cr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cr._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Ol{constructor(){super("github.com")}static credential(e){return Cr._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="http://localhost";class Tl extends Dl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return qr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:a}=n;return!r||!s||!a||r!==s?null:new Tl(r,a)}static _create(e,n){return new Tl(e,n)}buildRequest(){return{requestUri:H4,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="saml.";class Zf extends as{constructor(e){ne(e.startsWith(W4),"argument-error"),super(e)}static credentialFromResult(e){return Zf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Zf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Tl.fromJSON(e);return ne(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Tl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Ol{constructor(){super("twitter.com")}static credential(e,n){return Cr._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e){return os(t,"POST","/v1/accounts:signUp",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await $r._fromIdTokenResponse(e,r,s),l=rI(r);return new Ci({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rI(r);return new Ci({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t){var e;if(Pt(t.app))return Promise.reject(cn(t));const n=Ct(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ci({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await CC(n,{returnSecureToken:!0}),s=await Ci._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends Un{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ep.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ep(e,n,r,s)}}function RC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ep._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e){const n=ke(t);await Bp(!0,n,e);const{providerUserInfo:r}=await QF(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=kC(r||[]);return n.providerData=n.providerData.filter(a=>s.has(a.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function u_(t,e,n=!1){const r=await ts(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ci._forOperation(t,"link",r)}async function Bp(t,e,n){await eh(e);const r=kC(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";ne(r.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e,n=!1){const{auth:r}=t;if(Pt(r.app))return Promise.reject(cn(r));const s="reauthenticate";try{const a=await ts(t,RC(r,s,e,t),n);ne(a.idToken,r,"internal-error");const l=Fp(a.idToken);ne(l,r,"internal-error");const{sub:c}=l;return ne(t.uid===c,r,"user-mismatch"),Ci._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,e,n=!1){if(Pt(t.app))return Promise.reject(cn(t));const r="signIn",s=await RC(t,r,e),a=await Ci._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function $p(t,e){return DC(Ct(t),e)}async function OC(t,e){const n=ke(t);return await Bp(!1,n,e.providerId),u_(n,e)}async function MC(t,e){return xC(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e){return os(t,"POST","/v1/accounts:signInWithCustomToken",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e){if(Pt(t.app))return Promise.reject(cn(t));const n=Ct(t),r=await G4(n,{token:e,returnSecureToken:!0}),s=await Ci._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?c_._fromServerResponse(e,n):"totpInfo"in n?h_._fromServerResponse(e,n):hn(e,"internal-error")}}class c_ extends Ih{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new c_(n)}}class h_ extends Ih{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new h_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e,n){var r;ne(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(t){const e=Ct(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y4(t,e,n){const r=Ct(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Hp(r,s,n),await th(r,s,"getOobCode",k4)}async function X4(t,e,n){await PC(ke(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&d_(t),r})}async function J4(t,e){await P4(ke(t),{oobCode:e})}async function NC(t,e){const n=ke(t),r=await PC(n,{oobCode:e}),s=r.requestType;switch(ne(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(r.mfaInfo,n,"internal-error");default:ne(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Ih._fromServerResponse(Ct(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function Q4(t,e){const{data:n}=await NC(ke(t),e);return n.email}async function Z4(t,e,n){if(Pt(t.app))return Promise.reject(cn(t));const r=Ct(t),l=await th(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&d_(t),f}),c=await Ci._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function eU(t,e,n){return Pt(t.app)?Promise.reject(cn(t)):$p(ke(t),zs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&d_(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e,n){const r=Ct(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(l,c){ne(c.handleCodeInApp,r,"argument-error"),c&&Hp(r,l,c)}a(s,n),await th(r,s,"getOobCode",x4)}function nU(t,e){const n=jp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function iU(t,e,n){if(Pt(t.app))return Promise.reject(cn(t));const r=ke(t),s=zs.credentialWithLink(e,n||Zc());return ne(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$p(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e){return kt(t,"POST","/v1/accounts:createAuthUri",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e){const n=o_()?Zc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await rU(ke(t),r);return s||[]}async function oU(t,e){const n=ke(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Hp(n.auth,s,e);const{email:a}=await R4(n.auth,s);a!==t.email&&await t.reload()}async function aU(t,e,n){const r=ke(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Hp(r.auth,a,n);const{email:l}=await D4(r.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){return kt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ke(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ts(r,lU(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function cU(t,e){const n=ke(t);return Pt(n.auth.app)?Promise.reject(cn(n.auth)):VC(n,e,null)}function hU(t,e){return VC(ke(t),null,e)}async function VC(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const l=await ts(t,A4(r,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){var e,n;if(!t)return null;const{providerId:r}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},a=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const l=(n=(e=Fp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new hl(a,c)}}if(!r)return null;switch(r){case"facebook.com":return new fU(a,s);case"github.com":return new pU(a,s);case"google.com":return new mU(a,s);case"twitter.com":return new gU(a,s,t.screenName||null);case"custom":case"anonymous":return new hl(a,null);default:return new hl(a,r,s)}}class hl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class LC extends hl{constructor(e,n,r,s){super(e,n,r),this.username=s}}class fU extends hl{constructor(e,n){super(e,"facebook.com",n)}}class pU extends LC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class mU extends hl{constructor(e,n){super(e,"google.com",n)}}class gU extends LC{constructor(e,n,r){super(e,"twitter.com",n,r)}}function vU(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:dU(n)}function yU(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function _U(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function wU(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}function bU(t){return ke(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new xo("enroll",e,n)}static _fromMfaPendingCredential(e){return new xo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return xo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return xo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ct(e),s=n.customData._serverResponse,a=(s.mfaInfo||[]).map(c=>Ih._fromServerResponse(r,c));ne(s.mfaPendingCredential,r,"internal-error");const l=xo._fromMfaPendingCredential(s.mfaPendingCredential);return new f_(l,a,async c=>{const f=await c._process(r,l);delete s.mfaInfo,delete s.mfaPendingCredential;const p=Object.assign(Object.assign({},s),{idToken:f.idToken,refreshToken:f.refreshToken});switch(n.operationType){case"signIn":const g=await Ci._fromIdTokenResponse(r,n.operationType,p);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ne(n.user,r,"internal-error"),Ci._forOperation(n.user,n.operationType,p);default:hn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function EU(t,e){var n;const r=ke(t),s=e;return ne(e.customData.operationType,r,"argument-error"),ne((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),f_._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:start",Rt(t,e))}function IU(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(t,e))}function AU(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(t,e))}class p_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ih._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new p_(e)}async getSession(){return xo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,s=await this.getSession(),a=await ts(this.user,r._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await ts(this.user,AU(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const Vg=new WeakMap;function SU(t){const e=ke(t);return Vg.has(e)||Vg.set(e,p_._fromUser(e)),Vg.get(e)}const tp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tp,"1"),this.storage.removeItem(tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1e3,CU=10;class UC extends FC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);l4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UC.type="LOCAL";const Wp=UC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends FC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jC.type="SESSION";const Ws=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await RU(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=Ah("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const b=_;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return window}function xU(t){$t().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){return typeof $t().WorkerGlobalScope<"u"&&typeof $t().importScripts=="function"}async function DU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MU(){return m_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebaseLocalStorageDb",NU=1,np="firebaseLocalStorage",$C="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qp(t,e){return t.transaction([np],e?"readwrite":"readonly").objectStore(np)}function VU(){const t=indexedDB.deleteDatabase(BC);return new Sh(t).toPromise()}function kv(){const t=indexedDB.open(BC,NU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(np,{keyPath:$C})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(np)?e(r):(r.close(),await VU(),e(await kv()))})})}async function sI(t,e,n){const r=qp(t,!0).put({[$C]:e,value:n});return new Sh(r).toPromise()}async function LU(t,e){const n=qp(t,!1).get(e),r=await new Sh(n).toPromise();return r===void 0?null:r.value}function oI(t,e){const n=qp(t,!0).delete(e);return new Sh(n).toPromise()}const FU=800,UU=3;class HC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kp._getInstance(MU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DU(),!this.activeServiceWorker)return;this.sender=new kU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kv();return await sI(e,tp,"1"),await oI(e,tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=qp(s,!1).getAll();return new Sh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HC.type="LOCAL";const Il=HC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e){return kt(t,"POST","/v2/accounts/mfaSignIn:start",Rt(t,e))}function BU(t,e){return kt(t,"POST","/v2/accounts/mfaSignIn:finalize",Rt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=500,HU=6e4,rf=1e12;class WU{constructor(e){this.auth=e,this.counter=rf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new KU(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||rf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||rf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||rf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class KU{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ne(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=qU(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},HU)},$U))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function qU(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=IC("rcb"),GU=new wh(3e4,6e4);class zU{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=$t().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ne(YU(n),e,"argument-error"),this.shouldResolveImmediately(n)&&XT($t().grecaptcha)?Promise.resolve($t().grecaptcha):new Promise((r,s)=>{const a=$t().setTimeout(()=>{s(tn(e,"network-request-failed"))},GU.get());$t()[Lg]=()=>{$t().clearTimeout(a),delete $t()[Lg];const c=$t().grecaptcha;if(!c||!XT(c)){s(tn(e,"internal-error"));return}const f=c.render;c.render=(p,g)=>{const _=f(p,g);return this.counter++,_},this.hostLanguage=n,r(c)};const l=`${m4()}?${Pl({onload:Lg,render:"explicit",hl:n})}`;l_(l).catch(()=>{clearTimeout(a),s(tn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=$t().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function YU(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class XU{async load(e){return new WU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="recaptcha",JU={theme:"light",type:"image"};let QU=class{constructor(e,n,r=Object.assign({},JU)){this.parameters=r,this.type=WC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new XU:new zU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const a=l=>{l&&(this.tokenChangeListeners.delete(a),s(l))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=$t()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(o_()&&!m_(),this.auth,"internal-error"),await ZU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await YF(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function ZU(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Lo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function e3(t,e,n){if(Pt(t.app))return Promise.reject(cn(t));const r=Ct(t),s=await Gp(r,e,ke(n));return new g_(s,a=>$p(r,a))}async function t3(t,e,n){const r=ke(t);await Bp(!1,r,"phone");const s=await Gp(r.auth,e,ke(n));return new g_(s,a=>OC(r,a))}async function n3(t,e,n){const r=ke(t);if(Pt(r.auth.app))return Promise.reject(cn(r.auth));const s=await Gp(r.auth,e,ke(n));return new g_(s,a=>MC(r,a))}async function Gp(t,e,n){var r;const s=await n.verify();try{ne(typeof s=="string",t,"argument-error"),ne(n.type===WC,t,"argument-error");let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const l=a.session;if("phoneNumber"in a)return ne(l.type==="enroll",t,"internal-error"),(await TU(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{ne(l.type==="signin",t,"internal-error");const c=((r=a.multiFactorHint)===null||r===void 0?void 0:r.uid)||a.multiFactorUid;return ne(c,t,"missing-multi-factor-info"),(await jU(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await V4(t,{phoneNumber:a.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function i3(t,e){const n=ke(t);if(Pt(n.auth.app))return Promise.reject(cn(n.auth));await u_(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo=class bf{constructor(e){this.providerId=bf.PROVIDER_ID,this.auth=Ct(e)}verifyPhoneNumber(e,n){return Gp(this.auth,e,ke(n))}static credential(e,n){return Lo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return bf.credentialFromTaggedObject(n)}static credentialFromError(e){return bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Lo._fromTokenResponse(n,r):null}};Wo.PROVIDER_ID="phone";Wo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){return e?gi(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends Dl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r3(t){return DC(t.auth,new v_(t),t.bypassAuthState)}function s3(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),xC(n,new v_(t),t.bypassAuthState)}async function o3(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),u_(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r3;case"linkViaPopup":case"linkViaRedirect":return o3;case"reauthViaPopup":case"reauthViaRedirect":return s3;default:hn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new wh(2e3,1e4);async function l3(t,e,n){if(Pt(t.app))return Promise.reject(tn(t,"operation-not-supported-in-this-environment"));const r=Ct(t);xl(t,e,as);const s=Jo(r,n);return new Hr(r,"signInViaPopup",e,s).executeNotNull()}async function u3(t,e,n){const r=ke(t);if(Pt(r.auth.app))return Promise.reject(tn(r.auth,"operation-not-supported-in-this-environment"));xl(r.auth,e,as);const s=Jo(r.auth,n);return new Hr(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function c3(t,e,n){const r=ke(t);xl(r.auth,e,as);const s=Jo(r.auth,n);return new Hr(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Hr extends KC{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Ah();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a3.get())};e()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="pendingRedirect",kc=new Map;class d3 extends KC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await f3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f3(t,e){const n=GC(e),r=qC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function y_(t,e){return qC(t)._set(GC(e),"true")}function p3(){kc.clear()}function __(t,e){kc.set(t._key(),e)}function qC(t){return gi(t._redirectPersistence)}function GC(t){return Vo(h3,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e,n){return g3(t,e,n)}async function g3(t,e,n){if(Pt(t.app))return Promise.reject(cn(t));const r=Ct(t);xl(t,e,as),await r._initializationPromise;const s=Jo(r,n);return await y_(s,r),s._openRedirect(r,e,"signInViaRedirect")}function v3(t,e,n){return y3(t,e,n)}async function y3(t,e,n){const r=ke(t);if(xl(r.auth,e,as),Pt(r.auth.app))return Promise.reject(cn(r.auth));await r.auth._initializationPromise;const s=Jo(r.auth,n);await y_(s,r.auth);const a=await zC(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",a)}function _3(t,e,n){return w3(t,e,n)}async function w3(t,e,n){const r=ke(t);xl(r.auth,e,as),await r.auth._initializationPromise;const s=Jo(r.auth,n);await Bp(!1,r,e.providerId),await y_(s,r.auth);const a=await zC(r);return s._openRedirect(r.auth,e,"linkViaRedirect",a)}async function b3(t,e){return await Ct(t)._initializationPromise,zp(t,e,!1)}async function zp(t,e,n=!1){if(Pt(t.app))return Promise.reject(cn(t));const r=Ct(t),s=Jo(r,e),l=await new d3(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function zC(t){const e=Ah(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=10*60*1e3;class YC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(tn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E3&&this.cachedEventUids.clear(),this.cachedEventUids.has(aI(e))}saveEventToCache(e){this.cachedEventUids.add(aI(e)),this.lastProcessedEventTime=Date.now()}}function aI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e={}){return kt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function S3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JC(t);for(const n of e)try{if(P3(n))return}catch{}hn(t,"unauthorized-domain")}function P3(t){const e=Zc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!A3.test(n))return!1;if(I3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new wh(3e4,6e4);function lI(){const t=$t().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R3(t){return new Promise((e,n)=>{var r,s,a;function l(){lI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lI(),n(tn(t,"network-request-failed"))},timeout:C3.get()})}if(!((s=(r=$t().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=$t().gapi)===null||a===void 0)&&a.load)l();else{const c=IC("iframefcb");return $t()[c]=()=>{gapi.load?l():n(tn(t,"network-request-failed"))},l_(`${v4()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function k3(t){return Ef=Ef||R3(t),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new wh(5e3,15e3),D3="__/auth/iframe",O3="emulator/auth/iframe",M3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V3(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a_(e,O3):`https://${t.config.authDomain}/${D3}`,r={apiKey:e.apiKey,appName:t.name,v:qs},s=N3.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Pl(r).slice(1)}`}async function L3(t){const e=await k3(t),n=$t().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:V3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M3,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=tn(t,"network-request-failed"),c=$t().setTimeout(()=>{a(l)},x3.get());function f(){$t().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U3=500,j3=600,B3="_blank",$3="http://localhost";class uI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H3(t,e,n,r=U3,s=j3){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},F3),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Kt().toLowerCase();n&&(c=yC(p)?B3:n),gC(p)&&(e=e||$3,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[I,N])=>`${b}${I}=${N},`,"");if(a4(p)&&c!=="_self")return W3(e||"",c),new uI(null);const _=window.open(e||"",c,g);ne(_,t,"popup-blocked");try{_.focus()}catch{}return new uI(_)}function W3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="__/auth/handler",q3="emulator/auth/handler",G3=encodeURIComponent("fac");async function xv(t,e,n,r,s,a){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qs,eventId:s};if(e instanceof as){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",gM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(a||{}))l[g]=_}if(e instanceof Ol){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await t._getAppCheckToken(),p=f?`#${G3}=${encodeURIComponent(f)}`:"";return`${z3(t)}?${Pl(c).slice(1)}${p}`}function z3({config:t}){return t.emulator?a_(t,q3):`https://${t.authDomain}/${K3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="webStorageSupport";class Y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ws,this._completeRedirectFn=zp,this._overrideRedirectResult=__}async _openPopup(e,n,r,s){var a;Wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await xv(e,n,r,Zc(),s);return H3(e,l,Ah())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await xv(e,n,r,Zc(),s);return xU(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L3(e),r=new YC(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fg,{type:Fg},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Fg];l!==void 0&&n(!!l),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EC()||vC()||Eh()}}const QC=Y3;class X3{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return vr("unexpected MultiFactorSessionType")}}}class w_ extends X3{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new w_(e)}_finalizeEnroll(e,n,r){return IU(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return BU(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ZC{constructor(){}static assertion(e){return w_._fromCredential(e)}}ZC.FACTOR_ID="phone";var cI="@firebase/auth",hI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z3(t){js(new Xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TC(t)},p=new f4(r,s,a,f);return E4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new Xr("auth-internal",e=>{const n=Ct(e.getProvider("auth").getImmediate());return(r=>new J3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(cI,hI,Q3(t)),$i(cI,hI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=5*60,t9=ES("authIdTokenMaxAge")||e9;let dI=null;const n9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t9)return;const s=n==null?void 0:n.token;dI!==s&&(dI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function i9(t=Ay()){const e=hh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b4(t,{popupRedirectResolver:QC,persistence:[Il,Wp,Ws]}),r=ES("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=n9(a.toString());_U(n,l,()=>l(n.currentUser)),yU(n,c=>l(c))}}const s=wS("auth");return s&&AC(n,`http://${s}`),n}function r9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=tn("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",r9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z3("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this._delegate=e,this.firebase=n,qc(e,new Xr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Sy(this._delegate)))}_getService(e,n=Fs){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Fs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){qc(this._delegate,e)}_addOrOverwriteComponent(e){xS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},fI=new zo("app-compat","Firebase",o9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){const e={},n={__esModule:!0,initializeApp:a,app:s,registerVersion:$i,setLogLevel:NS,onLog:MS,apps:null,SDK_VERSION:qs,INTERNAL:{registerComponent:c,removeApp:r,useAsService:f,modularAPIs:RN}};n.default=n,Object.defineProperty(n,"apps",{get:l});function r(p){delete e[p]}function s(p){if(p=p||Fs,!rT(e,p))throw fI.create("no-app",{appName:p});return e[p]}s.App=t;function a(p,g={}){const _=Iy(p,g);if(rT(e,_.name))return e[_.name];const b=new t(_,n);return e[_.name]=b,b}function l(){return Object.keys(e).map(p=>e[p])}function c(p){const g=p.name,_=g.replace("-compat","");if(js(p)&&p.type==="PUBLIC"){const b=(I=s())=>{if(typeof I[_]!="function")throw fI.create("invalid-app-argument",{appName:g});return I[_]()};p.serviceProps!==void 0&&Uf(b,p.serviceProps),n[_]=b,t.prototype[_]=function(...I){return this._getService.bind(this,g).apply(this,p.multipleInstances?I:[])}}return p.type==="PUBLIC"?n[_]:null}function f(p,g){return g==="serverAuth"?null:g}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){const t=a9(s9);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:eR,extendNamespace:e,createSubscribe:SS,ErrorFactory:zo,deepExtend:Uf});function e(n){Uf(t,n)}return t}const l9=eR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new bp("@firebase/app-compat"),u9="@firebase/app-compat",c9="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){$i(u9,c9,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=_S();if(t.firebase!==void 0){pI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&pI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const me=l9;h9();var d9="firebase",f9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */me.registerVersion(d9,f9,"app-compat");const b_={apiKey:"AIzaSyCPTHhZf-dvD6B0F0HTal5cQ9V0AX1K1CA",authDomain:"vue-board-44511.firebaseapp.com",projectId:"vue-board-44511",storageBucket:"vue-board-44511.firebasestorage.app",messagingSenderId:"645051287870",appId:"1:645051287870:web:d0ca716a6c59944fe0446f",measurementId:"G-4F8SY8B6G8"},xc=vF(me.initializeApp(b_)),mI=i9(me.initializeApp(b_)),p9={class:"bg-violet-400/50 h-[60px] flex justify-between p-[20px] items-center"},m9={class:"flex items-center gap-2"},g9=["value"],v9={class:"flex gap-2 items-center"},y9=["src"],_9={class:"text-black text-xl"},w9={__name:"Header",props:{userPhoto:String,userDisplayName:String},emits:["logout","chooseProject"],setup(t,{emit:e}){const n=di(!1),r=di(!1),s=di(null),a=t,l=e,c=()=>{l("logout")},f=()=>{n.value=!0},p=()=>{n.value=!1,r.value=!1},g=()=>{f(),r.value=!0},_=lh([]);(async()=>{(await MF(gF(xc,"projects"))).forEach(D=>{_.push(D.id)}),_.length>0&&(s.value=_[0])})();const I=async S=>{await oC(Xf(xc,"projects",s.value),{todo:LF(S)})},N=async S=>{await NF(Xf(xc,"projects",S),{todo:[],inprogress:[],review:[],complete:[]})},T=()=>{l("chooseProject",{currentProject:s.value})};return(S,D)=>(wt(),Vt("header",p9,[Ce("div",m9,[hf(Ce("select",{class:"w-64 px-4 py-3 text-gray-700 bg-gray-50 rounded-lg border-2 border-purple-600 shadow-md cursor-pointer transition-all duration-300 ease-in-out appearance-none hover:border-purple-700 hover:shadow-lg focus:border-purple-700 focus:ring-3 focus:ring-purple-200 focus:outline-none",name:"project",id:"project","onUpdate:modelValue":D[0]||(D[0]=F=>s.value=F),onChange:T},[(wt(!0),Vt(Fn,null,ac(_,F=>(wt(),Vt("option",{value:F,key:F},Uc(F),9,g9))),128))],544),[[NO,s.value]]),Ce("button",{class:"bg-teal-700",onClick:f},"Add Project"),Ce("button",{class:"bg-teal-700",onClick:g},"Add Task")]),mt(JO,{isPopupOpen:n.value,onClose:p,isTask:r.value,onSubmitTask:I,onSubmitProject:N},null,8,["isPopupOpen","isTask"]),Ce("div",v9,[Ce("img",{class:"rounded-full",src:a.userPhoto,alt:"Аватар пользователя",width:"30",height:"30"},null,8,y9),Ce("span",_9,Uc(a.userDisplayName),1),Ce("button",{onClick:c},"Logout")])]))}},tR=t=>e=>typeof e=="string"&&e.startsWith(t),E_=tR("--"),b9=tR("var(--"),T_=t=>b9(t)?E9.test(t.split("/*")[0].trim()):!1,E9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ih={};function nR(t){for(const e in t)ih[e]=t[e],E_(e)&&(ih[e].isCSSVariable=!0)}function Ph(t,e){const n=typeof t=="string"?`${t}Context`:e,r=Symbol(n);return[l=>{const c=Tc(r,l);if(c===void 0)throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`);return c},l=>(WA(r,l),l)]}const[T9,I9]=Ph("Motion"),[A9,r$]=Ph("LayoutGroup");function gI(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}class ls{constructor(e){this.state=e}beforeMount(){}mount(){}unmount(){}update(){}beforeUpdate(){}beforeUnmount(){}}function Dc(t,e,n){if(Array.isArray(t))return t.reduce((r,s)=>{const a=Dc(s,e,n);return a?{...r,...a}:r},{});if(typeof t=="object")return t;if(t&&e){const r=e[t];return typeof r=="function"?r(n):r}}function S9(t,e){return typeof t!=typeof e?!0:Array.isArray(t)&&Array.isArray(e)?!P9(t,e):t!==e}function P9(t,e){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vI(t){return t==null?void 0:t.startsWith("--")}const C9=t=>t;function R9(t){return typeof t=="number"}const k9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],x9=new Set(k9);function iR(t){return x9.has(t)}function D9(t,e){const n=t.animate,r=e.animate;if(n===r)return!1;if(!n||!r)return!0;if(typeof n=="object"||typeof r=="object"){const s=Object.keys(n),a=Object.keys(r);return s.length!==a.length?!0:s.some(l=>{if(l==="transition")return!1;const c=n[l],f=r[l];return c!==f})}return n!==r}class O9{constructor(e){this.features=[];const{features:n=[],lazyMotionContext:r}=e.options,s=n.concat(r.features.value);this.features=s.map(l=>new l(e));const a=this.features;df(r.features,l=>{l.forEach(c=>{if(!s.includes(c)){s.push(c);const f=new c(e);a.push(f),e.isMounted()&&(f.beforeMount(),f.mount())}})},{flush:"pre"})}mount(){this.features.forEach(e=>e.mount())}beforeMount(){this.features.forEach(e=>{var n;return(n=e.beforeMount)==null?void 0:n.call(e)})}unmount(){this.features.forEach(e=>e.unmount())}update(){this.features.forEach(e=>{var n;return(n=e.update)==null?void 0:n.call(e)})}beforeUpdate(){this.features.forEach(e=>e.beforeUpdate())}beforeUnmount(){this.features.forEach(e=>e.beforeUnmount())}}const I_=new WeakMap,[M9,s$]=Ph("AnimatePresenceContext");function N9(t){return typeof t=="string"||t===!1||Array.isArray(t)}const Zn=t=>t,sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V9(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),t()),g(c)}const p={schedule:(g,_=!1,b=!1)=>{const N=b&&s?n:r;return _&&l.add(g),N.has(g)||N.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(c=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const ns={},L9=40;function rR(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=sf.reduce((B,K)=>(B[K]=V9(a),B),{}),{setup:c,read:f,resolveKeyframes:p,preUpdate:g,update:_,preRender:b,render:I,postRender:N}=l,T=()=>{const B=ns.useManualTiming?s.timestamp:performance.now();n=!1,ns.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(B-s.timestamp,L9),1)),s.timestamp=B,s.isProcessing=!0,c.process(s),f.process(s),p.process(s),g.process(s),_.process(s),b.process(s),I.process(s),N.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},S=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:sf.reduce((B,K)=>{const q=l[K];return B[K]=(ie,V=!1,P=!1)=>(n||S(),q.schedule(ie,V,P)),B},{}),cancel:B=>{for(let K=0;K<sf.length;K++)l[sf[K]].cancel(B)},state:s,steps:l}}const{schedule:ct,cancel:is,state:gn,steps:Ug}=rR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0),sR=new WeakMap;let F9=0;const jg=new Set;class U9{constructor(e,n){var r;this.element=null,this.isSafeToRemove=!1,this.isVShow=!1,this.children=new Set,this.activeStates={initial:!0,animate:!0},this.currentProcess=null,this._context=null,this.animateUpdates=Zn,this.id=`motion-state-${F9++}`,this.options=e,this.parent=n,(r=n==null?void 0:n.children)==null||r.add(this),this.depth=(n==null?void 0:n.depth)+1||0;const a=(e.initial===void 0&&e.variants?this.context.initial:e.initial)===!1?["initial","animate"]:["initial"];this.initTarget(a),this.featureManager=new O9(this),this.type=iR(this.options.as)?"svg":"html"}get context(){if(!this._context){const e={get:(n,r)=>{var s;return N9(this.options[r])?this.options[r]:(s=this.parent)==null?void 0:s.context[r]}};this._context=new Proxy({},e)}return this._context}initTarget(e){this.baseTarget=e.reduce((n,r)=>({...n,...Dc(this.options[r]||this.context[r],this.options.variants)}),{}),this.target={}}updateOptions(e){var n;this.options=e,(n=this.visualElement)==null||n.update({...this.options,whileTap:this.options.whilePress,reducedMotionConfig:this.options.motionConfig.reduceMotion},{isPresent:!I_.has(this.element)})}beforeMount(){this.featureManager.beforeMount()}mount(e,n,r=!1){var s;this.element=e,this.updateOptions(n),this.featureManager.mount(),!r&&this.options.animate&&((s=this.startAnimation)==null||s.call(this)),this.options.layoutId&&(jg.add(this.options.layoutId),ct.render(()=>{jg.clear()}))}clearAnimation(){var e,n;this.currentProcess&&is(this.currentProcess),this.currentProcess=null,(n=(e=this.visualElement)==null?void 0:e.variantChildren)==null||n.forEach(r=>{r.state.clearAnimation()})}startAnimation(){this.clearAnimation(),this.currentProcess=ct.render(()=>{this.currentProcess=null,this.animateUpdates()})}beforeUnmount(){this.featureManager.beforeUnmount()}unmount(e=!1){const n=this.options.layoutId&&!jg.has(this.options.layoutId);(()=>{const s=()=>{var a,l,c;e&&Array.from(this.children).reverse().forEach(this.unmountChild),(l=(a=this.parent)==null?void 0:a.children)==null||l.delete(this),sR.delete(this.element),this.featureManager.unmount(),(c=this.visualElement)==null||c.unmount(),this.clearAnimation()};n?Promise.resolve().then(s):s()})()}unmountChild(e){e.unmount(!0)}beforeUpdate(){this.featureManager.beforeUpdate()}update(e){const n=D9(this.options,e);this.updateOptions(e),this.featureManager.update(),n&&this.startAnimation()}setActive(e,n,r=!0){var s;!this.element||this.activeStates[e]===n||(this.activeStates[e]=n,(s=this.visualElement.variantChildren)==null||s.forEach(a=>{a.state.setActive(e,n,!1)}),r&&this.animateUpdates({isFallback:!n&&e!=="exit"&&this.visualElement.isControllingVariants,isExit:e==="exit"&&this.activeStates.exit}))}isMounted(){return!!this.element}willUpdate(e){var n;(this.options.layout||this.options.layoutId)&&((n=this.visualElement.projection)==null||n.willUpdate())}}const Ko=new WeakMap;function yI(t,e,n){return new CustomEvent(t,{detail:{target:e,isExit:n}})}const _I={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>`${t}deg`},j9={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>`${t}px`},rotate:_I,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:C9},skew:_I},B9=["translate","scale","rotate","skew"],$9=["","X","Y","Z"],A_=new Map,ip=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"];B9.forEach(t=>{$9.forEach(e=>{ip.push(t+e),A_.set(t+e,j9[t])})});const H9=new Set(ip),W9=t=>H9.has(t),wI={x:"translateX",y:"translateY",z:"translateZ"};function K9([t],[e]){return ip.indexOf(t)-ip.indexOf(e)}function q9(t,[e,n]){return`${t} ${e}(${n})`}function G9(t){return t.sort(K9).reduce(q9,"").trim()}const bI={translate:[0,0],rotate:0,scale:1,skew:0,x:0,y:0,z:0},Ch=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cs=Ch("deg"),Er=Ch("%"),Ee=Ch("px"),z9=Ch("vh"),Y9=Ch("vw"),EI={...Er,parse:t=>Er.parse(t)/100,transform:t=>Er.transform(t*100)},Ht=t=>!!(t&&t.getVelocity),X9={get:(t,e)=>{let n=vI(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!=="0"){const r=A_.get(e);r&&(n=r.initialValue)}return n},set:(t,e,n)=>{vI(e)?t.style.setProperty(e,n):t.style[e]=n}};function J9(t){var e;const n={},r=[];for(let s in t){let a=t[s];a=Ht(a)?a.get():a,W9(s)&&s in wI&&(s=wI[s]);let l=Array.isArray(a)?a[0]:a;const c=A_.get(s);c?(l=R9(a)?(e=c.toDefaultUnit)==null?void 0:e.call(c,a):a,r.push([s,l])):n[s]=l}return r.length&&(n.transform=G9(r)),Object.keys(n).length===0?null:n}const Q9={fill:!0,stroke:!0,opacity:!0,"stroke-width":!0,"fill-opacity":!0,"stroke-opacity":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,cx:!0,cy:!0,r:!0,d:!0,x1:!0,y1:!0,x2:!0,y2:!0,points:!0,"path-length":!0,viewBox:!0,width:!0,height:!0,"preserve-aspect-ratio":!0,"clip-path":!0,filter:!0,mask:!0,"stop-color":!0,"stop-opacity":!0,"gradient-transform":!0,"gradient-units":!0,"spread-method":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,"font-size":!0,"font-weight":!0,"letter-spacing":!0,"vector-effect":!0};function Z9(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function e5(t,e,n=1,r=0){t.pathLength=1,delete t["path-length"],t["stroke-dashoffset"]=Ee.transform(-r);const s=Ee.transform(e),a=Ee.transform(n);t["stroke-dasharray"]=`${s} ${a}`}function t5(t){const e={},n={};for(const r in t){const s=Z9(r);if(s in Q9){const a=t[r];e[s]=Ht(a)?a.get():a}else n[r]=t[r]}return e["path-length"]!==void 0&&e5(e,e["path-length"],e["path-spacing"],e["path-offset"]),{attrs:e,style:n}}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Bg=t=>typeof t<"u";function n5({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function i5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function r5(t,e){return n5(i5(t.getBoundingClientRect(),e))}const TI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dv={};for(const t in TI)Dv[t]={isEnabled:e=>TI[t].some(n=>!!e[n])};const II=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:II(),y:II()}),AI=()=>({min:0,max:0}),Nt=()=>({x:AI(),y:AI()}),s5=typeof window<"u",Ov={current:null},oR={current:!1};function o5(){if(oR.current=!0,!!s5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ov.current=t.matches;t.addListener(e),e()}else Ov.current=!1}function a5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function l5(t){return typeof t=="string"||Array.isArray(t)}const u5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c5=["initial",...u5];function aR(t){return a5(t.animate)||c5.some(e=>l5(t[e]))}function h5(t){return!!(aR(t)||t.variants)}let Tf;function d5(){Tf=void 0}const Jn={now:()=>(Tf===void 0&&Jn.set(gn.isProcessing||ns.useManualTiming?gn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(d5)}};function S_(t,e){t.indexOf(e)===-1&&t.push(e)}function Yp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class P_{constructor(){this.subscriptions=[]}add(e){return S_(this.subscriptions,e),()=>Yp(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lR(t,e){return e?t*(1e3/e):0}const SI=30,f5=t=>!isNaN(parseFloat(t));class p5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,l;const c=Jn.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new P_);const r=this.events[e].add(n);return e==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>SI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SI);return lR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Al(t,e){return new p5(t,e)}function m5(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Ht(s))t.addValue(r,s);else if(Ht(a))t.addValue(r,Al(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Al(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}function PI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uR(t,e,n,r){if(typeof e=="function"){const[s,a]=PI(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=PI(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function g5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Do=t=>t*180/Math.PI,Mv=t=>{const e=Do(Math.atan2(t[1],t[0]));return Nv(e)},v5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mv,rotateZ:Mv,skewX:t=>Do(Math.atan(t[1])),skewY:t=>Do(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Nv=t=>(t=t%360,t<0&&(t+=360),t),CI=Mv,RI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),kI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),y5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RI,scaleY:kI,scale:t=>(RI(t)+kI(t))/2,rotateX:t=>Nv(Do(Math.atan2(t[6],t[5]))),rotateY:t=>Nv(Do(Math.atan2(-t[2],t[0]))),rotateZ:CI,rotate:CI,skewX:t=>Do(Math.atan(t[4])),skewY:t=>Do(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vv(t){return t.includes("scale")?1:0}function Lv(t,e){if(!t||t==="none")return Vv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=y5,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=v5,s=c}if(!s)return Vv(e);const a=r[e],l=s[1].split(",").map(w5);return typeof a=="function"?a(l):l[a]}const _5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Lv(n,e)};function w5(t){return parseFloat(t.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nl=new Set(Ml),rs=(t,e,n)=>n>e?e:n<t?t:n,Vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rh={...Vl,transform:t=>rs(0,1,t)},of={...Vl,default:1},xI=t=>t===Vl||t===Ee,b5=new Set(["x","y","z"]),E5=Ml.filter(t=>!b5.has(t));function T5(t){const e=[];return E5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Lv(e,"x"),y:(t,{transform:e})=>Lv(e,"y")};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const Uo=new Set;let Fv=!1,Uv=!1,jv=!1;function cR(){if(Uv){const t=Array.from(Uo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=T5(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Uv=!1,Fv=!1,Uo.forEach(t=>t.complete(jv)),Uo.clear()}function hR(){Uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uv=!0)})}function I5(){jv=!0,hR(),cR(),jv=!1}class C_{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Uo.add(this),Fv||(Fv=!0,ct.read(hR),ct.resolveKeyframes(cR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}g5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Uo.delete(this)}cancel(){this.state==="scheduled"&&(Uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),fR=t=>/^0[^.\s]+$/u.test(t),Oc=t=>Math.round(t*1e5)/1e5,R_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A5(t){return t==null}const S5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k_=(t,e)=>n=>!!(typeof n=="string"&&S5.test(n)&&n.startsWith(t)||e&&!A5(n)&&Object.prototype.hasOwnProperty.call(n,e)),pR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(R_);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},P5=t=>rs(0,255,t),$g={...Vl,transform:t=>Math.round(P5(t))},Oo={test:k_("rgb","red"),parse:pR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$g.transform(t)+", "+$g.transform(e)+", "+$g.transform(n)+", "+Oc(rh.transform(r))+")"};function C5(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bv={test:k_("#"),parse:C5,transform:Oo.transform},Za={test:k_("hsl","hue"),parse:pR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Er.transform(Oc(e))+", "+Er.transform(Oc(n))+", "+Oc(rh.transform(r))+")"},An={test:t=>Oo.test(t)||Bv.test(t)||Za.test(t),parse:t=>Oo.test(t)?Oo.parse(t):Za.test(t)?Za.parse(t):Bv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oo.transform(t):Za.transform(t)},R5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(R_))==null?void 0:e.length)||0)+(((n=t.match(R5))==null?void 0:n.length)||0)>0}const mR="number",gR="color",x5="var",D5="var(",DI="${}",O5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(O5,f=>(An.test(f)?(r.color.push(a),s.push(gR),n.push(An.parse(f))):f.startsWith(D5)?(r.var.push(a),s.push(x5),n.push(f)):(r.number.push(a),s.push(mR),n.push(parseFloat(f))),++a,DI)).split(DI);return{values:n,split:c,indexes:r,types:s}}function vR(t){return sh(t).values}function yR(t){const{split:e,types:n}=sh(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===mR?a+=Oc(s[l]):c===gR?a+=An.transform(s[l]):a+=s[l]}return a}}const M5=t=>typeof t=="number"?0:t;function N5(t){const e=vR(t);return yR(t)(e.map(M5))}const Ks={test:k5,parse:vR,createTransformer:yR,getAnimatableNone:N5},V5={test:t=>t==="auto",parse:t=>t},_R=t=>e=>e.test(t),wR=[Vl,Ee,Er,Cs,Y9,z9,V5],OI=t=>wR.find(_R(t)),L5=[...wR,An,Ks],F5=t=>L5.find(_R(t)),U5=new Set(["brightness","contrast","saturate","opacity"]);function j5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(R_)||[];if(!r)return t;const s=n.replace(r,"");let a=U5.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const B5=/\b([a-z-]*)\(.*?\)/gu,$v={...Ks,getAnimatableNone:t=>{const e=t.match(B5);return e?e.map(j5).join(" "):t}},MI={...Vl,transform:Math.round},$5={rotate:Cs,rotateX:Cs,rotateY:Cs,rotateZ:Cs,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:Cs,skewX:Cs,skewY:Cs,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:rh,originX:EI,originY:EI,originZ:Ee},x_={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...$5,zIndex:MI,fillOpacity:rh,strokeOpacity:rh,numOctaves:MI},H5={...x_,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:$v,WebkitFilter:$v},bR=t=>H5[t];function ER(t,e){let n=bR(t);return n!==$v&&(n=Ks),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TR{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Jn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ct.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=aR(n),this.isVariantNode=h5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in _){const I=_[b];f[b]!==void 0&&Ht(I)&&I.set(f[b],!1)}}mount(e){this.current=e,Ko.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oR.current||o5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ov.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Nl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dv){const n=Dv[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<NI.length;r++){const s=NI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=m5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Al(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dR(r)||fR(r))?r=parseFloat(r):!F5(r)&&Ks.test(n)&&(r=ER(e,n)),this.setBaseTarget(e,Ht(r)?r.get():r)),Ht(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=uR(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ht(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new P_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const IR=new Set(["width","height","top","left","right","bottom",...Ml]);let D_=()=>{};const W5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K5(t){const e=W5.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function AR(t,e,n=1){const[r,s]=K5(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return dR(l)?parseFloat(l):l}return T_(s)?AR(s,e,n+1):s}function q5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fR(t):!0}const G5=new Set(["auto","none","0"]);function z5(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!G5.has(a)&&sh(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=ER(n,s)}class Y5 extends C_{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),T_(p))){const g=AR(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!IR.has(r)||e.length!==2)return;const[s,a]=e,l=OI(s),c=OI(a);if(l!==c)if(xI(l)&&xI(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Fo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||q5(e[s]))&&r.push(s);r.length&&z5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Fo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}class SR extends TR{constructor(){super(...arguments),this.KeyframeResolver=Y5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}const PR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,X5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J5=Ml.length;function Q5(t,e,n){let r="",s=!0;for(let a=0;a<J5;a++){const l=Ml[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=PR(c,x_[l]);if(!f){s=!1;const g=X5[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function CR(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(Nl.has(f)){l=!0;continue}else if(E_(f)){s[f]=p;continue}else{const g=PR(p,x_[f]);f.startsWith("origin")?(c=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=Q5(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}function RR(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function Z5(t,{layout:e,layoutId:n}){return Nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ih[t]||t==="opacity")}function kR(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(Ht(s[l])||e.style&&Ht(e.style[l])||Z5(l,t)||((r=n==null?void 0:n.getValue(l))==null?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function e6(t){return window.getComputedStyle(t)}class xR extends SR{constructor(){super(...arguments),this.type="html",this.renderInstance=RR}readValueFromInstance(e,n){var r;if(Nl.has(n))return(r=this.projection)!=null&&r.isProjecting?Vv(n):_5(e,n);{const s=e6(e),a=(E_(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return r5(e,n)}build(e,n,r){CR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kR(e,n,r)}}const O_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t6={offset:"stroke-dashoffset",array:"stroke-dasharray"},n6={offset:"strokeDashoffset",array:"strokeDasharray"};function i6(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?t6:n6;t[a.offset]=Ee.transform(-r);const l=Ee.transform(e),c=Ee.transform(n);t[a.array]=`${l} ${c}`}function r6(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},f,p,g){if(CR(t,c,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),s!==void 0&&i6(_,s,a,l,!1)}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),s6=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o6(t,e,n,r){RR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(DR.has(s)?s:O_(s),e.attrs[s])}function a6(t,e,n){const r=kR(t,e,n);for(const s in t)if(Ht(t[s])||Ht(e[s])){const a=Ml.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}class OR extends SR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Nl.has(n)){const r=bR(n);return r&&r.default||0}return n=DR.has(n)?n:O_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return a6(e,n,r)}build(e,n,r){r6(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){o6(e,n,r,s)}mount(e){this.isSVGTag=s6(e.tagName),super.mount(e)}}function l6(t,e){return iR(t)?new OR(e):new xR(e)}function M_(t){return typeof t=="object"&&!Array.isArray(t)}function N_(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function MR(t,e,n,r){return typeof t=="string"&&M_(e)?N_(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function u6(t,e,n){return t*(e+1)}function VI(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:r.get(e)??t}const vt=(t,e,n)=>t+(e-t)*n,c6=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},NR=t=>Array.isArray(t)&&typeof t[0]!="number";function VR(t,e){return NR(t)?t[c6(0,t.length,e)]:t}function h6(t,e,n){for(let r=0;r<t.length;r++){const s=t[r];s.at>e&&s.at<n&&(Yp(t,s),r--)}}function d6(t,e,n,r,s,a){h6(t,s,a);for(let l=0;l<e.length;l++)t.push({value:e[l],at:vt(s,a,r[l]),easing:VR(n,l)})}function f6(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function p6(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Sl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function LR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sl(0,e,r);t.push(vt(n,1,s))}}function FR(t){const e=[0];return LR(e,t.length-1),e}const rp=2e4;function V_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rp;)e+=n,r=t.next(e);return e>=rp?1/0:e}const Hi=t=>t*1e3,Tr=t=>t/1e3;function UR(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(V_(r),rp);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Tr(s)}}function L_(t){return typeof t=="function"&&"applyToOptions"in t}const m6="easeInOut";function g6(t,{defaultTransition:e={},...n}={},r,s){const a=e.duration||.3,l=new Map,c=new Map,f={},p=new Map;let g=0,_=0,b=0;for(let I=0;I<t.length;I++){const N=t[I];if(typeof N=="string"){p.set(N,_);continue}else if(!Array.isArray(N)){p.set(N.name,VI(_,N.at,g,p));continue}let[T,S,D={}]=N;D.at!==void 0&&(_=VI(_,D.at,g,p));let F=0;const B=(K,q,ie,V=0,P=0)=>{const C=v6(K),{delay:O=0,times:M=FR(C),type:U="keyframes",repeat:R,repeatType:ge,repeatDelay:yt=0,...Et}=q;let{ease:De=e.ease||"easeOut",duration:_e}=q;const dn=typeof O=="function"?O(V,P):O,En=C.length,jn=L_(U)?U:s==null?void 0:s[U];if(En<=2&&jn){let ot=100;if(En===2&&w6(C)){const ei=C[1]-C[0];ot=Math.abs(ei)}const Dn={...Et};_e!==void 0&&(Dn.duration=Hi(_e));const qt=UR(Dn,ot,jn);De=qt.ease,_e=qt.duration}_e??(_e=a);const ht=_+dn;M.length===1&&M[0]===0&&(M[1]=1);const dt=M.length-C.length;if(dt>0&&LR(M,dt),C.length===1&&C.unshift(null),R){_e=u6(_e,R);const ot=[...C],Dn=[...M];De=Array.isArray(De)?[...De]:[De];const qt=[...De];for(let ei=0;ei<R;ei++){C.push(...ot);for(let vi=0;vi<ot.length;vi++)M.push(Dn[vi]+(ei+1)),De.push(vi===0?"linear":VR(qt,vi-1))}f6(M,R)}const us=ht+_e;d6(ie,C,De,M,ht,us),F=Math.max(dn+_e,F),b=Math.max(us,b)};if(Ht(T)){const K=LI(T,c);B(S,D,FI("default",K))}else{const K=MR(T,S,r,f),q=K.length;for(let ie=0;ie<q;ie++){S=S,D=D;const V=K[ie],P=LI(V,c);for(const C in S)B(S[C],y6(D,C),FI(C,P),ie,q)}}g=_,_+=F}return c.forEach((I,N)=>{for(const T in I){const S=I[T];S.sort(p6);const D=[],F=[],B=[];for(let q=0;q<S.length;q++){const{at:ie,value:V,easing:P}=S[q];D.push(V),F.push(Sl(0,b,ie)),B.push(P||"easeOut")}F[0]!==0&&(F.unshift(0),D.unshift(D[0]),B.unshift(m6)),F[F.length-1]!==1&&(F.push(1),D.push(null)),l.has(N)||l.set(N,{keyframes:{},transition:{}});const K=l.get(N);K.keyframes[T]=D,K.transition[T]={...e,duration:b,ease:B,times:F,...n}}}),l}function LI(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function FI(t,e){return e[t]||(e[t]=[]),e[t]}function v6(t){return Array.isArray(t)?t:[t]}function y6(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const _6=t=>typeof t=="number",w6=t=>t.every(_6),b6=t=>Array.isArray(t);function E6(t,e,n){const r=t.getProps();return uR(r,e,r.custom,t)}function T6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Al(n))}function I6(t){return b6(t)?t[t.length-1]||0:t}function A6(t,e){const n=E6(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=I6(a[l]);T6(t,l,c)}}function S6(t){return!!(Ht(t)&&t.add)}function P6(t,e){const n=t.getValue("willChange");if(S6(n))return n.add(e);if(!n&&ns.WillChange){const r=new ns.WillChange("auto");t.addValue("willChange",r),r.add(e)}}const C6="framerAppearId",R6="data-"+O_(C6);function jR(t){return t.props[R6]}const k6=t=>t!==null;function x6(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(k6),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const D6={type:"spring",stiffness:500,damping:25,restSpeed:10},O6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),M6={type:"keyframes",duration:.8},N6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V6=(t,{keyframes:e})=>e.length>2?M6:Nl.has(t)?t.startsWith("scale")?O6(e[1]):D6:N6;function L6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...g}){return!!Object.keys(g).length}function F_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function Hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function F6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=Hg(f,c,t+1/3),a=Hg(f,c,t),l=Hg(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function sp(t,e){return n=>n>0?e:t}const Wg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},U6=[Bv,Oo,Za],j6=t=>U6.find(e=>e.test(t));function UI(t){const e=j6(t);if(!e)return!1;let n=e.parse(t);return e===Za&&(n=F6(n)),n}const jI=(t,e)=>{const n=UI(t),r=UI(e);if(!n||!r)return sp(t,e);const s={...n};return a=>(s.red=Wg(n.red,r.red,a),s.green=Wg(n.green,r.green,a),s.blue=Wg(n.blue,r.blue,a),s.alpha=vt(n.alpha,r.alpha,a),Oo.transform(s))},Hv=new Set(["none","hidden"]);function B6(t,e){return Hv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const $6=(t,e)=>n=>e(t(n)),Rh=(...t)=>t.reduce($6);function H6(t,e){return n=>vt(t,e,n)}function U_(t){return typeof t=="number"?H6:typeof t=="string"?T_(t)?sp:An.test(t)?jI:q6:Array.isArray(t)?BR:typeof t=="object"?An.test(t)?jI:W6:sp}function BR(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>U_(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function W6(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=U_(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function K6(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const q6=(t,e)=>{const n=Ks.createTransformer(e),r=sh(t),s=sh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hv.has(t)&&!s.values.length||Hv.has(e)&&!r.values.length?B6(t,e):Rh(BR(K6(r,s),s.values),n):sp(t,e)};function $R(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?vt(t,e,n):U_(t)(t,e)}const G6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ct.update(e,n),stop:()=>is(e),now:()=>gn.isProcessing?gn.timestamp:Jn.now()}},HR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},z6=5;function WR(t,e,n){const r=Math.max(e-z6,0);return lR(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},BI=.001;function Y6({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let s,a,l=1-e;l=rs(St.minDamping,St.maxDamping,l),t=rs(St.minDuration,St.maxDuration,Tr(t)),l<1?(s=p=>{const g=p*l,_=g*t,b=g-n,I=Wv(p,l),N=Math.exp(-_);return BI-b/I*N},a=p=>{const _=p*l*t,b=_*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,N=Math.exp(-_),T=Wv(Math.pow(p,2),l);return(-s(p)+BI>0?-1:1)*((b-I)*N)/T}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,f=J6(s,a,c);if(t=Hi(t),isNaN(f))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const X6=12;function J6(t,e,n){let r=n;for(let s=1;s<X6;s++)r=r-t(r)/e(r);return r}function Wv(t,e){return t*Math.sqrt(1-e*e)}const Q6=["duration","bounce"],Z6=["stiffness","damping","mass"];function $I(t,e){return e.some(n=>t[n]!==void 0)}function ej(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!$I(t,Z6)&&$I(t,Q6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*rs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:St.mass,stiffness:s,damping:a}}else{const n=Y6(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function oh(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:b,isResolvedFromDuration:I}=ej({...n,velocity:-Tr(n.velocity||0)}),N=b||0,T=p/(2*Math.sqrt(f*g)),S=l-a,D=Tr(Math.sqrt(f/g)),F=Math.abs(S)<5;r||(r=F?St.restSpeed.granular:St.restSpeed.default),s||(s=F?St.restDelta.granular:St.restDelta.default);let B;if(T<1){const q=Wv(D,T);B=ie=>{const V=Math.exp(-T*D*ie);return l-V*((N+T*D*S)/q*Math.sin(q*ie)+S*Math.cos(q*ie))}}else if(T===1)B=q=>l-Math.exp(-D*q)*(S+(N+D*S)*q);else{const q=D*Math.sqrt(T*T-1);B=ie=>{const V=Math.exp(-T*D*ie),P=Math.min(q*ie,300);return l-V*((N+T*D*S)*Math.sinh(P)+q*S*Math.cosh(P))/q}}const K={calculatedDuration:I&&_||null,next:q=>{const ie=B(q);if(I)c.done=q>=_;else{let V=q===0?N:0;T<1&&(V=q===0?Hi(N):WR(B,q,ie));const P=Math.abs(V)<=r,C=Math.abs(l-ie)<=s;c.done=P&&C}return c.value=c.done?l:ie,c},toString:()=>{const q=Math.min(V_(K),rp),ie=HR(V=>K.next(q*V).value,q,30);return q+"ms "+ie},toTransition:()=>{}};return K}oh.applyToOptions=t=>{const e=UR(t,100,oh);return t.ease=e.ease,t.duration=Hi(e.duration),t.type="keyframes",t};function Kv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],b={done:!1,value:_},I=P=>c!==void 0&&P<c||f!==void 0&&P>f,N=P=>c===void 0?f:f===void 0||Math.abs(c-P)<Math.abs(f-P)?c:f;let T=n*e;const S=_+T,D=l===void 0?S:l(S);D!==S&&(T=D-_);const F=P=>-T*Math.exp(-P/r),B=P=>D+F(P),K=P=>{const C=F(P),O=B(P);b.done=Math.abs(C)<=p,b.value=b.done?D:O};let q,ie;const V=P=>{I(b.value)&&(q=P,ie=oh({keyframes:[b.value,N(b.value)],velocity:WR(B,P,b.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return V(0),{calculatedDuration:null,next:P=>{let C=!1;return!ie&&q===void 0&&(C=!0,K(P),V(P)),q!==void 0&&P>=q?ie.next(P-q):(!C&&K(P),b)}}}function tj(t,e,n){const r=[],s=n||ns.mix||$R,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Zn:e;c=Rh(f,c)}r.push(c)}return r}function nj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(D_(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=tj(e,r,s),f=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const b=Sl(t[_],t[_+1],g);return c[_](b)};return n?g=>p(rs(t[0],t[a-1],g)):p}function ij(t,e){return t.map(n=>n*e)}const KR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rj=1e-7,sj=12;function oj(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=KR(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>rj&&++c<sj);return l}function kh(t,e,n,r){if(t===e&&n===r)return Zn;const s=a=>oj(a,0,1,t,n);return a=>a===0||a===1?a:KR(s(a),e,r)}const aj=kh(.42,0,1,1),lj=kh(0,0,.58,1),qR=kh(.42,0,.58,1),GR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zR=t=>e=>1-t(1-e),YR=kh(.33,1.53,.69,.99),j_=zR(YR),XR=GR(j_),JR=t=>(t*=2)<1?.5*j_(t):.5*(2-Math.pow(2,-10*(t-1))),B_=t=>1-Math.sin(Math.acos(t)),QR=zR(B_),ZR=GR(B_),e2=t=>Array.isArray(t)&&typeof t[0]=="number",uj={linear:Zn,easeIn:aj,easeInOut:qR,easeOut:lj,circIn:B_,circInOut:ZR,circOut:QR,backIn:j_,backInOut:XR,backOut:YR,anticipate:JR},cj=t=>typeof t=="string",HI=t=>{if(e2(t)){D_(t.length===4);const[e,n,r,s]=t;return kh(e,n,r,s)}else if(cj(t))return uj[t];return t};function hj(t,e){return t.map(()=>e||qR).splice(0,t.length-1)}function Mc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NR(r)?r.map(HI):HI(r),a={done:!1,value:e[0]},l=ij(n&&n.length===e.length?n:FR(e),t),c=nj(l,e,{ease:Array.isArray(s)?s:hj(e,s)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const dj=t=>t!==null;function $_(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(dj),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const fj={decay:Kv,inertia:Kv,tween:Mc,keyframes:Mc,spring:oh};function t2(t){typeof t.type=="string"&&(t.type=fj[t.type])}class H_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pj=t=>t/100;class W_ extends H_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;t2(e);const{type:n=Mc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const f=n||Mc;f!==Mc&&typeof c[0]!="number"&&(this.mixKeyframes=Rh(pj,$R(c[0],c[1])),c=[0,100]);const p=f({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=V_(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:b,repeatDelay:I,type:N,onUpdate:T,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,K=r;if(_){const P=Math.min(this.currentTime,s)/c;let C=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(b==="reverse"?(O=1-O,I&&(O-=I/c)):b==="mirror"&&(K=l)),B=rs(0,1,O)*c}const q=F?{done:!1,value:g[0]}:K.next(B);a&&(q.value=a(q.value));let{done:ie}=q;!F&&f!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return V&&N!==Kv&&(q.value=$_(g,this.options,S,this.speed)),T&&T(q.value),V&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Tr(this.calculatedDuration)}get time(){return Tr(this.currentTime)}set time(e){var n;e=Hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=G6,startTime:s}=this.options;this.driver||(this.driver=r(l=>this.tick(l))),(n=(e=this.options).onPlay)==null||n.call(e);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}const mj=t=>t.startsWith("--");function gj(t,e,n){mj(e)?t.style.setProperty(e,n):t.style[e]=n}function K_(t){let e;return()=>(e===void 0&&(e=t()),e)}const vj=K_(()=>window.ScrollTimeline!==void 0),yj={};function _j(t,e){const n=K_(t);return()=>yj[e]??n()}const n2=_j(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,WI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mc([0,.65,.55,1]),circOut:mc([.55,0,1,.45]),backIn:mc([.31,.01,.66,-.59]),backOut:mc([.33,1.53,.69,.99])};function i2(t,e){if(t)return typeof t=="function"?n2()?HR(t,e):"ease-out":e2(t)?mc(t):Array.isArray(t)?t.map(n=>i2(n,e)||WI.easeOut):WI[t]}function wj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const _=i2(c,s);Array.isArray(_)&&(g.easing=_);const b={delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(g,b)}function bj({type:t,...e}){return L_(t)&&n2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ej extends H_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,D_(typeof e.type!="string");const p=bj(e);this.animation=wj(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=$_(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):gj(n,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Tr(Number(r))}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&vj()?(this.animation.timeline=e,Zn):n(this)}}const r2={anticipate:JR,backInOut:XR,circInOut:ZR};function Tj(t){return t in r2}function Ij(t){typeof t.ease=="string"&&Tj(t.ease)&&(t.ease=r2[t.ease])}const KI=10;class Aj extends Ej{constructor(e){Ij(e),t2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new W_({...l,autoplay:!1}),f=Hi(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-KI).value,c.sample(f).value,KI),c.stop()}}const qI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ks.test(t)||t==="0")&&!t.startsWith("url("));function Sj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Pj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=qI(s,e),c=qI(a,e);return!l||!c?!1:Sj(t)||(n==="spring"||L_(n))&&r}function s2(t){return typeof t=="object"&&t!==null}function o2(t){return s2(t)&&"offsetHeight"in t}const Cj=new Set(["opacity","clipPath","filter","transform"]),Rj=K_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kj(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!o2((e=n==null?void 0:n.owner)==null?void 0:e.current))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return Rj()&&r&&Cj.has(r)&&(r!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const xj=40;class Dj extends H_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:f,motionValue:p,element:g,..._}){var b;super(),this.stop=()=>{var T,S;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Jn.now();const I={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:g,..._},N=(g==null?void 0:g.KeyframeResolver)||C_;this.keyframeResolver=new N(c,(T,S,D)=>this.onKeyframesResolved(T,S,I,!D),f,p,g),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Jn.now(),Pj(e,a,l,c)||((ns.instantAnimations||!f)&&(g==null||g($_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>xj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},I=!p&&kj(b)?new Aj({...b,element:b.motionValue.owner.current}):new W_(b);I.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),I5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const q_=(t,e,n,r={},s,a)=>l=>{const c=F_(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Hi(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:b=>{e.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};L6(c)||Object.assign(g,V6(t,g)),g.duration&&(g.duration=Hi(g.duration)),g.repeatDelay&&(g.repeatDelay=Hi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),(ns.instantAnimations||ns.skipAnimations)&&(_=!0,g.duration=0,g.delay=0),g.allowFlatten=!c.type&&!c.ease,_&&!a&&e.get()!==void 0){const b=x6(g.keyframes,c);if(b!==void 0){ct.update(()=>{g.onUpdate(b),g.onComplete()});return}}return c.isSync?new W_(g):new Dj(g)};function Oj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Mj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const f=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in c){const _=t.getValue(g,t.latestValues[g]??null),b=c[g];if(b===void 0||p&&Oj(p,g))continue;const I={delay:n,...F_(a||{},g)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===N&&!I.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=jR(t);if(D){const F=window.MotionHandoffAnimation(D,g,ct);F!==null&&(I.startTime=F,T=!0)}}P6(t,g),_.start(q_(g,_,b,t.shouldReduceMotion&&IR.has(g)?{type:!1}:I,t,T));const S=_.animation;S&&f.push(S)}return l&&Promise.all(f).then(()=>{ct.update(()=>{l&&A6(t,l)})}),f}function Nj(t,e){return t in e}class Vj extends TR{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Nj(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Nt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function G_(t){return s2(t)&&"ownerSVGElement"in t}function a2(t){return G_(t)&&t.tagName==="svg"}function Lj(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=G_(t)&&!a2(t)?new OR(e):new xR(e);n.mount(t),Ko.set(t,n)}function Fj(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Vj(e);n.mount(t),Ko.set(t,n)}function l2(t,e,n){const r=Ht(t)?t:Al(t);return r.start(q_("",r,e,n)),r.animation}function Uj(t,e){return Ht(t)||typeof t=="number"||typeof t=="string"&&!M_(e)}function u2(t,e,n,r){const s=[];if(Uj(t,e))s.push(l2(t,M_(e)&&e.default||e,n&&(n.default||n)));else{const a=MR(t,e,r),l=a.length;for(let c=0;c<l;c++){const f=a[c],p=f instanceof Element?Lj:Fj;Ko.has(f)||p(f);const g=Ko.get(f),_={...n};"delay"in _&&typeof _.delay=="function"&&(_.delay=_.delay(c,l)),s.push(...Mj(g,{...e,transition:_},{}))}}return s}function jj(t,e,n){const r=[];return g6(t,e,n,{spring:oh}).forEach(({keyframes:a,transition:l},c)=>{r.push(...u2(c,a,l))}),r}class Bj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $j extends Bj{then(e,n){return this.finished.finally(e).then(()=>{})}}function Hj(t){return Array.isArray(t)&&t.some(Array.isArray)}function Wj(t){function e(n,r,s){let a=[];return Hj(n)?a=jj(n,r,t):a=u2(n,r,s,t),new $j(a)}return e}const Kj=Wj(),qj=["initial","animate","whileInView","whileHover","whilePress","whileDrag","whileFocus","exit"];class Gj extends ls{constructor(e){var n;super(e),this.animateUpdates=({controlActiveState:r,directAnimate:s,directTransition:a,controlDelay:l=0,isFallback:c,isExit:f}={})=>{const p=this.state.target;this.state.target={...this.state.baseTarget};let g={};g=this.resolveStateAnimation({controlActiveState:r,directAnimate:s,directTransition:a});const _=this.createAnimationFactories(p,g,l),{getChildAnimations:b,childAnimations:I}=this.setupChildAnimations(g,this.state.activeStates,c);return this.executeAnimations({factories:_,getChildAnimations:b,childAnimations:I,transition:g,controlActiveState:r,isExit:f})},this.state.visualElement=l6(this.state.options.as,{presenceContext:null,parent:(n=this.state.parent)==null?void 0:n.visualElement,props:{...this.state.options,whileTap:this.state.options.whilePress},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{...this.state.baseTarget}},reducedMotionConfig:this.state.options.motionConfig.reduceMotion}),this.state.animateUpdates=this.animateUpdates,this.state.isMounted()&&this.state.startAnimation()}updateAnimationControlsSubscription(){const{animate:e}=this.state.options;gI(e)&&(this.unmountControls=e.subscribe(this.state))}executeAnimations({factories:e,getChildAnimations:n,transition:r,controlActiveState:s,isExit:a=!1}){const l=()=>Promise.all(e.map(_=>_()).filter(Boolean)),c={...this.state.target},f=this.state.element,p=_=>{var b,I;f.dispatchEvent(yI("motionstart",c)),(I=(b=this.state.options).onAnimationStart)==null||I.call(b,c),_.then(()=>{var N,T;f.dispatchEvent(yI("motioncomplete",c,a)),(T=(N=this.state.options).onAnimationComplete)==null||T.call(N,c)}).catch(Zn)},g=()=>{const _=r!=null&&r.when?(r.when==="beforeChildren"?l():n()).then(()=>r.when==="beforeChildren"?n():l()):Promise.all([l(),n()]);return p(_),_};return s?g:g()}setupChildAnimations(e,n,r){var s;if(!((s=this.state.visualElement.variantChildren)!=null&&s.size)||!n)return{getChildAnimations:()=>Promise.resolve(),childAnimations:[]};const{staggerChildren:a=0,staggerDirection:l=1,delayChildren:c=0}=e||{},f=(this.state.visualElement.variantChildren.size-1)*a,p=l===1?(_=0)=>_*a:(_=0)=>f-_*a,g=Array.from(this.state.visualElement.variantChildren).map((_,b)=>{const I=c+p(b);return _.state.animateUpdates({controlActiveState:n,controlDelay:r?0:I})}).filter(Boolean);return{getChildAnimations:()=>Promise.all(g.map(_=>_==null?void 0:_())),childAnimations:g}}createAnimationFactories(e,n,r){const s=[];return Object.keys(this.state.target).forEach(a=>{var l;if(!S9(e[a],this.state.target[a]))return;(l=this.state.baseTarget)[a]??(l[a]=X9.get(this.state.element,a));const c=this.state.target[a]==="none"&&Bg(bI[a])?bI[a]:this.state.target[a];s.push(()=>{var f;return Kj(this.state.element,{[a]:c},{...(n==null?void 0:n[a])||n,delay:(((f=n==null?void 0:n[a])==null?void 0:f.delay)||(n==null?void 0:n.delay)||0)+r})})}),s}resolveStateAnimation({controlActiveState:e,directAnimate:n,directTransition:r}){let s=this.state.options.transition,a={};const{variants:l,custom:c,transition:f,animatePresenceContext:p}=this.state.options,g=Bg(c)?c:p==null?void 0:p.custom;return this.state.activeStates={...this.state.activeStates,...e},qj.forEach(_=>{if(!this.state.activeStates[_]||gI(this.state.options[_]))return;const b=this.state.options[_];let I=Bg(b)?Dc(b,l,g):void 0;if(this.state.visualElement.isVariantNode){const N=Dc(this.state.context[_],l,g);I=N?Object.assign(N||{},I):a}I&&(_!=="initial"&&(s=I.transition||this.state.options.transition||{}),a=Object.assign(a,I))}),n&&(a=Dc(n,l,g),s=a.transition||r||f),Object.entries(a).forEach(([_,b])=>{_!=="transition"&&(this.state.target[_]=b)}),s}mount(){const{element:e}=this.state;sR.set(e,this.state),Ko.get(e)||(this.state.visualElement.mount(e),Ko.set(e,this.state.visualElement)),this.state.visualElement.state=this.state,this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.state.options,{animate:n}=this.state.visualElement.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;(e=this.unmountControls)==null||e.call(this)}}const zj={y:!1};function Yj(){return zj.y}const c2=(t,e)=>e?t===e?!0:c2(t,e.parentElement):!1,Xj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function h2(t,e){const n=N_(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}const Jj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qj(t){return Jj.has(t.tagName)||t.tabIndex!==-1}const If=new WeakSet;function GI(t){return e=>{e.key==="Enter"&&t(e)}}function Kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Zj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=GI(()=>{if(If.has(n))return;Kg(n,"down");const s=GI(()=>{Kg(n,"up")}),a=()=>Kg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zI(t){return Xj(t)&&!0}function eB(t,e,n={}){const[r,s,a]=h2(t,n),l=c=>{const f=c.currentTarget;if(!zI(c))return;If.add(f);const p=e(f,c),g=(I,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),If.has(f)&&If.delete(f),zI(I)&&typeof p=="function"&&p(I,{success:N})},_=I=>{g(I,f===window||f===document||n.useGlobalTarget||c2(f,I.target))},b=I=>{g(I,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",b,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),o2(c)&&(c.addEventListener("focus",p=>Zj(p,s)),!Qj(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function d2(t){return{point:{x:t.pageX,y:t.pageY}}}function YI(t,e,n){const r=t.options;r.whilePress&&t.setActive("whilePress",n==="Start");const s=`onPress${n==="End"?"":n}`,a=r[s];a&&ct.postRender(()=>a(e,d2(e)))}class tB extends ls{isActive(){const{whilePress:e,onPress:n,onPressCancel:r,onPressStart:s}=this.state.options;return!!(e||n||r||s)}constructor(e){super(e)}mount(){this.register()}update(){const{whilePress:e,onPress:n,onPressCancel:r,onPressStart:s}=this.state.options;e||n||r||s||this.register()}register(){const e=this.state.element;!e||!this.isActive()||(this.unmount(),this.unmount=eB(e,(n,r)=>(YI(this.state,r,"Start"),(s,{success:a})=>YI(this.state,s,a?"End":"Cancel")),{useGlobalTarget:this.state.options.globalPressTarget}))}}function XI(t){return!(t.pointerType==="touch"||Yj())}function nB(t,e,n={}){const[r,s,a]=h2(t,n),l=c=>{if(!XI(c))return;const{target:f}=c,p=e(f,c);if(typeof p!="function"||!f)return;const g=_=>{XI(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}function JI(t,e,n){const r=t.options;r.whileHover&&t.setActive("whileHover",n==="Start");const s=`onHover${n}`,a=r[s];a&&ct.postRender(()=>a(e,d2(e)))}class iB extends ls{isActive(){const{whileHover:e,onHoverStart:n,onHoverEnd:r}=this.state.options;return!!(e||n||r)}constructor(e){super(e)}mount(){this.register()}update(){const{whileHover:e,onHoverStart:n,onHoverEnd:r}=this.state.visualElement.prevProps;e||n||r||this.register()}register(){const e=this.state.element;!e||!this.isActive()||(this.unmount(),this.unmount=nB(e,(n,r)=>(JI(this.state,r,"Start"),s=>{JI(this.state,s,"End")})))}}const rB={some:0,all:1};function sB(t,e,{root:n,margin:r,amount:s="some"}={}){const a=N_(t),l=new WeakMap,c=p=>{p.forEach(g=>{const _=l.get(g.target);if(g.isIntersecting!==!!_)if(g.isIntersecting){const b=e(g.target,g);typeof b=="function"?l.set(g.target,b):f.unobserve(g.target)}else typeof _=="function"&&(_(g),l.delete(g.target))})},f=new IntersectionObserver(c,{root:n,rootMargin:r,threshold:typeof s=="number"?s:rB[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function QI(t,e,n){const r=t.options;r.whileInView&&t.setActive("whileInView",n==="Enter");const s=`onViewport${n}`,a=r[s];a&&ct.postRender(()=>a(e))}class oB extends ls{isActive(){return!!this.state.options.whileInView}constructor(e){super(e)}startObserver(){const e=this.state.element;if(!e||!this.isActive())return;this.unmount();const{once:n,...r}=this.state.options.inViewOptions||{};this.unmount=sB(e,(s,a)=>{if(QI(this.state,a,"Enter"),!n)return l=>{QI(this.state,a,"Leave")}},r)}mount(){this.startObserver()}update(){const{props:e,prevProps:n}=this.state.visualElement;["amount","margin","root"].some(aB(e,n))&&this.startObserver()}}function aB({inViewOptions:t={}},{inViewOptions:e={}}={}){return n=>t[n]!==e[n]}function op(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}class lB extends ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.state.element.matches(":focus-visible")}catch{e=!0}e&&(this.state.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&(this.state.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(op(this.state.element,"focus",()=>this.onFocus()),op(this.state.element,"blur",()=>this.onBlur()))}}const uB=(t,e)=>t.depth-e.depth;class cB{constructor(){this.children=[],this.isDirty=!1}add(e){S_(this.children,e),this.isDirty=!0}remove(e){Yp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uB),this.isDirty=!1,this.children.forEach(e)}}function hB(t,e){const n=Jn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(is(r),t(a-e))};return ct.setup(r,!0),()=>is(r)}function qg(t){return Ht(t)?t.get():t}const f2=["TopLeft","TopRight","BottomLeft","BottomRight"],dB=f2.length,ZI=t=>typeof t=="string"?parseFloat(t):t,e1=t=>typeof t=="number"||Ee.test(t);function fB(t,e,n,r,s,a){s?(t.opacity=vt(0,n.opacity??1,pB(r)),t.opacityExit=vt(e.opacity??1,0,mB(r))):a&&(t.opacity=vt(e.opacity??1,n.opacity??1,r));for(let l=0;l<dB;l++){const c=`border${f2[l]}Radius`;let f=t1(e,c),p=t1(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||e1(f)===e1(p)?(t[c]=Math.max(vt(ZI(f),ZI(p),r),0),(Er.test(p)||Er.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=vt(e.rotate||0,n.rotate||0,r))}function t1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pB=p2(0,.5,QR),mB=p2(.5,.95,Zn);function p2(t,e,n){return r=>r<t?0:r>e?1:n(Sl(t,e,r))}function n1(t,e){t.min=e.min,t.max=e.max}function Ii(t,e){n1(t.x,e.x),n1(t.y,e.y)}function i1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gg(t){return t===void 0||t===1}function qv({scale:t,scaleX:e,scaleY:n}){return!Gg(t)||!Gg(e)||!Gg(n)}function Co(t){return qv(t)||m2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function m2(t){return r1(t.x)||r1(t.y)}function r1(t){return t&&t!=="0%"}function ap(t,e,n){const r=t-n,s=e*r;return n+s}function s1(t,e,n,r,s){return s!==void 0&&(t=ap(t,s,r)),ap(t,n,r)+e}function Gv(t,e=0,n=1,r,s){t.min=s1(t.min,e,n,r,s),t.max=s1(t.max,e,n,r,s)}function g2(t,{x:e,y:n}){Gv(t.x,e.translate,e.scale,e.originPoint),Gv(t.y,n.translate,n.scale,n.originPoint)}const o1=.999999999999,a1=1.0000000000001;function gB(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&el(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,g2(t,l)),r&&Co(a.latestValues)&&el(t,a.latestValues))}e.x<a1&&e.x>o1&&(e.x=1),e.y<a1&&e.y>o1&&(e.y=1)}function af(t,e){t.min=t.min+e,t.max=t.max+e}function l1(t,e,n,r,s=.5){const a=vt(t.min,t.max,s);Gv(t,e,n,a,r)}function el(t,e){l1(t.x,e.x,e.scaleX,e.scale,e.originX),l1(t.y,e.y,e.scaleY,e.scale,e.originY)}const v2=1e-4,vB=1-v2,yB=1+v2,y2=.01,_B=0-y2,wB=0+y2;function Ai(t){return t.max-t.min}function bB(t,e,n){return Math.abs(t-e)<=n}function u1(t,e,n,r=.5){t.origin=r,t.originPoint=vt(e.min,e.max,t.origin),t.scale=Ai(n)/Ai(e),t.translate=vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vB&&t.scale<=yB||isNaN(t.scale))&&(t.scale=1),(t.translate>=_B&&t.translate<=wB||isNaN(t.translate))&&(t.translate=0)}function Nc(t,e,n,r){u1(t.x,e.x,n.x,r?r.originX:void 0),u1(t.y,e.y,n.y,r?r.originY:void 0)}function c1(t,e,n){t.min=n.min+e.min,t.max=t.min+Ai(e)}function EB(t,e,n){c1(t.x,e.x,n.x),c1(t.y,e.y,n.y)}function h1(t,e,n){t.min=e.min-n.min,t.max=t.min+Ai(e)}function Vc(t,e,n){h1(t.x,e.x,n.x),h1(t.y,e.y,n.y)}function d1(t,e,n,r,s){return t-=e,t=ap(t,1/n,r),s!==void 0&&(t=ap(t,1/s,r)),t}function TB(t,e=0,n=1,r=.5,s,a=t,l=t){if(Er.test(e)&&(e=parseFloat(e),e=vt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=vt(a.min,a.max,r);t===a&&(c-=e),t.min=d1(t.min,e,n,c,s),t.max=d1(t.max,e,n,c,s)}function f1(t,e,[n,r,s],a,l){TB(t,e[n],e[r],e[s],e.scale,a,l)}const IB=["x","scaleX","originX"],AB=["y","scaleY","originY"];function p1(t,e,n,r){f1(t.x,e,IB,n?n.x:void 0,r?r.x:void 0),f1(t.y,e,AB,n?n.y:void 0,r?r.y:void 0)}function m1(t){return t.translate===0&&t.scale===1}function _2(t){return m1(t.x)&&m1(t.y)}function g1(t,e){return t.min===e.min&&t.max===e.max}function SB(t,e){return g1(t.x,e.x)&&g1(t.y,e.y)}function v1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function w2(t,e){return v1(t.x,e.x)&&v1(t.y,e.y)}function y1(t){return Ai(t.x)/Ai(t.y)}function _1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PB{constructor(){this.members=[]}add(e){S_(this.members,e),e.scheduleRender()}remove(e){if(Yp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CB(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:b,skewX:I,skewY:N}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),I&&(r+=`skewX(${I}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}function w1(t){return[t("x"),t("y")]}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1},{schedule:RB}=rR(queueMicrotask,!1),zg=["","X","Y","Z"],kB={visibility:"hidden"},xB=1e3;let DB=0;function Yg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function b2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&b2(r)}function E2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=DB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NB),this.nodes.forEach(jB),this.nodes.forEach(BB),this.nodes.forEach(VB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new cB)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new P_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=G_(l)&&!a2(l),this.instance=l;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),t){let g;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=hB(_,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(E1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||qB,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=p.getProps(),D=!this.targetLayout||!w2(this.targetLayout,I),F=!_&&b;if(this.options.layoutRoot||this.resumeFrom||F||_&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...F_(N,"layout"),onPlay:T,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(g,F)}else _||E1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($B),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b1);return}this.isUpdating||this.nodes.forEach(FB),this.isUpdating=!1,this.nodes.forEach(UB),this.nodes.forEach(OB),this.nodes.forEach(MB),this.clearAllSnapshots();const c=Jn.now();gn.delta=rs(0,1e3/60,c-gn.timestamp),gn.timestamp=c,gn.isProcessing=!0,Ug.update.process(gn),Ug.preRender.process(gn),Ug.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,RB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LB),this.sharedNodes.forEach(HB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ai(this.snapshot.measuredBox.x)&&!Ai(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!_2(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||Co(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),GB(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Nt();const f=c.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(zB))){const{scroll:g}=this.root;g&&(af(f.x,g.offset.x),af(f.y,g.offset.y))}return f}removeElementScroll(l){var c;const f=Nt();if(Ii(f,l),(c=this.scroll)!=null&&c.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:b}=g;g!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&Ii(f,l),af(f.x,_.offset.x),af(f.y,_.offset.y))}return f}applyTransform(l,c=!1){const f=Nt();Ii(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&el(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Co(g.latestValues)&&el(f,g.latestValues)}return Co(this.latestValues)&&el(f,this.latestValues),f}removeTransform(l){const c=Nt();Ii(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Co(p.latestValues))continue;qv(p.latestValues)&&p.updateSnapshot();const g=Nt(),_=p.measurePageBox();Ii(g,_),p1(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Co(this.latestValues)&&p1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(c=this.parent)!=null&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:b}=this.options;if(!(!this.layout||!(_||b))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),g2(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Vc(this.relativeTargetOrigin,this.target,I.target),Ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qv(this.parent.latestValues)||m2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(l=this.parent)!=null&&l.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Ii(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,I=this.treeScale.y;gB(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Nt());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i1(this.prevProjectionDelta.x,this.projectionDelta.x),i1(this.prevProjectionDelta.y,this.projectionDelta.y)),Nc(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==I||!_1(this.projectionDelta.x,this.prevProjectionDelta.x)||!_1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qa(),this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Nt(),I=f?f.source:void 0,N=this.layout?this.layout.source:void 0,T=I!==N,S=this.getStack(),D=!S||S.members.length<=1,F=!!(T&&!D&&this.options.crossfade===!0&&!this.path.some(KB));this.animationProgress=0;let B;this.mixTargetDelta=K=>{const q=K/1e3;T1(_.x,l.x,q),T1(_.y,l.y,q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WB(this.relativeTarget,this.relativeTargetOrigin,b,q),B&&SB(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Nt()),Ii(B,this.relativeTarget)),T&&(this.animationValues=g,fB(g,p,this.latestValues,q,F,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,f,p;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Al(0)),this.currentAnimation=l2(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:g}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&T2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Nt();const _=Ai(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const b=Ai(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}Ii(c,f),el(c,g),Nc(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new PB),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&Yg("z",l,p,this.animationValues);for(let g=0;g<zg.length;g++)Yg(`rotate${zg[g]}`,l,p,this.animationValues),Yg(`skew${zg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return kB;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=qg(l==null?void 0:l.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=qg(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(I.transform=f?f({},""):"none",this.hasProjected=!1),I}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=CB(this.projectionDeltaWithTransform,this.treeScale,g),f&&(c.transform=f(g,c.transform));const{x:_,y:b}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,p.animationValues?c.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in ih){if(g[I]===void 0)continue;const{correct:N,applyTo:T,isCSSVariable:S}=ih[I],D=c.transform==="none"?g[I]:N(g[I],p);if(T){const F=T.length;for(let B=0;B<F;B++)c[T[B]]=D}else S?this.options.visualElement.renderState.vars[I]=D:c[I]=D}return this.options.layoutId&&(c.pointerEvents=p===this?qg(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(b1),this.root.sharedNodes.clear()}}}function OB(t){t.updateLayout()}function MB(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?w1(_=>{const b=l?n.measuredBox[_]:n.layoutBox[_],I=Ai(b);b.min=r[_].min,b.max=b.min+I}):T2(a,n.layoutBox,r)&&w1(_=>{const b=l?n.measuredBox[_]:n.layoutBox[_],I=Ai(r[_]);b.max=b.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+I)});const c=Qa();Nc(c,r,n.layoutBox);const f=Qa();l?Nc(f,t.applyTransform(s,!0),n.measuredBox):Nc(f,r,n.layoutBox);const p=!_2(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:I}=_;if(b&&I){const N=Nt();Vc(N,n.layoutBox,b.layoutBox);const T=Nt();Vc(T,r,I.layoutBox),w2(N,T)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=N,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function NB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LB(t){t.clearSnapshot()}function b1(t){t.clearMeasurements()}function FB(t){t.isLayoutDirty=!1}function UB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function E1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jB(t){t.resolveTargetDelta()}function BB(t){t.calcProjection()}function $B(t){t.resetSkewAndRotation()}function HB(t){t.removeLeadSnapshot()}function T1(t,e,n){t.translate=vt(e.translate,0,n),t.scale=vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function I1(t,e,n,r){t.min=vt(e.min,n.min,r),t.max=vt(e.max,n.max,r)}function WB(t,e,n,r){I1(t.x,e.x,n.x,r),I1(t.y,e.y,n.y,r)}function KB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qB={duration:.45,ease:[.4,0,.1,1]},A1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),S1=A1("applewebkit/")&&!A1("chrome/")?Math.round:Zn;function P1(t){t.min=S1(t.min),t.max=S1(t.max)}function GB(t){P1(t.x),P1(t.y)}function T2(t,e,n){return t==="position"||t==="preserve-aspect"&&!bB(y1(e),y1(n),.2)}function zB(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}function YB(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const XB=E2({attachResizeListener:(t,e)=>YB(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xg={current:void 0},JB=E2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xg.current){const t=new XB({});t.mount(window),t.setOptions({layoutScroll:!0}),Xg.current=t}return Xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"});function I2(t){if(t)return t.options.allowProjection!==!1?t.projection:I2(t.parent)}function C1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=C1(t,e.target.x),r=C1(t,e.target.y);return`${n}% ${r}%`}},QB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ks.parse(t);if(s.length>5)return r;const a=Ks.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=f;const p=vt(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}},A2={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:QB};function gc(t){return typeof t=="object"&&t!==null&&"nodeType"in t}class ZB extends ls{constructor(e){super(e),nR(A2)}initProjection(){const e=this.state.options;this.state.visualElement.projection=new JB(this.state.visualElement.latestValues,e["data-framer-portal-id"]?void 0:I2(this.state.visualElement.parent)),this.state.visualElement.projection.isPresent=!0,this.setOptions()}beforeMount(){this.initProjection()}setOptions(){const e=this.state.options;this.state.visualElement.projection.setOptions({layout:e.layout,layoutId:e.layoutId,alwaysMeasureLayout:!!e.drag||e.dragConstraints&&gc(e.dragConstraints),visualElement:this.state.visualElement,animationType:typeof e.layout=="string"?e.layout:"both",layoutRoot:e.layoutRoot,layoutScroll:e.layoutScroll,crossfade:e.crossfade,onExitComplete:()=>{var n;if(!((n=this.state.visualElement.projection)!=null&&n.isPresent)){const r=I_.get(this.state.element);this.state.isSafeToRemove=!0,r&&r({detail:{isExit:!0}},!0)}}})}update(){this.setOptions()}mount(){var e;(e=this.state.visualElement.projection)==null||e.mount(this.state.element)}}function S2(t){return t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1}function z_(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}function e7(t){return e=>S2(e)&&t(e,z_(e))}function Lc(t,e,n,r){return op(t,e,e7(n),r)}function P2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const R1=P2("dragHorizontal"),k1=P2("dragVertical");function t7(t){let e=!1;if(t==="y")e=k1();else if(t==="x")e=R1();else{const n=R1(),r=k1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zv(t){return t.max-t.min}function n7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?vt(n,t,r.max):Math.min(t,n)),t}const Yv=.35;function i7(t,{top:e,left:n,bottom:r,right:s}){return{x:x1(t.x,n,s),y:x1(t.y,e,r)}}function x1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function r7(t=Yv){return t===!1?t=0:t===!0&&(t=Yv),{x:D1(t,"left","right"),y:D1(t,"top","bottom")}}function D1(t,e,n){return{min:O1(t,e),max:O1(t,n)}}function O1(t,e){return typeof t=="number"?t:t[e]||0}function s7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}function o7(t,e){return{x:M1(t.x,e.x),y:M1(t.y,e.y)}}function M1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function a7(t,e){let n=.5;const r=zv(t),s=zv(e);return s>r?n=Sl(e.min,e.max-r,t.min):r>s&&(n=Sl(t.min,t.max-s,e.min)),rs(0,1,n)}const N1=(t,e)=>Math.abs(t-e);function l7(t,e){const n=N1(t.x,e.x),r=N1(t.y,e.y);return Math.sqrt(n**2+r**2)}class C2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Qg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,I=l7(_.offset,{x:0,y:0})>=3;if(!b&&!I)return;const{point:N}=_,{timestamp:T}=gn;this.history.push({...N,timestamp:T});const{onStart:S,onMove:D}=this.handlers;b||(S&&S(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Jg(b,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Qg(_.type==="pointercancel"?this.lastMoveEventInfo:Jg(b,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,S),N&&N(_,S)},!S2(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=z_(e),c=Jg(l,this.transformPagePoint),{point:f}=c,{timestamp:p}=gn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Qg(c,this.history)),this.removeListeners=Rh(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function Jg(t,e){return e?{point:e(t.point)}:t}function V1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qg({point:t},e){return{point:t,delta:V1(t,R2(e)),offset:V1(t,u7(e)),velocity:c7(e,.1)}}function u7(t){return t[0]}function R2(t){return t[t.length-1]}function c7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=R2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Hi(e)));)n--;if(!r)return{x:0,y:0};const a=Tr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const L1=()=>({min:0,max:0});function h7(){return{x:L1(),y:L1()}}function cr(t){return[t("x"),t("y")]}function d7(t){return!!(Ht(t)&&t.add)}function F1(t,e){const n=t.getValue("willChange");if(d7(n))return n.add(e)}function k2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function f7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function p7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function U1(t,e){t.min=t.min+e,t.max=t.max+e}function m7(t,e){return k2(f7(t.getBoundingClientRect(),e))}function g7(t,e,n){const r=m7(t,n),{scroll:s}=e;return s&&(U1(r.x,s.offset.x),U1(r.y,s.offset.y)),r}function j1(t){return!I_.has(t.current)}function x2({current:t}){return t?t.ownerDocument.defaultView:null}const v7=new WeakMap;class y7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=h7(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(!j1(this.visualElement))return;const r=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(z_(p,"page").point)},s=(p,g)=>{const{drag:_,dragPropagation:b,onDragStart:I}=this.getProps();if(_&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=t7(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cr(T=>{let S=this.getAxisMotionValue(T).get()||0;if(Er.test(S)){const{projection:D}=this.visualElement;if(D&&D.layout){const F=D.layout.layoutBox[T];F&&(S=zv(F)*(parseFloat(S)/100))}}this.originPoint[T]=S}),I&&ct.postRender(()=>I(p,g)),F1(this.visualElement,"transform"),this.visualElement.state.setActive("whileDrag",!0)},a=(p,g)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:I,onDrag:N}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:T}=g;if(b&&this.currentDirection===null){this.currentDirection=_7(T),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),N&&N(p,g)},l=(p,g)=>this.stop(p,g),c=()=>cr(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new C2(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:x2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ct.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),this.visualElement.state.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!lf(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=n7(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,a=this.constraints;n&&gc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=i7(s.layoutBox,n):this.constraints=!1,this.elastic=r7(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&cr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=s7(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gc(e))return!1;const r=e,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=g7(r,s.root,this.visualElement.getTransformPagePoint());let l=o7(s.layout.layoutBox,a);if(n){const c=n(p7(l));this.hasMutatedConstraints=!!c,c&&(l=k2(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=cr(g=>{if(!lf(g,n,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const b=s?200:1e6,I=s?40:1e7,N={type:"inertia",velocity:r?e[g]:0,bounceStiffness:b,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,N)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return F1(this.visualElement,e),r.start(q_(e,r,0,n,this.visualElement,!1))}stopAnimation(){j1(this.visualElement)&&cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cr(n=>{const{drag:r}=this.getProps();if(!lf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-vt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=a7({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cr(l=>{if(!lf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(vt(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;v7.set(this.visualElement,this);const e=this.visualElement.current,n=Lc(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();gc(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ct.read(r);const l=op(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(cr(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Yv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class w7 extends ls{constructor(e){super(e),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new y7(e.visualElement)}mount(){const{dragControls:e}=this.state.options;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}class b7 extends ls{constructor(e){super(e),nR(A2)}beforeUpdate(){this.state.willUpdate("beforeUpdate")}update(){this.didUpdate()}didUpdate(){var e,n;(this.state.options.layout||this.state.options.layoutId||this.state.options.drag)&&((n=(e=this.state.visualElement.projection)==null?void 0:e.root)==null||n.didUpdate())}mount(){var e;const n=this.state.options,r=this.state.options.layoutGroup;if(n.layout||n.layoutId){const s=this.state.visualElement.projection;s&&(s.promote(),(e=r==null?void 0:r.group)==null||e.add(s)),Af.hasEverUpdated=!0}this.didUpdate()}beforeUnmount(){const e=this.state.visualElement.projection;e&&(this.state.willUpdate("beforeUnmount"),this.state.options.layoutId?(e.isPresent=!1,e.relegate()):this.state.options.layout&&(this.state.isSafeToRemove=!0))}unmount(){const e=this.state.options.layoutGroup,n=this.state.visualElement.projection;n&&(e!=null&&e.group&&(this.state.options.layout||this.state.options.layoutId)&&e.group.remove(n),this.didUpdate())}}function B1(t){return(e,n)=>{t&&ct.postRender(()=>t(e,n))}}class E7 extends ls{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(e){this.session=new C2(e,this.createPanHandlers(),{transformPagePoint:this.state.visualElement.getTransformPagePoint(),contextWindow:x2(this.state.visualElement)})}createPanHandlers(){return{onSessionStart:B1((e,n)=>{const{onPanSessionStart:r}=this.state.options;r&&r(e,n)}),onStart:B1((e,n)=>{const{onPanStart:r}=this.state.options;r&&r(e,n)}),onMove:(e,n)=>{const{onPan:r}=this.state.options;r&&r(e,n)},onEnd:(e,n)=>{const{onPanEnd:r}=this.state.options;delete this.session,r&&ct.postRender(()=>r(e,n))}}}mount(){this.removePointerDownListener=Lc(this.state.element,"pointerdown",this.onPointerDown.bind(this))}update(){}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const T7=[Gj,tB,iB,oB,lB,ZB,E7,w7,b7],I7={reduceMotion:"never",transition:void 0,nonce:void 0},[A7,a$]=Ph("MotionConfig");function S7(){return A7(fS(()=>I7))}function lp(t){return(t==null?void 0:t.nodeType)===3||(t==null?void 0:t.nodeType)===8?lp(t.nextSibling):t}const[P7,l$]=Ph("LazyMotionContext");function C7(t){const e=T9(null),n=A9({}),r=S7(),s=M9({}),a=P7({features:di([]),strict:!1}),l=PD();function c(){return n.id&&t.layoutId?`${n.id}-${t.layoutId}`:t.layoutId||void 0}function f(){return{...t,lazyMotionContext:a,layoutId:c(),transition:t.transition??r.value.transition,layoutGroup:n,motionConfig:r.value,inViewOptions:t.inViewOptions??r.value.inViewOptions,animatePresenceContext:s,initial:s.initial===!1?s.initial:t.initial===!0?void 0:t.initial}}function p(){return{...l,...f()}}const g=new U9(p(),e);I9(g);function _(){var I;const N=g.type==="svg",T={...l};Object.keys(l).forEach(F=>{Ht(l[F])&&(T[F]=l[F].get())});let S={...t.style,...N?{}:((I=g.visualElement)==null?void 0:I.latestValues)||g.baseTarget};if(N){const{attrs:F,style:B}=t5({...g.isMounted()?g.target:g.baseTarget,...S});(B.transform||F.transformOrigin)&&(B.transformOrigin=F.transformOrigin??"50% 50%",delete F.transformOrigin),B.transform&&(B.transformBox=B.transformBox??"fill-box",delete F.transformBox),Object.assign(T,F),S=B}t.drag&&t.dragListener!==!1&&Object.assign(S,{userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",touchAction:t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`});const D=J9(S);return D&&(T.style=D),T}const b=uS().proxy;return VA(()=>{g.beforeMount()}),LA(()=>{g.mount(lp(b.$el),p(),k7(b))}),jA(()=>g.beforeUnmount()),gy(()=>{const I=lp(b.$el);I!=null&&I.isConnected||g.unmount()}),FA(()=>{g.beforeUpdate()}),UA(()=>{g.update(p())}),{getProps:f,getAttrs:_,layoutGroup:n,state:g}}const R7={ignoreStrict:{type:Boolean},forwardMotionProps:{type:Boolean,default:!1},asChild:{type:Boolean,default:!1},hover:{type:[String,Array,Object]},press:{type:[String,Array,Object]},inView:{type:[String,Array,Object]},focus:{type:[String,Array,Object]},whileDrag:{type:[String,Array,Object]},whileHover:{type:[String,Array,Object],default:({hover:t})=>t},whilePress:{type:[String,Array,Object],default:({press:t})=>t},whileInView:{type:[String,Array,Object],default:({inView:t})=>t},whileFocus:{type:[String,Array,Object],default:({focus:t})=>t},custom:{type:[String,Number,Object,Array]},initial:{type:[String,Array,Object,Boolean],default:void 0},animate:{type:[String,Array,Object],default:void 0},exit:{type:[String,Array,Object]},variants:{type:Object},inherit:{type:Boolean},style:{type:Object},transformTemplate:{type:Function},transition:{type:Object},layoutGroup:{type:Object},motionConfig:{type:Object},onAnimationComplete:{type:Function},onUpdate:{type:Function},layout:{type:[Boolean,String],default:!1},layoutId:{type:String,default:void 0},layoutScroll:{type:Boolean,default:!1},layoutRoot:{type:Boolean,default:!1},"data-framer-portal-id":{type:String},crossfade:{type:Boolean,default:!0},layoutDependency:{type:[String,Number,Object,Array]},onBeforeLayoutMeasure:{type:Function},onLayoutMeasure:{type:Function},onLayoutAnimationStart:{type:Function},onLayoutAnimationComplete:{type:Function},globalPressTarget:{type:Boolean},onPressStart:{type:Function},onPress:{type:Function},onPressCancel:{type:Function},onHoverStart:{type:Function},onHoverEnd:{type:Function},inViewOptions:{type:Object},onViewportEnter:{type:Function},onViewportLeave:{type:Function},drag:{type:[Boolean,String]},dragSnapToOrigin:{type:Boolean},dragDirectionLock:{type:Boolean},dragPropagation:{type:Boolean},dragConstraints:{type:[Boolean,Object]},dragElastic:{type:[Boolean,Number,Object],default:.5},dragMomentum:{type:Boolean,default:!0},dragTransition:{type:Object},dragListener:{type:Boolean,default:!0},dragControls:{type:Object},onDragStart:{type:Function},onDragEnd:{type:Function},onDrag:{type:Function},onDirectionLock:{type:Function},onDragTransitionEnd:{type:Function},onMeasureDragConstraints:{type:Function},onPanSessionStart:{type:Function},onPanStart:{type:Function},onPan:{type:Function},onPanEnd:{type:Function}};function k7(t){var e;const n=((e=lp(t.$el))==null?void 0:e.style.display)==="none";return t.$.vnode.transition&&n}const x7=new Map,D7=new Map;function O7(t){if(!Array.isArray(t))return[t];const e=[];for(const n of t)Array.isArray(n)?e.push(...n):e.push(n);return e}const M7=["area","img","input"];function N7(t,e,n){var r,s;if(typeof t=="string"&&M7.includes(t))return pS(t,e);if(t==="template"){if(!n.default)return null;const a=O7(n.default()),l=a.findIndex(g=>g.type!==Yr);if(l===-1)return a;const c=a[l];(r=c.props)==null||delete r.ref;const f=c.props?lS(e,c.props):e;e.class&&((s=c.props)!=null&&s.class)&&delete c.props.class;const p=jo(c,f);for(const g in f)g.startsWith("on")&&(p.props||(p.props={}),p.props[g]=f[g]);return a.length===1?p:(a[l]=p,a)}return null}function $1(t,e={}){var n;const r=typeof t=="string",s=r?t:t.name||"",a=((n=e.features)==null?void 0:n.length)>0?x7:D7;if(r&&(a!=null&&a.has(t)))return a.get(t);const l=vD({inheritAttrs:!1,props:{...R7,features:{type:Object,default:()=>e.features||[]},as:{type:[String,Object],default:t||"div"}},name:s?`motion.${s}`:"Motion",setup(c,{slots:f}){const{getProps:p,getAttrs:g,state:_}=C7(c);function b(){const I=_.element;if((!(typeof c.as=="object")||c.asChild)&&I){const{style:T}=g();if(T)for(const[S,D]of Object.entries(T))I.style[S]=D}}return()=>{const I=p(),N=g(),T=c.asChild?"template":c.as,S={...e.forwardMotionProps||c.forwardMotionProps?I:{},...N,onVnodeUpdated:b},D=N7(T,S,f);return D!==null?D:pS(T,{...S},f)}}});return r&&(a==null||a.set(t,l)),l}function V7(t=[]){return new Proxy({},{get(e,n){return n==="create"?(r,s)=>$1(r,{...s,features:t}):$1(n,{features:t})}})}const vc=V7(T7);vc.create("div");const L7={class:"bg-black/60 p-2 rounded-xl"},F7={class:"truncate mb-[10px] uppercase text-2xl font-extrabold"},U7={class:"truncate font-bold text-lg"},uf={__name:"Task",props:{title:String,description:String},setup(t){return(e,n)=>(wt(),Vt("div",L7,[Ce("p",F7,Uc(t.title),1),Ce("p",U7,Uc(t.description),1)]))}},j7={class:"flex h-full mx-[2rem] justify-around gap-2 mt-[30px]"},B7={class:"flex flex-col gap-2"},$7=["onDragstart"],H7={class:"flex flex-col gap-2"},W7=["onDragstart"],K7={class:"flex flex-col gap-2"},q7=["onDragstart"],G7={class:"flex flex-col gap-2"},z7=["onDragstart"],Y7={__name:"Board",props:{project:String},setup(t){const e=t,n=lh([]),r=di(null),s=di("");(async f=>{const p=Xf(xc,"projects",f),g=await OF(p);g.exists()&&n.push({id:g.id,...g.data()})})(e.project);const l=(f,p)=>{r.value=f,s.value=p},c=async f=>{if(!r.value||s.value===f)return;const p=n[0][s.value].findIndex(g=>g.id===r.value.id);n[0][s.value].splice(p,1),n[0][f].push(r.value),await oC(Xf(xc,"projects",e.project),{[s.value]:n[0][s.value],[f]:n[0][f]}),r.value=null,s.value="",console.log(n)};return(f,p)=>{var g,_,b,I;return wt(),Vt("div",j7,[Ce("div",{class:"h-full border-4 border-indigo-500/50 w-[25%] bg-white/50 rounded-2xl px-4",onDrop:p[0]||(p[0]=N=>c("todo")),onDragover:p[1]||(p[1]=Xa(()=>{},["prevent"]))},[p[8]||(p[8]=Ce("h2",{class:"text-black/30 uppercase text-2xl font-extrabold mb-[10px]"}," Todo ",-1)),Ce("ul",B7,[(wt(!0),Vt(Fn,null,ac((g=n[0])==null?void 0:g.todo,N=>(wt(),Vt("li",{key:N.id,draggable:"true",onDragstart:T=>l(N,"todo")},[mt(sc(vc).div,{drag:!0,dragConstraints:{top:0,left:0,right:0,bottom:0}},{default:oc(()=>[mt(uf,{title:N.title,description:N.description},null,8,["title","description"])]),_:2},1024)],40,$7))),128))])],32),Ce("div",{class:"h-full border-4 border-indigo-500/50 w-[25%] bg-white/50 rounded-2xl px-4",onDrop:p[2]||(p[2]=N=>c("inprogress")),onDragover:p[3]||(p[3]=Xa(()=>{},["prevent"]))},[p[9]||(p[9]=Ce("h2",{class:"text-black/30 uppercase text-2xl font-extrabold mb-[10px]"}," In progress ",-1)),Ce("ul",H7,[(wt(!0),Vt(Fn,null,ac((_=n[0])==null?void 0:_.inprogress,N=>(wt(),Vt("li",{key:N.id,draggable:"true",onDragstart:T=>l(N,"inprogress")},[mt(sc(vc).div,{drag:!0,dragConstraints:{top:0,left:0,right:0,bottom:0}},{default:oc(()=>[mt(uf,{title:N.title,description:N.description},null,8,["title","description"])]),_:2},1024)],40,W7))),128))])],32),Ce("div",{class:"h-full border-4 border-indigo-500/50 w-[25%] bg-white/50 rounded-2xl px-4",onDrop:p[4]||(p[4]=N=>c("review")),onDragover:p[5]||(p[5]=Xa(()=>{},["prevent"]))},[p[10]||(p[10]=Ce("h2",{class:"text-black/30 uppercase text-2xl font-extrabold mb-[10px]"}," Review ",-1)),Ce("ul",K7,[(wt(!0),Vt(Fn,null,ac((b=n[0])==null?void 0:b.review,N=>(wt(),Vt("li",{key:N.id,draggable:"true",onDragstart:T=>l(N,"review")},[mt(sc(vc).div,{drag:!0,dragConstraints:{top:0,left:0,right:0,bottom:0}},{default:oc(()=>[mt(uf,{title:N.title,description:N.description},null,8,["title","description"])]),_:2},1024)],40,q7))),128))])],32),Ce("div",{class:"h-full border-4 border-indigo-500/50 w-[25%] bg-white/50 rounded-2xl px-4",onDrop:p[6]||(p[6]=N=>c("complete")),onDragover:p[7]||(p[7]=Xa(()=>{},["prevent"]))},[p[11]||(p[11]=Ce("h2",{class:"text-black/30 uppercase text-2xl font-extrabold mb-[10px]"}," Completed ",-1)),Ce("ul",G7,[(wt(!0),Vt(Fn,null,ac((I=n[0])==null?void 0:I.complete,N=>(wt(),Vt("li",{key:N.id,draggable:"true",onDragstart:T=>l(N,"complete")},[mt(sc(vc).div,{drag:!0,dragConstraints:{top:0,left:0,right:0,bottom:0}},{default:oc(()=>[mt(uf,{title:N.title,description:N.description},null,8,["title","description"])]),_:2},1024)],40,z7))),128))])],32)])}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=2e3;async function J7(t,e,n){var r;const{BuildInfo:s}=qo();Wi(e.sessionId,"AuthEvent did not contain a session ID");const a=await n8(e.sessionId),l={};return Eh()?l.ibi=s.packageName:bh()?l.apn=s.packageName:hn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=a,xv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function Q7(t){const{BuildInfo:e}=qo(),n={};Eh()?n.iosBundleId=e.packageName:bh()?n.androidPackageName=e.packageName:hn(t,"operation-not-supported-in-this-environment"),await JC(t,n)}function Z7(t){const{cordova:e}=qo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,o4()?"_blank":"_system","location=yes"),n(s)})})}async function e8(t,e,n){const{cordova:r}=qo();let s=()=>{};try{await new Promise((a,l)=>{let c=null;function f(){var _;a();const b=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof b=="function"&&b(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function p(){c||(c=window.setTimeout(()=>{l(tn(t,"redirect-cancelled-by-user"))},X7))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(f),document.addEventListener("resume",p,!1),bh()&&document.addEventListener("visibilitychange",g,!1),s=()=>{e.removePassiveListener(f),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",g,!1),c&&window.clearTimeout(c)}})}finally{s()}}function t8(t){var e,n,r,s,a,l,c,f,p,g;const _=qo();ne(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof((n=_==null?void 0:_.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne(typeof((a=(s=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||a===void 0?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((f=(c=(l=_==null?void 0:_.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((g=(p=_==null?void 0:_.cordova)===null||p===void 0?void 0:p.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function n8(t){const e=i8(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function i8(t){if(Wi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=20;class s8 extends YC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function o8(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:u8(),postBody:null,tenantId:t.tenantId,error:tn(t,"no-auth-event")}}function a8(t,e){return Xv()._set(Jv(t),e)}async function H1(t){const e=await Xv()._get(Jv(t));return e&&await Xv()._remove(Jv(t)),e}function l8(t,e){var n,r;const s=h8(e);if(s.includes("/__/auth/callback")){const a=Sf(s),l=a.firebaseError?c8(decodeURIComponent(a.firebaseError)):null,c=(r=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],f=c?tn(c):null;return f?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function u8(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<r8;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Xv(){return gi(Wp)}function Jv(t){return Vo("authEvent",t.config.apiKey,t.name)}function c8(t){try{return JSON.parse(t)}catch{return null}}function h8(t){const e=Sf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Sf(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sf(s).link||s||r||n||t}function Sf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ja(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=500;class f8{constructor(){this._redirectPersistence=Ws,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zp,this._overrideRedirectResult=__}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new s8(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){hn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,s){t8(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),p3(),await this._originValidation(e);const l=o8(e,r,s);await a8(e,l);const c=await J7(e,l,n),f=await Z7(c);return e8(e,a,f)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q7(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:s,BuildInfo:a}=qo(),l=setTimeout(async()=>{await H1(e),n.onEvent(W1())},d8),c=async g=>{clearTimeout(l);const _=await H1(e);let b=null;_&&(g!=null&&g.url)&&(b=l8(_,g.url)),n.onEvent(b||W1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const f=s,p=`${a.packageName.toLowerCase()}://`;qo().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(p)&&c({url:g}),typeof f=="function")try{f(g)}catch(_){console.error(_)}}}}const p8=f8;function W1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e){Ct(t)._logFramework(e)}var g8="@firebase/auth-compat",v8="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=1e3;function Fc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function _8(){return Fc()==="http:"||Fc()==="https:"}function D2(t=Kt()){return!!((Fc()==="file:"||Fc()==="ionic:"||Fc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function w8(){return by()||wy()}function b8(){return AS()&&(document==null?void 0:document.documentMode)===11}function E8(t=Kt()){return/Edge\/\d+/.test(t)}function T8(t=Kt()){return b8()||E8(t)}function O2(){try{const t=self.localStorage,e=Ah();if(t)return t.setItem(e,"1"),t.removeItem(e),T8()?jf():!0}catch{return Y_()&&jf()}return!1}function Y_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zg(){return(_8()||IS()||D2())&&!w8()&&O2()&&!Y_()}function M2(){return D2()&&typeof document<"u"}async function I8(){return M2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},y8);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function A8(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi={LOCAL:"local",NONE:"none",SESSION:"session"},ic=ne,N2="persistence";function S8(t,e){if(ic(Object.values(hi).includes(e),t,"invalid-persistence-type"),by()){ic(e!==hi.SESSION,t,"unsupported-persistence-type");return}if(wy()){ic(e===hi.NONE,t,"unsupported-persistence-type");return}if(Y_()){ic(e===hi.NONE||e===hi.LOCAL&&jf(),t,"unsupported-persistence-type");return}ic(e===hi.NONE||O2(),t,"unsupported-persistence-type")}async function Qv(t){await t._initializationPromise;const e=V2(),n=Vo(N2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function P8(t,e){const n=V2();if(!n)return[];const r=Vo(N2,t,e);switch(n.getItem(r)){case hi.NONE:return[El];case hi.LOCAL:return[Il,Ws];case hi.SESSION:return[Ws];default:return[]}}function V2(){var t;try{return((t=A8())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=ne;class Ds{constructor(){this.browserResolver=gi(QC),this.cordovaResolver=gi(p8),this.underlyingResolver=null,this._redirectPersistence=Ws,this._completeRedirectFn=zp,this._overrideRedirectResult=__}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,s)}async _openRedirect(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return M2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return C8(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await I8();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){return t.unwrap()}function R8(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){return F2(t)}function x8(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new D8(t,EU(t,e))}else if(r){const s=F2(e),a=e;s&&(a.credential=s,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function F2(t){const{_tokenResponse:e}=t instanceof Un?t.customData:t;if(!e)return null;if(!(t instanceof Un)&&"temporaryProof"in e&&"phoneNumber"in e)return Wo.credentialFromResult(t);const n=e.providerId;if(!n||n===tc.PASSWORD)return null;let r;switch(n){case tc.GOOGLE:r=pr;break;case tc.FACEBOOK:r=fr;break;case tc.GITHUB:r=mr;break;case tc.TWITTER:r=gr;break;default:const{oauthIdToken:s,oauthAccessToken:a,oauthTokenSecret:l,pendingToken:c,nonce:f}=e;return!a&&!l&&!s&&!c?null:c?n.startsWith("saml.")?Tl._create(n,c):Cr._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:a}):new cl(n).credential({idToken:s,accessToken:a,rawNonce:f})}return t instanceof Un?r.credentialFromError(t):r.credentialFromResult(t)}function Yn(t,e){return e.catch(n=>{throw n instanceof Un&&x8(t,n),n}).then(n=>{const r=n.operationType,s=n.user;return{operationType:r,credential:k8(n),additionalUserInfo:vU(n),user:Wr.getOrCreate(s)}})}async function Zv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Yn(t,n.confirm(r))}}class D8{constructor(e,n){this.resolver=n,this.auth=R8(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Yn(L2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._delegate=e,this.multiFactor=SU(e)}static getOrCreate(e){return Wr.USER_MAP.has(e)||Wr.USER_MAP.set(e,new Wr(e)),Wr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Yn(this.auth,OC(this._delegate,e))}async linkWithPhoneNumber(e,n){return Zv(this.auth,t3(this._delegate,e,n))}async linkWithPopup(e){return Yn(this.auth,c3(this._delegate,e,Ds))}async linkWithRedirect(e){return await Qv(Ct(this.auth)),_3(this._delegate,e,Ds)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Yn(this.auth,MC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Zv(this.auth,n3(this._delegate,e,n))}reauthenticateWithPopup(e){return Yn(this.auth,u3(this._delegate,e,Ds))}async reauthenticateWithRedirect(e){return await Qv(Ct(this.auth)),v3(this._delegate,e,Ds)}sendEmailVerification(e){return oU(this._delegate,e)}async unlink(e){return await q4(this._delegate,e),this}updateEmail(e){return cU(this._delegate,e)}updatePassword(e){return hU(this._delegate,e)}updatePhoneNumber(e){return i3(this._delegate,e)}updateProfile(e){return uU(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return aU(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=ne;class ey{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rc(r,"invalid-api-key",{appName:e.name}),rc(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Ds:void 0;this._delegate=n.initialize({options:{persistence:O8(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(UF),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){AC(this._delegate,e,n)}applyActionCode(e){return J4(this._delegate,e)}checkActionCode(e){return NC(this._delegate,e)}confirmPasswordReset(e,n){return X4(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Yn(this._delegate,Z4(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return sU(this._delegate,e)}isSignInWithEmailLink(e){return nU(this._delegate,e)}async getRedirectResult(){rc(Zg(),this._delegate,"operation-not-supported-in-this-environment");const e=await b3(this._delegate,Ds);return e?Yn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){m8(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:s,error:a,complete:l}=K1(e,n,r);return this._delegate.onAuthStateChanged(s,a,l)}onIdTokenChanged(e,n,r){const{next:s,error:a,complete:l}=K1(e,n,r);return this._delegate.onIdTokenChanged(s,a,l)}sendSignInLinkToEmail(e,n){return tU(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Y4(this._delegate,e,n||void 0)}async setPersistence(e){S8(this._delegate,e);let n;switch(e){case hi.SESSION:n=Ws;break;case hi.LOCAL:n=await gi(Il)._isAvailable()?Il:Wp;break;case hi.NONE:n=El;break;default:return hn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Yn(this._delegate,K4(this._delegate))}signInWithCredential(e){return Yn(this._delegate,$p(this._delegate,e))}signInWithCustomToken(e){return Yn(this._delegate,z4(this._delegate,e))}signInWithEmailAndPassword(e,n){return Yn(this._delegate,eU(this._delegate,e,n))}signInWithEmailLink(e,n){return Yn(this._delegate,iU(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Zv(this._delegate,e3(this._delegate,e,n))}async signInWithPopup(e){return rc(Zg(),this._delegate,"operation-not-supported-in-this-environment"),Yn(this._delegate,l3(this._delegate,e,Ds))}async signInWithRedirect(e){return rc(Zg(),this._delegate,"operation-not-supported-in-this-environment"),await Qv(this._delegate),m3(this._delegate,e,Ds)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Q4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ey.Persistence=hi;function K1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const s=r;return{next:l=>s(l&&Wr.getOrCreate(l)),error:e,complete:n}}function O8(t,e){const n=P8(t,e);if(typeof self<"u"&&!n.includes(Il)&&n.push(Il),typeof window<"u")for(const r of[Wp,Ws])n.includes(r)||n.push(r);return n.includes(El)||n.push(El),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.providerId="phone",this._delegate=new Wo(L2(me.auth()))}static credential(e,n){return Wo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}X_.PHONE_SIGN_IN_METHOD=Wo.PHONE_SIGN_IN_METHOD;X_.PROVIDER_ID=Wo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=ne;class N8{constructor(e,n,r=me.app()){var s;M8((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new QU(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="auth-compat";function L8(t){t.INTERNAL.registerComponent(new Xr(V8,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new ey(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ka.EMAIL_SIGNIN,PASSWORD_RESET:Ka.PASSWORD_RESET,RECOVER_EMAIL:Ka.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ka.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ka.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ka.VERIFY_EMAIL}},EmailAuthProvider:zs,FacebookAuthProvider:fr,GithubAuthProvider:mr,GoogleAuthProvider:pr,OAuthProvider:cl,SAMLAuthProvider:Zf,PhoneAuthProvider:X_,PhoneMultiFactorGenerator:ZC,RecaptchaVerifier:N8,TwitterAuthProvider:gr,Auth:ey,AuthCredential:Dl,Error:Un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(g8,v8)}L8(me);function F8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ev={exports:{}},q1;function U8(){return q1||(q1=1,function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(S,D){D=D||{};var F=document.createEvent("CustomEvent");return F.initCustomEvent(S,!!D.bubbles,!!D.cancelable,D.detail||null),F},e.prototype=window.Event.prototype);function n(T){for(;T&&T!==document.body;){var S=window.getComputedStyle(T),D=function(F,B){return!(S[F]===void 0||S[F]===B)};if(S.opacity<1||D("zIndex","auto")||D("transform","none")||D("mixBlendMode","normal")||D("filter","none")||D("perspective","none")||S.isolation==="isolate"||S.position==="fixed"||S.webkitOverflowScrolling==="touch")return!0;T=T.parentElement}return!1}function r(T){for(;T;){if(T.localName==="dialog")return T;T=T.parentElement}return null}function s(T){T&&T.blur&&T!==document.body&&T.blur()}function a(T,S){for(var D=0;D<T.length;++D)if(T[D]===S)return!0;return!1}function l(T){return!T||!T.hasAttribute("method")?!1:T.getAttribute("method").toLowerCase()==="dialog"}function c(T){if(this.dialog_=T,this.replacedStyleTop_=!1,this.openAsModal_=!1,T.hasAttribute("role")||T.setAttribute("role","dialog"),T.show=this.show.bind(this),T.showModal=this.showModal.bind(this),T.close=this.close.bind(this),"returnValue"in T||(T.returnValue=""),"MutationObserver"in window){var S=new MutationObserver(this.maybeHideModal.bind(this));S.observe(T,{attributes:!0,attributeFilter:["open"]})}else{var D=!1,F=(function(){D?this.downgradeModal():this.maybeHideModal(),D=!1}).bind(this),B,K=function(q){if(q.target===T){var ie="DOMNodeRemoved";D|=q.type.substr(0,ie.length)===ie,window.clearTimeout(B),B=window.setTimeout(F,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(q){T.addEventListener(q,K)})}Object.defineProperty(T,"open",{set:this.setOpen.bind(this),get:T.hasAttribute.bind(T,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),f.dm.removeDialog(this))},setOpen:function(T){T?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(T){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var S=document.createElement("div");this.dialog_.insertBefore(S,this.dialog_.firstChild),S.tabIndex=-1,S.focus(),this.dialog_.removeChild(S)}var D=document.createEvent("MouseEvents");D.initMouseEvent(T.type,T.bubbles,T.cancelable,window,T.detail,T.screenX,T.screenY,T.clientX,T.clientY,T.ctrlKey,T.altKey,T.shiftKey,T.metaKey,T.button,T.relatedTarget),this.dialog_.dispatchEvent(D),T.stopPropagation()},focus_:function(){var T=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!T&&this.dialog_.tabIndex>=0&&(T=this.dialog_),!T){var S=["button","input","keygen","select","textarea"],D=S.map(function(F){return F+":not([disabled])"});D.push('[tabindex]:not([disabled]):not([tabindex=""])'),T=this.dialog_.querySelector(D.join(", "))}s(document.activeElement),T&&T.focus()},updateZIndex:function(T,S){if(T<S)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=T,this.backdrop_.style.zIndex=S},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!f.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,f.needsCentering(this.dialog_)?(f.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(T){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),T!==void 0&&(this.dialog_.returnValue=T);var S=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(S)}};var f={};if(f.reposition=function(T){var S=document.body.scrollTop||document.documentElement.scrollTop,D=S+(window.innerHeight-T.offsetHeight)/2;T.style.top=Math.max(S,D)+"px"},f.isInlinePositionSetByStylesheet=function(T){for(var S=0;S<document.styleSheets.length;++S){var D=document.styleSheets[S],F=null;try{F=D.cssRules}catch{}if(F)for(var B=0;B<F.length;++B){var K=F[B],q=null;try{q=document.querySelectorAll(K.selectorText)}catch{}if(!(!q||!a(q,T))){var ie=K.style.getPropertyValue("top"),V=K.style.getPropertyValue("bottom");if(ie&&ie!=="auto"||V&&V!=="auto")return!0}}}return!1},f.needsCentering=function(T){var S=window.getComputedStyle(T);return S.position!=="absolute"||T.style.top!=="auto"&&T.style.top!==""||T.style.bottom!=="auto"&&T.style.bottom!==""?!1:!f.isInlinePositionSetByStylesheet(T)},f.forceRegisterDialog=function(T){if((window.HTMLDialogElement||T.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",T),T.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(T)},f.registerDialog=function(T){T.showModal||f.forceRegisterDialog(T)},f.DialogManager=function(){this.pendingDialogStack=[];var T=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(S){this.forwardTab_=void 0,S.stopPropagation(),T([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(S){var D=[];S.forEach(function(F){for(var B=0,K;K=F.removedNodes[B];++B){if(K instanceof Element)K.localName==="dialog"&&D.push(K);else continue;D=D.concat(K.querySelectorAll("dialog"))}}),D.length&&T(D)}))},f.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},f.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},f.DialogManager.prototype.updateStacking=function(){for(var T=this.zIndexHigh_,S=0,D;D=this.pendingDialogStack[S];++S)D.updateZIndex(--T,--T),S===0&&(this.overlay.style.zIndex=--T);var F=this.pendingDialogStack[0];if(F){var B=F.dialog.parentNode||document.body;B.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},f.DialogManager.prototype.containedByTopDialog_=function(T){for(;T=r(T);){for(var S=0,D;D=this.pendingDialogStack[S];++S)if(D.dialog===T)return S===0;T=T.parentElement}return!1},f.DialogManager.prototype.handleFocus_=function(T){if(!this.containedByTopDialog_(T.target)&&(T.preventDefault(),T.stopPropagation(),s(T.target),this.forwardTab_!==void 0)){var S=this.pendingDialogStack[0],D=S.dialog,F=D.compareDocumentPosition(T.target);return F&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?S.focus_():document.documentElement.focus()),!1}},f.DialogManager.prototype.handleKey_=function(T){if(this.forwardTab_=void 0,T.keyCode===27){T.preventDefault(),T.stopPropagation();var S=new e("cancel",{bubbles:!1,cancelable:!0}),D=this.pendingDialogStack[0];D&&D.dialog.dispatchEvent(S)&&D.dialog.close()}else T.keyCode===9&&(this.forwardTab_=!T.shiftKey)},f.DialogManager.prototype.checkDOM_=function(T){var S=this.pendingDialogStack.slice();S.forEach(function(D){T.indexOf(D.dialog)!==-1?D.downgradeModal():D.maybeHideModal()})},f.DialogManager.prototype.pushDialog=function(T){var S=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=S?!1:(this.pendingDialogStack.unshift(T)===1&&this.blockDocument(),this.updateStacking(),!0)},f.DialogManager.prototype.removeDialog=function(T){var S=this.pendingDialogStack.indexOf(T);S!==-1&&(this.pendingDialogStack.splice(S,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},f.dm=new f.DialogManager,f.formSubmitter=null,f.useValue=null,window.HTMLDialogElement===void 0){var p=document.createElement("form");if(p.setAttribute("method","dialog"),p.method!=="dialog"){var g=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(g){var _=g.get;g.get=function(){return l(this)?"dialog":_.call(this)};var b=g.set;g.set=function(T){return typeof T=="string"&&T.toLowerCase()==="dialog"?this.setAttribute("method",T):b.call(this,T)},Object.defineProperty(HTMLFormElement.prototype,"method",g)}}document.addEventListener("click",function(T){if(f.formSubmitter=null,f.useValue=null,!T.defaultPrevented){var S=T.target;if(!(!S||!l(S.form))){var D=S.type==="submit"&&["button","input"].indexOf(S.localName)>-1;if(!D){if(!(S.localName==="input"&&S.type==="image"))return;f.useValue=T.offsetX+","+T.offsetY}var F=r(S);F&&(f.formSubmitter=S)}}},!1);var I=HTMLFormElement.prototype.submit,N=function(){if(!l(this))return I.call(this);var T=r(this);T&&T.close()};HTMLFormElement.prototype.submit=N,document.addEventListener("submit",function(T){var S=T.target;if(l(S)){T.preventDefault();var D=r(S);if(D){var F=f.formSubmitter;F&&F.form===S?D.close(f.useValue||F.value):D.close(),f.formSubmitter=null}}},!0)}f.forceRegisterDialog=f.forceRegisterDialog,f.registerDialog=f.registerDialog,typeof t.exports=="object"?t.exports=f:window.dialogPolyfill=f})()}(ev)),ev.exports}var j8=U8();const B8=F8(j8);var G1={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z1;function $8(){if(z1)return G1;z1=1;var t={upgradeDom:function(e,n){},upgradeElement:function(e,n){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,n){},register:function(e){},downgradeElements:function(e){}};return t=function(){var e=[],n=[],r="mdlComponentConfigInternal_";function s(S,D){for(var F=0;F<e.length;F++)if(e[F].className===S)return typeof D<"u"&&(e[F]=D),e[F];return!1}function a(S){var D=S.getAttribute("data-upgraded");return D===null?[""]:D.split(",")}function l(S,D){var F=a(S);return F.indexOf(D)!==-1}function c(S,D,F){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(S,{bubbles:D,cancelable:F});var B=document.createEvent("Events");return B.initEvent(S,D,F),B}function f(S,D){if(typeof S>"u"&&typeof D>"u")for(var F=0;F<e.length;F++)f(e[F].className,e[F].cssClass);else{var B=S;if(typeof D>"u"){var K=s(B);K&&(D=K.cssClass)}for(var q=document.querySelectorAll("."+D),ie=0;ie<q.length;ie++)p(q[ie],B)}}function p(S,D){if(!(typeof S=="object"&&S instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var F=c("mdl-componentupgrading",!0,!0);if(S.dispatchEvent(F),!F.defaultPrevented){var B=a(S),K=[];if(D)l(S,D)||K.push(s(D));else{var q=S.classList;e.forEach(function(R){q.contains(R.cssClass)&&K.indexOf(R)===-1&&!l(S,R.className)&&K.push(R)})}for(var ie=0,V=K.length,P;ie<V;ie++){if(P=K[ie],P){B.push(P.className),S.setAttribute("data-upgraded",B.join(","));var C=new P.classConstructor(S);C[r]=P,n.push(C);for(var O=0,M=P.callbacks.length;O<M;O++)P.callbacks[O](S);P.widget&&(S[P.className]=C)}else throw new Error("Unable to find a registered component for the given class.");var U=c("mdl-componentupgraded",!0,!1);S.dispatchEvent(U)}}}function g(S){Array.isArray(S)||(S instanceof Element?S=[S]:S=Array.prototype.slice.call(S));for(var D=0,F=S.length,B;D<F;D++)B=S[D],B instanceof HTMLElement&&(p(B),B.children.length>0&&g(B.children))}function _(S){var D=typeof S.widget>"u"&&typeof S.widget>"u",F=!0;D||(F=S.widget||S.widget);var B={classConstructor:S.constructor||S.constructor,className:S.classAsString||S.classAsString,cssClass:S.cssClass||S.cssClass,widget:F,callbacks:[]};if(e.forEach(function(q){if(q.cssClass===B.cssClass)throw new Error("The provided cssClass has already been registered: "+q.cssClass);if(q.className===B.className)throw new Error("The provided className has already been registered")}),S.constructor.prototype.hasOwnProperty(r))throw new Error("MDL component classes must not have "+r+" defined as a property.");var K=s(S.classAsString,B);K||e.push(B)}function b(S,D){var F=s(S);F&&F.callbacks.push(D)}function I(){for(var S=0;S<e.length;S++)f(e[S].className)}function N(S){if(S){var D=n.indexOf(S);n.splice(D,1);var F=S.element_.getAttribute("data-upgraded").split(","),B=F.indexOf(S[r].classAsString);F.splice(B,1),S.element_.setAttribute("data-upgraded",F.join(","));var K=c("mdl-componentdowngraded",!0,!1);S.element_.dispatchEvent(K)}}function T(S){var D=function(B){n.filter(function(K){return K.element_===B}).forEach(N)};if(S instanceof Array||S instanceof NodeList)for(var F=0;F<S.length;F++)D(S[F]);else if(S instanceof Node)D(S);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:f,upgradeElement:p,upgradeElements:g,upgradeAllRegistered:I,registerUpgradedCallback:b,register:_,downgradeElements:T}}(),t.ComponentConfigPublic,t.ComponentConfig,t.Component,t.upgradeDom=t.upgradeDom,t.upgradeElement=t.upgradeElement,t.upgradeElements=t.upgradeElements,t.upgradeAllRegistered=t.upgradeAllRegistered,t.registerUpgradedCallback=t.registerUpgradedCallback,t.register=t.register,t.downgradeElements=t.downgradeElements,window.componentHandler=t,window.componentHandler=t,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):(t.upgradeElement=function(){},t.register=function(){})}),G1}$8();var Y1={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X1;function H8(){return X1||(X1=1,function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()),Y1}H8();var J1={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q1;function W8(){return Q1||(Q1=1,function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()),J1}W8();var Z1={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eA;function K8(){return eA||(eA=1,function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),a.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[r,s,a],c=0;c<l.length;c++){var f=document.createElement("div");f.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(f)}n.appendChild(r),n.appendChild(s),n.appendChild(a),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()),Z1}K8();var tA={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nA;function q8(){return nA||(nA=1,function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()),tA}q8();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(i){function o(){}return o.prototype=i,new o},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var r;e:{var s={xb:!0},a={};try{a.__proto__=s,r=a.xb;break e}catch{}r=!1}n=r?function(i,o){if(i.__proto__=o,i.__proto__!==o)throw new TypeError(i+" is not extensible");return i}:null}var l=n;function c(i,o){if(i.prototype=e(o.prototype),i.prototype.constructor=i,l)l(i,o);else for(var u in o)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(i,u,d)}else i[u]=o[u];i.K=o.prototype}var f=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,u){i!=Array.prototype&&i!=Object.prototype&&(i[o]=u.value)},p=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function g(i,o){if(o){var u=p;i=i.split(".");for(var d=0;d<i.length-1;d++){var m=i[d];m in u||(u[m]={}),u=u[m]}i=i[i.length-1],d=u[i],o=o(d),o!=d&&o!=null&&f(u,i,{configurable:!0,writable:!0,value:o})}}g("Object.is",function(i){return i||function(o,u){return o===u?o!==0||1/o===1/u:o!==o&&u!==u}}),g("Array.prototype.includes",function(i){return i||function(o,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var v=d[u];if(v===o||Object.is(v,o))return!0}return!1}});var _=this;function b(i){return i!==void 0}function I(i){return typeof i=="string"}var N=/^[\w+/_-]+[=]{0,2}$/,T=null;function S(){}function D(i){i.W=void 0,i.Xa=function(){return i.W?i.W:i.W=new i}}function F(i){var o=typeof i;if(o=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return o;var u=Object.prototype.toString.call(i);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(o=="function"&&typeof i.call>"u")return"object";return o}function B(i){return F(i)=="array"}function K(i){var o=F(i);return o=="array"||o=="object"&&typeof i.length=="number"}function q(i){return F(i)=="function"}function ie(i){var o=typeof i;return o=="object"&&i!=null||o=="function"}function V(i,o,u){return i.call.apply(i.bind,arguments)}function P(i,o,u){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),i.apply(o,m)}}return function(){return i.apply(o,arguments)}}function C(i,o,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C=V:C=P,C.apply(null,arguments)}function O(i,o){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function M(i,o){for(var u in o)i[u]=o[u]}var U=Date.now||function(){return+new Date};function R(i,o){i=i.split(".");var u=_;i[0]in u||typeof u.execScript>"u"||u.execScript("var "+i[0]);for(var d;i.length&&(d=i.shift());)!i.length&&b(o)?u[d]=o:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function ge(i,o){function u(){}u.prototype=o.prototype,i.K=o.prototype,i.prototype=new u,i.prototype.constructor=i,i.vc=function(d,m,v){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return o.prototype[m].apply(d,E)}}function yt(i){if(Error.captureStackTrace)Error.captureStackTrace(this,yt);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i))}ge(yt,Error),yt.prototype.name="CustomError";var Et;function De(i,o){i=i.split("%s");for(var u="",d=i.length-1,m=0;m<d;m++)u+=i[m]+(m<o.length?o[m]:"%s");yt.call(this,u+i[d])}ge(De,yt),De.prototype.name="AssertionError";function _e(i,o){throw new De("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}var dn=Array.prototype.indexOf?function(i,o){return Array.prototype.indexOf.call(i,o,void 0)}:function(i,o){if(I(i))return I(o)&&o.length==1?i.indexOf(o,0):-1;for(var u=0;u<i.length;u++)if(u in i&&i[u]===o)return u;return-1},En=Array.prototype.forEach?function(i,o,u){Array.prototype.forEach.call(i,o,u)}:function(i,o,u){for(var d=i.length,m=I(i)?i.split(""):i,v=0;v<d;v++)v in m&&o.call(u,m[v],v,i)};function jn(i,o){for(var u=I(i)?i.split(""):i,d=i.length-1;0<=d;--d)d in u&&o.call(void 0,u[d],d,i)}var ht=Array.prototype.filter?function(i,o){return Array.prototype.filter.call(i,o,void 0)}:function(i,o){for(var u=i.length,d=[],m=0,v=I(i)?i.split(""):i,E=0;E<u;E++)if(E in v){var k=v[E];o.call(void 0,k,E,i)&&(d[m++]=k)}return d},dt=Array.prototype.map?function(i,o){return Array.prototype.map.call(i,o,void 0)}:function(i,o){for(var u=i.length,d=Array(u),m=I(i)?i.split(""):i,v=0;v<u;v++)v in m&&(d[v]=o.call(void 0,m[v],v,i));return d},us=Array.prototype.some?function(i,o){return Array.prototype.some.call(i,o,void 0)}:function(i,o){for(var u=i.length,d=I(i)?i.split(""):i,m=0;m<u;m++)if(m in d&&o.call(void 0,d[m],m,i))return!0;return!1};function ot(i,o){return 0<=dn(i,o)}function Dn(i,o){o=dn(i,o);var u;return(u=0<=o)&&qt(i,o),u}function qt(i,o){return Array.prototype.splice.call(i,o,1).length==1}function ei(i,o){e:{for(var u=i.length,d=I(i)?i.split(""):i,m=0;m<u;m++)if(m in d&&o.call(void 0,d[m],m,i)){o=m;break e}o=-1}0<=o&&qt(i,o)}function vi(i,o){var u=0;jn(i,function(d,m){o.call(void 0,d,m,i)&&qt(i,m)&&u++})}function ti(i){return Array.prototype.concat.apply([],arguments)}function cs(i){var o=i.length;if(0<o){for(var u=Array(o),d=0;d<o;d++)u[d]=i[d];return u}return[]}function x(i,o,u){return 2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,u)}var L=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},W=/&/g,ee=/</g,Y=/>/g,J=/"/g,le=/'/g,oe=/\x00/g,re=/[\x00&<>"']/;function Q(i,o){return i<o?-1:i>o?1:0}function fe(i){return re.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(W,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(ee,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(Y,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(J,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(le,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(oe,"&#0;"))),i}function ae(i,o,u){for(var d in i)o.call(u,i[d],d,i)}function he(i){var o={},u;for(u in i)o[u]=i[u];return o}var be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(i,o){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)i[u]=d[u];for(var v=0;v<be.length;v++)u=be[v],Object.prototype.hasOwnProperty.call(d,u)&&(i[u]=d[u])}}var Ie="StopIteration"in _?_.StopIteration:{message:"StopIteration",stack:""};function Oe(){}Oe.prototype.next=function(){throw Ie},Oe.prototype.ha=function(){return this};function Gt(i){if(i instanceof Oe)return i;if(typeof i.ha=="function")return i.ha(!1);if(K(i)){var o=0,u=new Oe;return u.next=function(){for(;;){if(o>=i.length)throw Ie;if(o in i)return i[o++];o++}},u}throw Error("Not implemented")}function zt(i,o){if(K(i))try{En(i,o,void 0)}catch(u){if(u!==Ie)throw u}else{i=Gt(i);try{for(;;)o.call(void 0,i.next(),void 0,i)}catch(u){if(u!==Ie)throw u}}}function Bn(i){if(K(i))return cs(i);i=Gt(i);var o=[];return zt(i,function(u){o.push(u)}),o}function xt(i,o){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof xt)for(u=i.ja(),d=0;d<u.length;d++)this.set(u[d],i.get(u[d]));else for(d in i)this.set(d,i[d])}t=xt.prototype,t.la=function(){ni(this);for(var i=[],o=0;o<this.a.length;o++)i.push(this.g[this.a[o]]);return i},t.ja=function(){return ni(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function ni(i){if(i.h!=i.a.length){for(var o=0,u=0;o<i.a.length;){var d=i.a[o];ii(i.g,d)&&(i.a[u++]=d),o++}i.a.length=u}if(i.h!=i.a.length){var m={};for(u=o=0;o<i.a.length;)d=i.a[o],ii(m,d)||(i.a[u++]=d,m[d]=1),o++;i.a.length=u}}t.get=function(i,o){return ii(this.g,i)?this.g[i]:o},t.set=function(i,o){ii(this.g,i)||(this.h++,this.a.push(i),this.j++),this.g[i]=o},t.forEach=function(i,o){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],v=this.get(m);i.call(o,v,m,this)}},t.ha=function(i){ni(this);var o=0,u=this.j,d=this,m=new Oe;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(o>=d.a.length)throw Ie;var v=d.a[o++];return i?v:d.g[v]},m};function ii(i,o){return Object.prototype.hasOwnProperty.call(i,o)}var Yt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $n(i,o){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var d=i[u].indexOf("="),m=null;if(0<=d){var v=i[u].substring(0,d);m=i[u].substring(d+1)}else v=i[u];o(v,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Ys(i,o,u,d){for(var m=u.length;0<=(o=i.indexOf(u,o))&&o<d;){var v=i.charCodeAt(o-1);if((v==38||v==63)&&(v=i.charCodeAt(o+m),!v||v==61||v==38||v==35))return o;o+=m+1}return-1}var Qo=/#|$/;function Xs(i,o){var u=i.search(Qo),d=Ys(i,0,o,u);if(0>d)return null;var m=i.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=o.length+1,decodeURIComponent(i.substr(d,m-d).replace(/\+/g," "))}var xh=/[?&]($|#)/;function Hn(i,o){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;i instanceof Hn?(this.i=b(o)?o:i.i,Js(this,i.j),this.A=i.A,this.h=i.h,Qs(this,i.C),this.g=i.g,Ri(this,Mh(i.a)),this.s=i.s):i&&(u=String(i).match(Yt))?(this.i=!!o,Js(this,u[1]||"",!0),this.A=Ki(u[2]||""),this.h=Ki(u[3]||"",!0),Qs(this,u[4]),this.g=Ki(u[5]||"",!0),Ri(this,u[6]||"",!0),this.s=Ki(u[7]||"")):(this.i=!!o,this.a=new no(null,this.i))}Hn.prototype.toString=function(){var i=[],o=this.j;o&&i.push(hs(o,Ll,!0),":");var u=this.h;return(u||o=="file")&&(i.push("//"),(o=this.A)&&i.push(hs(o,Ll,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&i.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&i.push("/"),i.push(hs(u,u.charAt(0)=="/"?Dh:fn,!0))),(u=this.a.toString())&&i.push("?",u),(u=this.s)&&i.push("#",hs(u,to)),i.join("")};function Js(i,o,u){i.j=u?Ki(o,!0):o,i.j&&(i.j=i.j.replace(/:$/,""))}function Qs(i,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);i.C=o}else i.C=null}function Ri(i,o,u){o instanceof no?(i.a=o,Nh(i.a,i.i)):(u||(o=hs(o,eo)),i.a=new no(o,i.i))}function Zo(i){return i instanceof Hn?new Hn(i):new Hn(i,void 0)}function Ki(i,o){return i?o?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function hs(i,o,u){return I(i)?(i=encodeURI(i).replace(o,Zs),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Zs(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Ll=/[#\/\?@]/g,fn=/[#\?:]/g,Dh=/[#\?]/g,eo=/[#\?@]/g,to=/#/g;function no(i,o){this.g=this.a=null,this.h=i||null,this.j=!!o}function qi(i){i.a||(i.a=new xt,i.g=0,i.h&&$n(i.h,function(o,u){i.add(decodeURIComponent(o.replace(/\+/g," ")),u)}))}t=no.prototype,t.add=function(i,o){qi(this),this.h=null,i=ki(this,i);var u=this.a.get(i);return u||this.a.set(i,u=[]),u.push(o),this.g+=1,this};function Wn(i,o){qi(i),o=ki(i,o),ii(i.a.g,o)&&(i.h=null,i.g-=i.a.get(o).length,i=i.a,ii(i.g,o)&&(delete i.g[o],i.h--,i.j++,i.a.length>2*i.h&&ni(i)))}t.clear=function(){this.a=this.h=null,this.g=0};function Oh(i,o){return qi(i),o=ki(i,o),ii(i.a.g,o)}t.forEach=function(i,o){qi(this),this.a.forEach(function(u,d){En(u,function(m){i.call(o,m,d,this)},this)},this)},t.ja=function(){qi(this);for(var i=this.a.la(),o=this.a.ja(),u=[],d=0;d<o.length;d++)for(var m=i[d],v=0;v<m.length;v++)u.push(o[d]);return u},t.la=function(i){qi(this);var o=[];if(I(i))Oh(this,i)&&(o=ti(o,this.a.get(ki(this,i))));else{i=this.a.la();for(var u=0;u<i.length;u++)o=ti(o,i[u])}return o},t.set=function(i,o){return qi(this),this.h=null,i=ki(this,i),Oh(this,i)&&(this.g-=this.a.get(i).length),this.a.set(i,[o]),this.g+=1,this},t.get=function(i,o){return i?(i=this.la(i),0<i.length?String(i[0]):o):o},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var i=[],o=this.a.ja(),u=0;u<o.length;u++){var d=o[u],m=encodeURIComponent(String(d));d=this.la(d);for(var v=0;v<d.length;v++){var E=m;d[v]!==""&&(E+="="+encodeURIComponent(String(d[v]))),i.push(E)}}return this.h=i.join("&")};function Mh(i){var o=new no;return o.h=i.h,i.a&&(o.a=new xt(i.a),o.g=i.g),o}function ki(i,o){return o=String(o),i.j&&(o=o.toLowerCase()),o}function Nh(i,o){o&&!i.j&&(qi(i),i.h=null,i.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(Wn(this,d),Wn(this,m),0<u.length&&(this.h=null,this.a.set(ki(this,m),cs(u)),this.g+=u.length))},i)),i.j=o}function xi(i){this.a=Zo(i)}function ea(i,o){o?i.a.a.set(ft.Sa,o):Wn(i.a.a,ft.Sa)}function Gi(i,o){o!==null?i.a.a.set(ft.Qa,o?"1":"0"):Wn(i.a.a,ft.Qa)}function Fl(i){return i.a.a.get(ft.Pa)||null}function Ul(i,o){o?i.a.a.set(ft.PROVIDER_ID,o):Wn(i.a.a,ft.PROVIDER_ID)}xi.prototype.toString=function(){return this.a.toString()};var ft={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},zi;e:{var jl=_.navigator;if(jl){var Bl=jl.userAgent;if(Bl){zi=Bl;break e}}zi=""}function Fe(i){return zi.indexOf(i)!=-1}function io(){return(Fe("Chrome")||Fe("CriOS"))&&!Fe("Edge")}function ta(i){return ta[" "](i),i}ta[" "]=S;function $l(i,o){var u=Lh;return Object.prototype.hasOwnProperty.call(u,i)?u[i]:u[i]=o(i)}var ds=Fe("Opera"),Ye=Fe("Trident")||Fe("MSIE"),yi=Fe("Edge"),Xp=yi||Ye,Kn=Fe("Gecko")&&!(zi.toLowerCase().indexOf("webkit")!=-1&&!Fe("Edge"))&&!(Fe("Trident")||Fe("MSIE"))&&!Fe("Edge"),nn=zi.toLowerCase().indexOf("webkit")!=-1&&!Fe("Edge"),Vh=nn&&Fe("Mobile"),_i=Fe("Macintosh");function na(){var i=_.document;return i?i.documentMode:void 0}var ro;e:{var ia="",Hl=function(){var i=zi;if(Kn)return/rv:([^\);]+)(\)|;)/.exec(i);if(yi)return/Edge\/([\d\.]+)/.exec(i);if(Ye)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(nn)return/WebKit\/(\S+)/.exec(i);if(ds)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Hl&&(ia=Hl?Hl[1]:""),Ye){var Wl=na();if(Wl!=null&&Wl>parseFloat(ia)){ro=String(Wl);break e}}ro=ia}var Lh={};function Yi(i){return $l(i,function(){for(var o=0,u=L(String(ro)).split("."),d=L(String(i)).split("."),m=Math.max(u.length,d.length),v=0;o==0&&v<m;v++){var E=u[v]||"",k=d[v]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;o=Q(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||Q(E[2].length==0,k[2].length==0)||Q(E[2],k[2]),E=E[3],k=k[3]}while(o==0)}return 0<=o})}var so,Xi=_.document;so=Xi&&Ye?na()||(Xi.compatMode=="CSS1Compat"?parseInt(ro,10):5):void 0;function Tn(i,o){this.a=i===ao&&o||"",this.g=oo}Tn.prototype.ma=!0,Tn.prototype.ka=function(){return this.a},Tn.prototype.toString=function(){return"Const{"+this.a+"}"};var oo={},ao={};function Ji(){this.a="",this.h=fs}Ji.prototype.ma=!0,Ji.prototype.ka=function(){return this.a.toString()},Ji.prototype.g=function(){return 1},Ji.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function it(i){return i instanceof Ji&&i.constructor===Ji&&i.h===fs?i.a:(_e("expected object of type TrustedResourceUrl, got '"+i+"' of type "+F(i)),"type_error:TrustedResourceUrl")}function ra(){var i=sk;i instanceof Tn&&i.constructor===Tn&&i.g===oo?i=i.a:(_e("expected object of type Const, got '"+i+"'"),i="type_error:Const");var o=new Ji;return o.a=i,o}var fs={};function Xt(){this.a="",this.h=Uh}Xt.prototype.ma=!0,Xt.prototype.ka=function(){return this.a.toString()},Xt.prototype.g=function(){return 1},Xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Qi(i){return i instanceof Xt&&i.constructor===Xt&&i.h===Uh?i.a:(_e("expected object of type SafeUrl, got '"+i+"' of type "+F(i)),"type_error:SafeUrl")}var Kl=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function sa(i){return i instanceof Xt?i:(i=typeof i=="object"&&i.ma?i.ka():String(i),Kl.test(i)||(i="about:invalid#zClosurez"),ql(i))}function Fh(i){return i instanceof Xt?i:(i=typeof i=="object"&&i.ma?i.ka():String(i),Kl.test(i)||(i="about:invalid#zClosurez"),ql(i))}var Uh={};function ql(i){var o=new Xt;return o.a=i,o}ql("about:blank");function wi(){this.a="",this.g=Di}wi.prototype.ma=!0;var Di={};wi.prototype.ka=function(){return this.a},wi.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Oi(){this.a="",this.j=Gl,this.h=null}Oi.prototype.g=function(){return this.h},Oi.prototype.ma=!0,Oi.prototype.ka=function(){return this.a.toString()},Oi.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function lo(i){return i instanceof Oi&&i.constructor===Oi&&i.j===Gl?i.a:(_e("expected object of type SafeHtml, got '"+i+"' of type "+F(i)),"type_error:SafeHtml")}var Gl={};function bi(i,o){var u=new Oi;return u.a=i,u.h=o,u}bi("<!DOCTYPE html>",0);var Jp=bi("",0);bi("<br>",0);var Qp=function(i){var o=!1,u;return function(){return o||(u=i(),o=!0),u}}(function(){if(typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),i.firstChild?(o=i.firstChild.firstChild,i.innerHTML=lo(Jp),!o.parentElement):!1});function Zp(i,o){if(i.src=it(o),T===null)e:{if(o=_.document,(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&N.test(o)){T=o;break e}T=""}o=T,o&&i.setAttribute("nonce",o)}function On(i,o){o=o instanceof Xt?o:Fh(o),i.assign(Qi(o))}function Zi(i,o){this.a=b(i)?i:0,this.g=b(o)?o:0}Zi.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Zi.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Zi.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Zi.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function zl(i,o){this.width=i,this.height=o}t=zl.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Rr(i){return i?new aa(co(i)):Et||(Et=new aa)}function ps(i,o){var u=o||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+i):ms(document,i,o)}function oa(i,o){var u=o||document;if(u.getElementsByClassName)i=u.getElementsByClassName(i)[0];else{u=document;var d=o||u;i=d.querySelectorAll&&d.querySelector&&i?d.querySelector(i?"."+i:""):ms(u,i,o)[0]||null}return i||null}function ms(i,o,u){var d;if(i=u||i,i.querySelectorAll&&i.querySelector&&o)return i.querySelectorAll(o?"."+o:"");if(o&&i.getElementsByClassName){var m=i.getElementsByClassName(o);return m}if(m=i.getElementsByTagName("*"),o){var v={};for(u=d=0;i=m[u];u++){var E=i.className;typeof E.split=="function"&&ot(E.split(/\s+/),o)&&(v[d++]=i)}return v.length=d,v}return m}function uo(i,o){ae(o,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?i.style.cssText=u:d=="class"?i.className=u:d=="for"?i.htmlFor=u:Yl.hasOwnProperty(d)?i.setAttribute(Yl[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,u):i[d]=u})}var Yl={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gs(i){return i.scrollingElement?i.scrollingElement:(nn||i.compatMode!="CSS1Compat")&&i.body||i.documentElement}function Xe(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function co(i){return i.nodeType==9?i:i.ownerDocument||i.document}function Xl(i,o){if("textContent"in i)i.textContent=o;else if(i.nodeType==3)i.data=String(o);else if(i.firstChild&&i.firstChild.nodeType==3){for(;i.lastChild!=i.firstChild;)i.removeChild(i.lastChild);i.firstChild.data=String(o)}else{for(var u;u=i.firstChild;)i.removeChild(u);i.appendChild(co(i).createTextNode(String(o)))}}function Jl(i,o){return o?jh(i,function(u){return!o||I(u.className)&&ot(u.className.split(/\s+/),o)}):null}function jh(i,o){for(var u=0;i;){if(o(i))return i;i=i.parentNode,u++}return null}function aa(i){this.a=i||_.document||document}aa.prototype.N=function(){return I(void 0)?this.a.getElementById(void 0):void 0};var kr={Fc:!0},Ql={Hc:!0},Mi={},Zl={Gc:!0};function er(){throw Error("Do not instantiate directly")}er.prototype.va=null,er.prototype.toString=function(){return this.content};function Ni(i,o,u,d){if(i=i(o||la,void 0,u),d=(d||Rr()).a.createElement("DIV"),i=Bh(i),i.match(eu),i=bi(i,null),Qp())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=lo(i),d.childNodes.length==1&&(i=d.firstChild,i.nodeType==1&&(d=i)),d}function Bh(i){if(!ie(i))return fe(String(i));if(i instanceof er){if(i.fa===kr)return i.content;if(i.fa===Zl)return fe(i.content)}return _e("Soy template output is unsafe for use as HTML: "+i),"zSoyz"}var eu=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,la={};function $h(i){if(i!=null)switch(i.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function xr(){er.call(this)}ge(xr,er),xr.prototype.fa=kr;function Te(i){return i!=null&&i.fa===kr?i:i instanceof Oi?ue(lo(i).toString(),i.g()):ue(fe(String(String(i))),$h(i))}function ho(){er.call(this)}ge(ho,er),ho.prototype.fa=Ql,ho.prototype.va=1;function tr(i,o){this.content=String(i),this.va=o??null}ge(tr,er),tr.prototype.fa=Zl;function je(i){return new tr(i,void 0)}var ue=function(i){function o(u){this.content=u}return o.prototype=i.prototype,function(u,d){return u=new o(String(u)),d!==void 0&&(u.va=d),u}}(xr),tu=function(i){function o(u){this.content=u}return o.prototype=i.prototype,function(u){return new o(String(u))}}(ho);function nu(i){function o(){}var u={label:ut("New password")};o.prototype=i,i=new o;for(var d in u)i[d]=u[d];return i}function ut(i){return(i=String(i))?new tr(i,void 0):""}var fo=function(i){function o(u){this.content=u}return o.prototype=i.prototype,function(u,d){return u=String(u),u?(u=new o(u),d!==void 0&&(u.va=d),u):""}}(xr);function rn(i){return i!=null&&i.fa===kr?String(String(i.content).replace(vs,"").replace(h,"&lt;")).replace(ca,Wh):fe(String(i))}function nr(i){return i!=null&&i.fa===Ql?i=String(i).replace(pn,ua):i instanceof Xt?i=String(Qi(i).toString()).replace(pn,ua):(i=String(i),Gh.test(i)?i=i.replace(pn,ua):(_e("Bad value `%s` for |filterNormalizeUri",[i]),i="#zSoyz")),i}function ir(i){return i!=null&&i.fa===Mi?i=i.content:i==null?i="":i instanceof wi?i instanceof wi&&i.constructor===wi&&i.g===Di?i=i.a:(_e("expected object of type SafeStyle, got '"+i+"' of type "+F(i)),i="type_error:SafeStyle"):(i=String(i),qh.test(i)||(_e("Bad value `%s` for |filterCssValue",[i]),i="zSoyz")),i}var Hh={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Wh(i){return Hh[i]}var Kh={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function ua(i){return Kh[i]}var ca=/[\x00\x22\x27\x3c\x3e]/g,pn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,qh=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Gh=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,vs=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,h=/</g;function y(){return je("Enter a valid phone number")}function w(){return je("Unable to send password reset code to specified email")}function A(){return je("Something went wrong. Please try again.")}function j(){return je("This email already exists without any means of sign-in. Please reset the password to recover.")}function H(i){i=i||{};var o="";switch(i.code){case"invalid-argument":o+="Client specified an invalid argument.";break;case"invalid-configuration":o+="Client specified an invalid project configuration.";break;case"failed-precondition":o+="Request can not be executed in the current system state.";break;case"out-of-range":o+="Client specified an invalid range.";break;case"unauthenticated":o+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":o+="Client does not have sufficient permission.";break;case"not-found":o+="Specified resource is not found.";break;case"aborted":o+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":o+="The resource that a client tried to create already exists.";break;case"resource-exhausted":o+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":o+="Request cancelled by the client.";break;case"data-loss":o+="Unrecoverable data loss or data corruption.";break;case"unknown":o+="Unknown server error.";break;case"internal":o+="Internal server error.";break;case"not-implemented":o+="API method not implemented by the server.";break;case"unavailable":o+="Service unavailable.";break;case"deadline-exceeded":o+="Request deadline exceeded.";break;case"auth/user-disabled":o+="The user account has been disabled by an administrator.";break;case"auth/timeout":o+="The operation has timed out.";break;case"auth/too-many-requests":o+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":o+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":o+="A network error has occurred. Try again later.";break;case"restart-process":o+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":o+="No sign-in provider is available for the given email, please try with a different email."}return je(o)}function se(){return je("Please login again to perform this operation")}function qe(i,o,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=Jt+i,!(i=o)){switch(i="",this.code){case"firebaseui/merge-conflict":i+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:i+=A()}i=je(i).toString()}this.message=i||"",this.credential=u||null}c(qe,Error),qe.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Jt="firebaseui/";function Ve(){this.T=this.T,this.C=this.C}var sn=0;Ve.prototype.T=!1,Ve.prototype.m=function(){!this.T&&(this.T=!0,this.o(),sn!=0)};function Tt(i,o){i.T?b(void 0)?o.call(void 0):o():(i.C||(i.C=[]),i.C.push(b(void 0)?C(o,void 0):o))}Ve.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ei(i){i&&typeof i.m=="function"&&i.m()}var ri=Object.freeze||function(i){return i},po=!Ye||9<=Number(so),iu=Ye&&!Yi("9"),U2=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var i=!1,o=Object.defineProperty({},"passive",{get:function(){i=!0}});try{_.addEventListener("test",S,o),_.removeEventListener("test",S,o)}catch{}return i}();function Dr(i,o){this.type=i,this.g=this.target=o,this.h=!1,this.qb=!0}Dr.prototype.stopPropagation=function(){this.h=!0},Dr.prototype.preventDefault=function(){this.qb=!1};function Mn(i,o){if(Dr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var u=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=o,o=i.relatedTarget){if(Kn){e:{try{ta(o.nodeName);var m=!0;break e}catch{}m=!1}m||(o=null)}}else u=="mouseover"?o=i.fromElement:u=="mouseout"&&(o=i.toElement);this.relatedTarget=o,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.keyCode=i.keyCode||0,this.key=i.key||"",this.j=i.charCode||(u=="keypress"?i.keyCode:0),this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=I(i.pointerType)?i.pointerType:j2[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}ge(Mn,Dr);var j2=ri({2:"touch",3:"pen",4:"mouse"});Mn.prototype.stopPropagation=function(){Mn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Mn.prototype.preventDefault=function(){Mn.K.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,iu)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}};var ru="closure_listenable_"+(1e6*Math.random()|0),B2=0;function $2(i,o,u,d,m){this.listener=i,this.proxy=null,this.src=o,this.type=u,this.capture=!!d,this.La=m,this.key=++B2,this.sa=this.Ia=!1}function zh(i){i.sa=!0,i.listener=null,i.proxy=null,i.src=null,i.La=null}function Yh(i){this.src=i,this.a={},this.g=0}Yh.prototype.add=function(i,o,u,d,m){var v=i.toString();i=this.a[v],i||(i=this.a[v]=[],this.g++);var E=tm(i,o,d,m);return-1<E?(o=i[E],u||(o.Ia=!1)):(o=new $2(o,this.src,v,!!d,m),o.Ia=u,i.push(o)),o};function em(i,o){var u=o.type;u in i.a&&Dn(i.a[u],o)&&(zh(o),i.a[u].length==0&&(delete i.a[u],i.g--))}function tm(i,o,u,d){for(var m=0;m<i.length;++m){var v=i[m];if(!v.sa&&v.listener==o&&v.capture==!!u&&v.La==d)return m}return-1}var nm="closure_lm_"+(1e6*Math.random()|0),im={};function Vi(i,o,u,d,m){if(d&&d.once)return su(i,o,u,d,m);if(B(o)){for(var v=0;v<o.length;v++)Vi(i,o[v],u,d,m);return null}return u=sm(u),i&&i[ru]?i.J.add(String(o),u,!1,ie(d)?!!d.capture:!!d,m):J_(i,o,u,!1,d,m)}function J_(i,o,u,d,m,v){if(!o)throw Error("Invalid event type");var E=ie(m)?!!m.capture:!!m,k=Xh(i);if(k||(i[nm]=k=new Yh(i)),u=k.add(o,u,d,E,v),u.proxy)return u;if(d=H2(),u.proxy=d,d.src=i,d.listener=u,i.addEventListener)U2||(m=E),m===void 0&&(m=!1),i.addEventListener(o.toString(),d,m);else if(i.attachEvent)i.attachEvent(Q_(o.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function H2(){var i=W2,o=po?function(u){return i.call(o.src,o.listener,u)}:function(u){if(u=i.call(o.src,o.listener,u),!u)return u};return o}function su(i,o,u,d,m){if(B(o)){for(var v=0;v<o.length;v++)su(i,o[v],u,d,m);return null}return u=sm(u),i&&i[ru]?i.J.add(String(o),u,!0,ie(d)?!!d.capture:!!d,m):J_(i,o,u,!0,d,m)}function mo(i,o,u,d,m){if(B(o))for(var v=0;v<o.length;v++)mo(i,o[v],u,d,m);else d=ie(d)?!!d.capture:!!d,u=sm(u),i&&i[ru]?(i=i.J,o=String(o).toString(),o in i.a&&(v=i.a[o],u=tm(v,u,d,m),-1<u&&(zh(v[u]),qt(v,u),v.length==0&&(delete i.a[o],i.g--)))):i&&(i=Xh(i))&&(o=i.a[o.toString()],i=-1,o&&(i=tm(o,u,d,m)),(u=-1<i?o[i]:null)&&ys(u))}function ys(i){if(typeof i!="number"&&i&&!i.sa){var o=i.src;if(o&&o[ru])em(o.J,i);else{var u=i.type,d=i.proxy;o.removeEventListener?o.removeEventListener(u,d,i.capture):o.detachEvent?o.detachEvent(Q_(u),d):o.addListener&&o.removeListener&&o.removeListener(d),(u=Xh(o))?(em(u,i),u.g==0&&(u.src=null,o[nm]=null)):zh(i)}}}function Q_(i){return i in im?im[i]:im[i]="on"+i}function Z_(i,o,u,d){var m=!0;if((i=Xh(i))&&(o=i.a[o.toString()]))for(o=o.concat(),i=0;i<o.length;i++){var v=o[i];v&&v.capture==u&&!v.sa&&(v=e0(v,d),m=m&&v!==!1)}return m}function e0(i,o){var u=i.listener,d=i.La||i.src;return i.Ia&&ys(i),u.call(d,o)}function W2(i,o){if(i.sa)return!0;if(!po){if(!o)e:{o=["window","event"];for(var u=_,d=0;d<o.length;d++)if(u=u[o[d]],u==null){o=null;break e}o=u}if(d=o,o=new Mn(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=o.g;m;m=m.parentNode)d.push(m);for(i=i.type,m=d.length-1;!o.h&&0<=m;m--){o.g=d[m];var v=Z_(d[m],i,!0,o);u=u&&v}for(m=0;!o.h&&m<d.length;m++)o.g=d[m],v=Z_(d[m],i,!1,o),u=u&&v}return u}return e0(i,new Mn(o,this))}function Xh(i){return i=i[nm],i instanceof Yh?i:null}var rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function sm(i){return q(i)?i:(i[rm]||(i[rm]=function(o){return i.handleEvent(o)}),i[rm])}function Ft(){Ve.call(this),this.J=new Yh(this),this.wb=this,this.Ha=null}ge(Ft,Ve),Ft.prototype[ru]=!0,Ft.prototype.Za=function(i){this.Ha=i},Ft.prototype.removeEventListener=function(i,o,u,d){mo(this,i,o,u,d)};function _s(i,o){var u,d=i.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(i=i.wb,d=o.type||o,I(o))o=new Dr(o,i);else if(o instanceof Dr)o.target=o.target||i;else{var m=o;o=new Dr(d,i),ye(o,m)}if(m=!0,u)for(var v=u.length-1;!o.h&&0<=v;v--){var E=o.g=u[v];m=Jh(E,d,!0,o)&&m}if(o.h||(E=o.g=i,m=Jh(E,d,!0,o)&&m,o.h||(m=Jh(E,d,!1,o)&&m)),u)for(v=0;!o.h&&v<u.length;v++)E=o.g=u[v],m=Jh(E,d,!1,o)&&m;return m}Ft.prototype.o=function(){if(Ft.K.o.call(this),this.J){var i=this.J,o;for(o in i.a){for(var u=i.a[o],d=0;d<u.length;d++)zh(u[d]);delete i.a[o],i.g--}}this.Ha=null};function Jh(i,o,u,d){if(o=i.J.a[String(o)],!o)return!0;o=o.concat();for(var m=!0,v=0;v<o.length;++v){var E=o[v];if(E&&!E.sa&&E.capture==u){var k=E.listener,$=E.La||E.src;E.Ia&&em(i.J,E),m=k.call($,d)!==!1&&m}}return m&&d.qb!=0}var si={},t0=0;function n0(i,o){if(!i)throw Error("Event target element must be provided!");if(i=om(i),si[i]&&si[i].length)for(var u=0;u<si[i].length;u++)_s(si[i][u],o)}function K2(i){var o=om(i.N());si[o]&&si[o].length&&(ei(si[o],function(u){return u==i}),si[o].length||delete si[o])}function om(i){return typeof i.a>"u"&&(i.a=t0,t0++),i.a}function Qh(i){if(!i)throw Error("Event target element must be provided!");Ft.call(this),this.a=i}c(Qh,Ft),Qh.prototype.N=function(){return this.a},Qh.prototype.register=function(){var i=om(this.N());si[i]?ot(si[i],this)||si[i].push(this):si[i]=[this]};function i0(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function am(i,o){this.h=i,this.j=o,this.g=0,this.a=null}am.prototype.get=function(){if(0<this.g){this.g--;var i=this.a;this.a=i.next,i.next=null}else i=this.h();return i};function r0(i,o){i.j(o),100>i.g&&(i.g++,o.next=i.a,i.a=o)}function s0(){this.g=this.a=null}var o0=new am(function(){return new lm},function(i){i.reset()});s0.prototype.add=function(i,o){var u=o0.get();u.set(i,o),this.g?this.g.next=u:this.a=u,this.g=u};function q2(){var i=l0,o=null;return i.a&&(o=i.a,i.a=i.a.next,i.a||(i.g=null),o.next=null),o}function lm(){this.next=this.g=this.a=null}lm.prototype.set=function(i,o){this.a=i,this.g=o,this.next=null},lm.prototype.reset=function(){this.next=this.g=this.a=null};function a0(i){_.setTimeout(function(){throw i},0)}var um;function G2(){var i=_.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Fe("Presto")&&(i=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var v=m.contentWindow;m=v.document,m.open(),m.write(""),m.close();var E="callImmediate"+Math.random(),k=v.location.protocol=="file:"?"*":v.location.protocol+"//"+v.location.host;m=C(function($){(k=="*"||$.origin==k)&&$.data==E&&this.port1.onmessage()},this),v.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){v.postMessage(E,k)}}}),typeof i<"u"&&!Fe("Trident")&&!Fe("MSIE")){var o=new i,u={},d=u;return o.port1.onmessage=function(){if(b(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,o.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var v=document.createElement("SCRIPT");v.onreadystatechange=function(){v.onreadystatechange=null,v.parentNode.removeChild(v),v=null,m(),m=null},document.documentElement.appendChild(v)}:function(m){_.setTimeout(m,0)}}function cm(i,o){Zh||z2(),hm||(Zh(),hm=!0),l0.add(i,o)}var Zh;function z2(){if(_.Promise&&_.Promise.resolve){var i=_.Promise.resolve(void 0);Zh=function(){i.then(u0)}}else Zh=function(){var o=u0;!q(_.setImmediate)||_.Window&&_.Window.prototype&&!Fe("Edge")&&_.Window.prototype.setImmediate==_.setImmediate?(um||(um=G2()),um(o)):_.setImmediate(o)}}var hm=!1,l0=new s0;function u0(){for(var i;i=q2();){try{i.a.call(i.g)}catch(o){a0(o)}r0(o0,i)}hm=!1}function Ut(i){if(this.a=go,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,i!=S)try{var o=this;i.call(void 0,function(u){vo(o,ou,u)},function(u){if(!(u instanceof da))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}vo(o,Or,u)})}catch(u){vo(this,Or,u)}}var go=0,ou=2,Or=3;function c0(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}c0.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var h0=new am(function(){return new c0},function(i){i.reset()});function dm(i,o,u){var d=h0.get();return d.s=i,d.g=o,d.j=u,d}function It(i){if(i instanceof Ut)return i;var o=new Ut(S);return vo(o,ou,i),o}function ha(i){return new Ut(function(o,u){u(i)})}Ut.prototype.then=function(i,o,u){return f0(this,q(i)?i:null,q(o)?o:null,u)},Ut.prototype.$goog_Thenable=!0,t=Ut.prototype,t.fc=function(i,o){return i=dm(i,i,o),i.h=!0,fm(this,i),this},t.Ca=function(i,o){return f0(this,null,i,o)},t.cancel=function(i){this.a==go&&cm(function(){var o=new da(i);d0(this,o)},this)};function d0(i,o){if(i.a==go)if(i.h){var u=i.h;if(u.g){for(var d=0,m=null,v=null,E=u.g;E&&(E.h||(d++,E.a==i&&(m=E),!(m&&1<d)));E=E.next)m||(v=E);m&&(u.a==go&&d==1?d0(u,o):(v?(d=v,d.next==u.j&&(u.j=d),d.next=d.next.next):m0(u),g0(u,m,Or,o)))}i.h=null}else vo(i,Or,o)}function fm(i,o){i.g||i.a!=ou&&i.a!=Or||p0(i),i.j?i.j.next=o:i.g=o,i.j=o}function f0(i,o,u,d){var m=dm(null,null,null);return m.a=new Ut(function(v,E){m.s=o?function(k){try{var $=o.call(d,k);v($)}catch(te){E(te)}}:v,m.g=u?function(k){try{var $=u.call(d,k);!b($)&&k instanceof da?E(k):v($)}catch(te){E(te)}}:E}),m.a.h=i,fm(i,m),m.a}t.hc=function(i){this.a=go,vo(this,ou,i)},t.ic=function(i){this.a=go,vo(this,Or,i)};function vo(i,o,u){if(i.a==go){i===u&&(o=Or,u=new TypeError("Promise cannot resolve to itself")),i.a=1;e:{var d=u,m=i.hc,v=i.ic;if(d instanceof Ut){fm(d,dm(m||S,v||null,i));var E=!0}else if(i0(d))d.then(m,v,i),E=!0;else{if(ie(d))try{var k=d.then;if(q(k)){Y2(d,k,m,v,i),E=!0;break e}}catch($){v.call(i,$),E=!0;break e}E=!1}}E||(i.A=u,i.a=o,i.h=null,p0(i),o!=Or||u instanceof da||X2(i,u))}}function Y2(i,o,u,d,m){function v($){k||(k=!0,d.call(m,$))}function E($){k||(k=!0,u.call(m,$))}var k=!1;try{o.call(i,E,v)}catch($){v($)}}function p0(i){i.i||(i.i=!0,cm(i.Hb,i))}function m0(i){var o=null;return i.g&&(o=i.g,i.g=o.next,o.next=null),i.g||(i.j=null),o}t.Hb=function(){for(var i;i=m0(this);)g0(this,i,this.a,this.A);this.i=!1};function g0(i,o,u,d){if(u==Or&&o.g&&!o.h)for(;i&&i.s;i=i.h)i.s=!1;if(o.a)o.a.h=null,v0(o,u,d);else try{o.h?o.s.call(o.j):v0(o,u,d)}catch(m){y0.call(null,m)}r0(h0,o)}function v0(i,o,u){o==ou?i.s.call(i.j,u):i.g&&i.g.call(i.j,u)}function X2(i,o){i.s=!0,cm(function(){i.s&&y0.call(null,o)})}var y0=a0;function da(i){yt.call(this,i)}ge(da,yt),da.prototype.name="cancel";function _0(i,o,u){o||(o={}),u=u||window;var d=i instanceof Xt?i:sa(typeof i.href<"u"?i.href:String(i));i=o.target||i.target;var m=[];for(v in o)switch(v){case"width":case"height":case"top":case"left":m.push(v+"="+o[v]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(v+"="+(o[v]?1:0))}var v=m.join(",");return(Fe("iPhone")&&!Fe("iPod")&&!Fe("iPad")||Fe("iPad")||Fe("iPod"))&&u.navigator&&u.navigator.standalone&&i&&i!="_self"?(v=u.document.createElement("A"),d=d instanceof Xt?d:Fh(d),v.href=Qi(d),v.setAttribute("target",i),o.noreferrer&&v.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,u,1),v.dispatchEvent(o),u={}):o.noreferrer?(u=u.open("",i,v),o=Qi(d).toString(),u&&(Xp&&o.indexOf(";")!=-1&&(o="'"+o.replace(/'/g,"%27")+"'"),u.opener=null,o=bi('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+fe(o)+'">',null),u.document.write(lo(o)),u.document.close())):(u=u.open(Qi(d).toString(),i,v))&&o.noopener&&(u.opener=null),u}function w0(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function fa(i){_0(i,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ed(i,o){if(i=ie(i)&&i.nodeType==1?i:document.querySelector(String(i)),i==null)throw Error(o||"Cannot find element.");return i}function Mr(){return window.location.href}function J2(){var i=null;return new Ut(function(o){_.document.readyState=="complete"?o():(i=function(){o()},su(window,"load",i))}).Ca(function(o){throw mo(window,"load",i),o})}function Q2(){for(var i=32,o=[];0<i;)o.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return o.join("")}function Z2(i,o,u){return u=u===void 0?{}:u,Object.keys(i).filter(function(d){return o.includes(d)}).reduce(function(d,m){return d[m]=i[m],d},u)}function ws(i){var o=nk;this.s=[],this.T=o,this.O=i||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}ws.prototype.cancel=function(i){if(this.a)this.h instanceof ws&&this.h.cancel();else{if(this.g){var o=this.g;delete this.g,i?o.cancel(i):(o.C--,0>=o.C&&o.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(i=new lu,td(this),au(this,!1,i))}},ws.prototype.L=function(i,o){this.A=!1,au(this,i,o)};function au(i,o,u){i.a=!0,i.h=u,i.j=!o,T0(i)}function td(i){if(i.a){if(!i.J)throw new nd;i.J=!1}}ws.prototype.callback=function(i){td(this),au(this,!0,i)};function b0(i,o,u){i.s.push([o,u,void 0]),i.a&&T0(i)}ws.prototype.then=function(i,o,u){var d,m,v=new Ut(function(E,k){d=E,m=k});return b0(this,d,function(E){E instanceof lu?v.cancel():m(E)}),v.then(i,o,u)},ws.prototype.$goog_Thenable=!0;function E0(i){return us(i.s,function(o){return q(o[1])})}function T0(i){if(i.i&&i.a&&E0(i)){var o=i.i,u=id[o];u&&(_.clearTimeout(u.a),delete id[o]),i.i=0}i.g&&(i.g.C--,delete i.g),o=i.h;for(var d=u=!1;i.s.length&&!i.A;){var m=i.s.shift(),v=m[0],E=m[1];if(m=m[2],v=i.j?E:v)try{var k=v.call(m||i.O,o);b(k)&&(i.j=i.j&&(k==o||k instanceof Error),i.h=o=k),(i0(o)||typeof _.Promise=="function"&&o instanceof _.Promise)&&(d=!0,i.A=!0)}catch($){o=$,i.j=!0,E0(i)||(u=!0)}}i.h=o,d&&(k=C(i.L,i,!0),d=C(i.L,i,!1),o instanceof ws?(b0(o,k,d),o.l=!0):o.then(k,d)),u&&(o=new I0(o),id[o.a]=o,i.i=o.a)}function nd(){yt.call(this)}ge(nd,yt),nd.prototype.message="Deferred has already fired",nd.prototype.name="AlreadyCalledError";function lu(){yt.call(this)}ge(lu,yt),lu.prototype.message="Deferred was canceled",lu.prototype.name="CanceledError";function I0(i){this.a=_.setTimeout(C(this.h,this),0),this.g=i}I0.prototype.h=function(){throw delete id[this.a],this.g};var id={};function ek(i){var o={},u=o.document||document,d=it(i).toString(),m=document.createElement("SCRIPT"),v={rb:m,sb:void 0},E=new ws(v),k=null,$=o.timeout!=null?o.timeout:5e3;return 0<$&&(k=window.setTimeout(function(){rd(m,!0);var te=new pm(rk,"Timeout reached for loading script "+d);td(E),au(E,!1,te)},$),v.sb=k),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(rd(m,o.xc||!1,k),E.callback(null))},m.onerror=function(){rd(m,!0,k);var te=new pm(ik,"Error while loading script "+d);td(E),au(E,!1,te)},v=o.attributes||{},ye(v,{type:"text/javascript",charset:"UTF-8"}),uo(m,v),Zp(m,i),tk(u).appendChild(m),E}function tk(i){var o=(i||document).getElementsByTagName("HEAD");return o&&o.length!=0?o[0]:i.documentElement}function nk(){if(this&&this.rb){var i=this.rb;i&&i.tagName=="SCRIPT"&&rd(i,!0,this.sb)}}function rd(i,o,u){u!=null&&_.clearTimeout(u),i.onload=S,i.onerror=S,i.onreadystatechange=S,o&&window.setTimeout(function(){Xe(i)},0)}var ik=0,rk=1;function pm(i,o){var u="Jsloader error (code #"+i+")";o&&(u+=": "+o),yt.call(this,u),this.code=i}ge(pm,yt);function uu(){return _.google&&_.google.accounts&&_.google.accounts.id||null}function mm(i){this.a=i||uu(),this.h=!1,this.g=null}mm.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function A0(i,o,u){if(i.a&&o)return function(){return i.h=!0,new Ut(function(m){i.g=m,i.a.initialize({client_id:o,callback:m,auto_select:!u}),i.a.prompt()})}();if(o){var d=gm.Xa().load().then(function(){return i.a=uu(),A0(i,o,u)}).Ca(function(){return null});return It(d)}return It(null)}D(mm);var sk=new Tn(ao,"https://accounts.google.com/gsi/client");function gm(){this.a=null}gm.prototype.load=function(){var i=this;if(this.a)return this.a;var o=ra();return uu()?It():this.a=J2().then(function(){if(!uu())return new Ut(function(u,d){var m=setTimeout(function(){i.a=null,d(Error("Network error!"))},1e4);_.onGoogleLibraryLoad=function(){clearTimeout(m),u()},It(ek(o)).then(function(){uu()&&u()}).Ca(function(v){clearTimeout(m),i.a=null,d(v)})})})},D(gm);function vm(i,o){this.a=i,this.g=o||function(u){throw u}}vm.prototype.confirm=function(i){return It(this.a.confirm(i)).Ca(this.g)};function ym(i,o,u){this.reset(i,o,u,void 0,void 0)}ym.prototype.a=null,ym.prototype.reset=function(i,o,u,d,m){this.h=d||U(),this.j=i,this.s=o,this.g=u,delete this.a};function _m(i){this.s=i,this.a=this.h=this.j=this.g=null}function sd(i,o){this.name=i,this.value=o}sd.prototype.toString=function(){return this.name};var S0=new sd("SEVERE",1e3),P0=new sd("WARNING",900),C0=new sd("CONFIG",700);function R0(i){return i.j?i.j:i.g?R0(i.g):(_e("Root logger has no level set."),null)}_m.prototype.log=function(i,o,u){if(i.value>=R0(this).value)for(q(o)&&(o=o()),i=new ym(i,String(o),this.s),u&&(i.a=u),u=this;u;){var d=u,m=i;if(d.a)for(var v=0;o=d.a[v];v++)o(m);u=u.g}};var wm={},cu=null;function k0(){cu||(cu=new _m(""),wm[""]=cu,cu.j=C0)}function x0(i){k0();var o;if(!(o=wm[i])){o=new _m(i);var u=i.lastIndexOf("."),d=i.substr(u+1);u=x0(i.substr(0,u)),u.h||(u.h={}),u.h[d]=o,o.g=u,wm[i]=o}return o}function od(){this.a=U()}var bm=null;od.prototype.set=function(i){this.a=i},od.prototype.reset=function(){this.set(U())},od.prototype.get=function(){return this.a};function hu(i){this.j=i||"",bm||(bm=new od),this.s=bm}hu.prototype.a=!0,hu.prototype.g=!0,hu.prototype.h=!1;function yo(i){return 10>i?"0"+i:String(i)}function ok(i,o){i=(i.h-o)/1e3,o=i.toFixed(3);var u=0;if(1>i)u=2;else for(;100>i;)u++,i*=10;for(;0<u--;)o=" "+o;return o}function D0(i){hu.call(this,i)}ge(D0,hu);function ak(i,o){var u=[];if(u.push(i.j," "),i.g){var d=new Date(o.h);u.push("[",yo(d.getFullYear()-2e3)+yo(d.getMonth()+1)+yo(d.getDate())+" "+yo(d.getHours())+":"+yo(d.getMinutes())+":"+yo(d.getSeconds())+"."+yo(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",ok(o,i.s.get()),"s] "),u.push("[",o.g,"] "),u.push(o.s),i.h&&(o=o.a)&&u.push(`
`,o instanceof Error?o.message:o.toString()),i.a&&u.push(`
`),u.join("")}function O0(){this.s=C(this.h,this),this.a=new D0,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}O0.prototype.h=function(i){function o(v){if(v){if(v.value>=S0.value)return"error";if(v.value>=P0.value)return"warn";if(v.value>=C0.value)return"log"}return"debug"}if(!this.j[i.g]){var u=ak(this.a,i),d=lk;if(d){var m=o(i.j);uk(d,m,u,i.a)}}};var lk=_.console;function uk(i,o,u,d){i[o]?i[o](u,d||""):i.log(u,d||"")}function oi(i,o){var u=Em;u&&u.log(S0,i,o)}var Em;Em=x0("firebaseui");var Tm=new O0;if(Tm.g!=1){var ad;k0(),ad=cu;var ck=Tm.s;ad.a||(ad.a=[]),ad.a.push(ck),Tm.g=!0}function bs(i){var o=Em;o&&o.log(P0,i,void 0)}function M0(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=M0.prototype,t.set=function(i,o,u,d,m,v){if(/[;=\s]/.test(i))throw Error('Invalid cookie name "'+i+'"');if(/[;\r\n]/.test(o))throw Error('Invalid cookie value "'+o+'"');b(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",v=v?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(U()+1e3*u).toUTCString(),this.a.cookie=i+"="+o+m+d+u+v},t.get=function(i,o){for(var u=i+"=",d=(this.a.cookie||"").split(";"),m=0,v;m<d.length;m++){if(v=L(d[m]),v.lastIndexOf(u,0)==0)return v.substr(u.length);if(v==i)return""}return o},t.ja=function(){return Im(this).keys},t.la=function(){return Im(this).values},t.clear=function(){for(var i=Im(this).keys,o=i.length-1;0<=o;o--){var u=i[o];this.get(u),this.set(u,"",0,void 0,void 0)}};function Im(i){i=(i.a.cookie||"").split(";");for(var o=[],u=[],d,m,v=0;v<i.length;v++)m=L(i[v]),d=m.indexOf("="),d==-1?(o.push(""),u.push(m)):(o.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:o,values:u}}var ld=new M0;function N0(){}function pa(i,o,u,d){this.h=typeof i<"u"&&i!==null?i:-1,this.g=o||null,this.a=u||null,this.j=!!d}c(pa,N0),pa.prototype.set=function(i,o){ld.set(i,o,this.h,this.g,this.a,this.j)},pa.prototype.get=function(i){return ld.get(i)||null},pa.prototype.ra=function(i){var o=this.g,u=this.a;ld.get(i),ld.set(i,"",0,o,u)};function Am(i,o){this.g=i,this.a=o||null}function V0(i){return{email:i.g,credential:i.a&&i.a.toJSON()}}function L0(i){if(i&&i.email){var o=i.credential&&me.auth.AuthCredential.fromJSON(i.credential);return new Am(i.email,o)}return null}function F0(i){this.a=i||null}function U0(i){for(var o=[],u=0,d=0;d<i.length;d++){var m=i.charCodeAt(d);255<m&&(o[u++]=m&255,m>>=8),o[u++]=m}return o}function hk(i){return dt(i,function(o){return o=o.toString(16),1<o.length?o:"0"+o}).join("")}function ud(i){for(this.i=i,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(ma*(this.j+1)),i=0;i<this.g;i++)this.a[i]=[this.i[4*i],this.i[4*i+1],this.i[4*i+2],this.i[4*i+3]];var o=Array(4);for(i=this.g;i<ma*(this.j+1);i++){if(o[0]=this.a[i-1][0],o[1]=this.a[i-1][1],o[2]=this.a[i-1][2],o[3]=this.a[i-1][3],i%this.g==0){var u=o,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,W0(o),o[0]^=hd[i/this.g][0],o[1]^=hd[i/this.g][1],o[2]^=hd[i/this.g][2],o[3]^=hd[i/this.g][3]}else 6<this.g&&i%this.g==4&&W0(o);this.a[i]=Array(4),this.a[i][0]=this.a[i-this.g][0]^o[0],this.a[i][1]=this.a[i-this.g][1]^o[1],this.a[i][2]=this.a[i-this.g][2]^o[2],this.a[i][3]=this.a[i-this.g][3]^o[3]}}ud.prototype.A=16;var ma=ud.prototype.A/4;function j0(i,o){for(var u,d=0;d<ma;d++)for(var m=0;4>m;m++)u=4*m+d,u=o[u],i.h[d][m]=u}function B0(i){for(var o=[],u=0;u<ma;u++)for(var d=0;4>d;d++)o[4*d+u]=i.h[u][d];return o}function ga(i,o){for(var u=0;4>u;u++)for(var d=0;4>d;d++)i.h[u][d]^=i.a[4*o+d][u]}function cd(i,o){for(var u=0;4>u;u++)for(var d=0;4>d;d++)i.h[u][d]=o[i.h[u][d]]}function $0(i){for(var o=1;4>o;o++)for(var u=0;4>u;u++)i.s[o][u]=i.h[o][u];for(o=1;4>o;o++)for(u=0;4>u;u++)i.h[o][u]=i.s[o][(u+o)%ma]}function H0(i){for(var o=1;4>o;o++)for(var u=0;4>u;u++)i.s[o][(u+o)%ma]=i.h[o][u];for(o=1;4>o;o++)for(u=0;4>u;u++)i.h[o][u]=i.s[o][u]}function W0(i){i[0]=va[i[0]],i[1]=va[i[1]],i[2]=va[i[2]],i[3]=va[i[3]]}var va=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],K0=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],hd=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],dd=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],fd=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],pd=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],md=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],gd=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],vd=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function q0(i,o){i=new ud(z0(i)),o=U0(o);for(var u=o.splice(0,16),d="",m;u.length;){m=16-u.length;for(var v=0;v<m;v++)u.push(0);for(m=i,j0(m,u),ga(m,0),u=1;u<m.j;++u){cd(m,va),$0(m),v=m.h;for(var E=m.s[0],k=0;4>k;k++)E[0]=v[0][k],E[1]=v[1][k],E[2]=v[2][k],E[3]=v[3][k],v[0][k]=dd[E[0]]^fd[E[1]]^E[2]^E[3],v[1][k]=E[0]^dd[E[1]]^fd[E[2]]^E[3],v[2][k]=E[0]^E[1]^dd[E[2]]^fd[E[3]],v[3][k]=fd[E[0]]^E[1]^E[2]^dd[E[3]];ga(m,u)}cd(m,va),$0(m),ga(m,m.j),d+=hk(B0(m)),u=o.splice(0,16)}return d}function G0(i,o){i=new ud(z0(i));for(var u=[],d=0;d<o.length;d+=2)u.push(parseInt(o.substring(d,d+2),16));var m=u.splice(0,16);for(o="";m.length;){for(d=i,j0(d,m),ga(d,d.j),m=1;m<d.j;++m){H0(d),cd(d,K0),ga(d,d.j-m);for(var v=d.h,E=d.s[0],k=0;4>k;k++)E[0]=v[0][k],E[1]=v[1][k],E[2]=v[2][k],E[3]=v[3][k],v[0][k]=vd[E[0]]^md[E[1]]^gd[E[2]]^pd[E[3]],v[1][k]=pd[E[0]]^vd[E[1]]^md[E[2]]^gd[E[3]],v[2][k]=gd[E[0]]^pd[E[1]]^vd[E[2]]^md[E[3]],v[3][k]=md[E[0]]^gd[E[1]]^pd[E[2]]^vd[E[3]]}if(H0(d),cd(d,K0),ga(d,0),d=B0(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",v=0;v<d.length;v+=8192)m+=String.fromCharCode.apply(null,x(d,v,v+8192));d=m}o+=d,m=u.splice(0,16)}return o.replace(/(\x00)+$/,"")}function z0(i){i=U0(i.substring(0,32));for(var o=32-i.length,u=0;u<o;u++)i.push(0);return i}function Y0(i){var o=[];return Sm(new dk,i,o),o.join("")}function dk(){}function Sm(i,o,u){if(o==null)u.push("null");else{if(typeof o=="object"){if(B(o)){var d=o;o=d.length,u.push("[");for(var m="",v=0;v<o;v++)u.push(m),Sm(i,d[v],u),m=",";u.push("]");return}if(o instanceof String||o instanceof Number||o instanceof Boolean)o=o.valueOf();else{u.push("{"),m="";for(d in o)Object.prototype.hasOwnProperty.call(o,d)&&(v=o[d],typeof v!="function"&&(u.push(m),J0(d,u),u.push(":"),Sm(i,v,u),m=","));u.push("}");return}}switch(typeof o){case"string":J0(o,u);break;case"number":u.push(isFinite(o)&&!isNaN(o)?String(o):"null");break;case"boolean":u.push(String(o));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof o)}}}var X0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},fk=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function J0(i,o){o.push('"',i.replace(fk,function(u){var d=X0[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),X0[u]=d),d}),'"')}function du(i){this.a=i}du.prototype.set=function(i,o){b(o)?this.a.set(i,Y0(o)):this.a.ra(i)},du.prototype.get=function(i){try{var o=this.a.get(i)}catch{return}if(o!==null)try{return JSON.parse(o)}catch{throw"Storage: Invalid value was encountered"}};function yd(){}ge(yd,N0),yd.prototype.clear=function(){var i=Bn(this.ha(!0)),o=this;En(i,function(u){o.ra(u)})};function _d(i){this.a=i}ge(_d,yd);function wd(i){if(!i.a)return!1;try{return i.a.setItem("__sak","1"),i.a.removeItem("__sak"),!0}catch{return!1}}t=_d.prototype,t.set=function(i,o){try{this.a.setItem(i,o)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(i){if(i=this.a.getItem(i),!I(i)&&i!==null)throw"Storage mechanism: Invalid value was encountered";return i},t.ra=function(i){this.a.removeItem(i)},t.ha=function(i){var o=0,u=this.a,d=new Oe;return d.next=function(){if(o>=u.length)throw Ie;var m=u.key(o++);if(i)return m;if(m=u.getItem(m),!I(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(i){return this.a.key(i)};function Pm(){var i=null;try{i=window.localStorage||null}catch{}this.a=i}ge(Pm,_d);function Cm(){var i=null;try{i=window.sessionStorage||null}catch{}this.a=i}ge(Cm,_d);function ya(i,o){this.g=i,this.a=o+"::"}ge(ya,yd),ya.prototype.set=function(i,o){this.g.set(this.a+i,o)},ya.prototype.get=function(i){return this.g.get(this.a+i)},ya.prototype.ra=function(i){this.g.ra(this.a+i)},ya.prototype.ha=function(i){var o=this.g.ha(!0),u=this,d=new Oe;return d.next=function(){for(var m=o.next();m.substr(0,u.a.length)!=u.a;)m=o.next();return i?m.substr(u.a.length):u.g.get(m)},d},wd(new Pm);var Q0,Z0=new Cm;Q0=wd(Z0)?new ya(Z0,"firebaseui"):null;var Rm=new du(Q0),km={name:"pendingEmailCredential",storage:Rm},_o={name:"redirectStatus",storage:Rm},fu={name:"redirectUrl",storage:Rm},_a={name:"emailForSignIn",storage:new du(new pa(3600,"/"))},pu={name:"pendingEncryptedCredential",storage:new du(new pa(3600,"/"))};function wa(i,o){return i.storage.get(o?i.name+":"+o:i.name)}function qn(i,o){i.storage.a.ra(o?i.name+":"+o:i.name)}function ba(i,o,u){i.storage.set(u?i.name+":"+u:i.name,o)}function ew(i){return wa(fu,i)||null}function rr(i){return i=wa(km,i)||null,L0(i)}function sr(i){qn(km,i)}function tw(i,o){ba(km,V0(i),o)}function xm(i){return(i=wa(_o,i)||null)&&typeof i.tenantId<"u"?new F0(i.tenantId):null}function pk(i,o){ba(_o,{tenantId:i.a},o)}function mk(i,o){o=wa(_a,o);var u=null;if(o)try{var d=G0(i,o),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function gk(i,o){o=wa(pu,o);var u=null;if(o)try{var d=G0(i,o);u=JSON.parse(d)}catch{}return L0(u||null)}function vk(i,o,u){ba(pu,q0(i,JSON.stringify(V0(o))),u)}function Dm(){this.W={}}function Dt(i,o,u){if(o.toLowerCase()in i.W)throw Error("Configuration "+o+" has already been defined.");i.W[o.toLowerCase()]=u}function Om(i,o,u){if(!(o.toLowerCase()in i.W))throw Error("Configuration "+o+" is not defined.");i.W[o.toLowerCase()]=u}Dm.prototype.get=function(i){if(!(i.toLowerCase()in this.W))throw Error("Configuration "+i+" is not defined.");return this.W[i.toLowerCase()]};function Mm(i,o){if(i=i.get(o),!i)throw Error("Configuration "+o+" is required.");return i}function Nm(){this.g=void 0,this.a={}}t=Nm.prototype,t.set=function(i,o){nw(this,i,o,!1)},t.add=function(i,o){nw(this,i,o,!0)};function nw(i,o,u,d){for(var m=0;m<o.length;m++){var v=o.charAt(m);i.a[v]||(i.a[v]=new Nm),i=i.a[v]}if(d&&i.g!==void 0)throw Error('The collection already contains the key "'+o+'"');i.g=u}t.get=function(i){e:{for(var o=this,u=0;u<i.length;u++)if(o=o.a[i.charAt(u)],!o){i=void 0;break e}i=o}return i?i.g:void 0},t.la=function(){var i=[];return iw(this,i),i};function iw(i,o){i.g!==void 0&&o.push(i.g);for(var u in i.a)iw(i.a[u],o)}t.ja=function(){var i=[];return rw(this,"",i),i};function rw(i,o,u){i.g!==void 0&&u.push(o);for(var d in i.a)rw(i.a[d],o+d,u)}t.clear=function(){this.a={},this.g=void 0};function sw(i){for(this.a=i,this.g=new Nm,i=0;i<this.a.length;i++){var o=this.g.get("+"+this.a[i].b);o?o.push(this.a[i]):this.g.add("+"+this.a[i].b,[this.a[i]])}}function bd(i,o){i=i.g;var u={},d=0;for(i.g!==void 0&&(u[d]=i.g);d<o.length;d++){var m=o.charAt(d);if(!(m in i.a))break;i=i.a[m],i.g!==void 0&&(u[d]=i.g)}for(var v in u)if(u.hasOwnProperty(v))return u[v];return[]}function wo(i){for(var o=0;o<Nn.length;o++)if(Nn[o].c===i)return Nn[o];return null}function ow(i){i=i.toUpperCase();for(var o=[],u=0;u<Nn.length;u++)Nn[u].f===i&&o.push(Nn[u]);return o}function aw(i){if(0<i.length&&i.charAt(0)=="+"){i=i.substring(1);for(var o=[],u=0;u<Nn.length;u++)Nn[u].b==i&&o.push(Nn[u]);i=o}else i=ow(i);return i}function lw(i){i.sort(function(o,u){return o.name.localeCompare(u.name,"en")})}var Nn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];lw(Nn);var mu=new sw(Nn);function uw(i,o){this.a=i,this.Aa=o}function cw(i){i=L(i);var o=bd(mu,i);return 0<o.length?new uw(o[0].b=="1"?"1-US-0":o[0].c,L(i.substr(o[0].b.length+1))):null}function Vm(i){var o=wo(i.a);if(!o)throw Error("Country ID "+i.a+" not found.");return"+"+o.b+i.Aa}function hw(i,o){for(var u=0;u<i.length;u++)if(!ot(dw,i[u])&&(Ea!==null&&i[u]in Ea||ot(o,i[u])))return i[u];return null}var dw=["emailLink","password","phone"],Ea={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function yk(){this.a=new Dm,Dt(this.a,"autoUpgradeAnonymousUsers"),Dt(this.a,"callbacks"),Dt(this.a,"credentialHelper",Id),Dt(this.a,"immediateFederatedRedirect",!1),Dt(this.a,"popupMode",!1),Dt(this.a,"privacyPolicyUrl"),Dt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Dt(this.a,"queryParameterForWidgetMode","mode"),Dt(this.a,"signInFlow"),Dt(this.a,"signInOptions"),Dt(this.a,"signInSuccessUrl"),Dt(this.a,"siteName"),Dt(this.a,"tosUrl"),Dt(this.a,"widgetUrl"),Dt(this.a,"adminRestrictedOperation")}function Ed(i){var o=!!i.a.get("autoUpgradeAnonymousUsers");return o&&!Ew(i)&&oi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),o}function Td(i){i=i.a.get("signInOptions")||[];for(var o=[],u=0;u<i.length;u++){var d=i[u];d=ie(d)?d:{provider:d},d.provider&&o.push(d)}return o}function ai(i,o){i=Td(i);for(var u=0;u<i.length;u++)if(i[u].provider===o)return i[u];return null}function Ta(i){return Td(i).map(function(o){return o.provider})}function gu(i,o){i=fw(i);for(var u=0;u<i.length;u++)if(i[u].providerId===o)return i[u];return null}function fw(i){return Td(i).map(function(o){if(Ea[o.provider]||ot(Ck,o.provider)){o={providerId:o.provider,S:o.providerName||null,V:o.fullLabel||null,ta:o.buttonColor||null,za:o.iconUrl?Qi(sa(o.iconUrl)).toString():null};for(var u in o)o[u]===null&&delete o[u];return o}return{providerId:o.provider,S:o.providerName||null,V:o.fullLabel||null,ta:o.buttonColor||null,za:o.iconUrl?Qi(sa(o.iconUrl)).toString():null,Ob:o.loginHintKey||null}})}function pw(i){var o=ai(i,me.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=o&&o.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in i=i.a.get("credentialHelper"),Bm)if(Bm[d]===i){var d=Bm[d];break e}}d=Id}u=d===jm}return u&&o.clientId||null}function mw(i){return i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID),!!(i&&i.disableSignUp&&i.disableSignUp.status)}function bo(i){return i=i.a.get("adminRestrictedOperation")||null,!(!i||!i.status)}function _k(i){var o=null;if(Td(i).forEach(function(d){d.provider==me.auth.PhoneAuthProvider.PROVIDER_ID&&ie(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(o=he(d.recaptchaParameters))}),o){var u=[];Rk.forEach(function(d){typeof o[d]<"u"&&(u.push(d),delete o[d])}),u.length&&bs('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return o}function wk(i){return(i=i.a.get("adminRestrictedOperation"))&&i.adminEmail?i.adminEmail:null}function bk(i){if(i=i.a.get("adminRestrictedOperation")||null){var o=i.helpLink||null;if(o&&typeof o=="string")return function(){fa(o)}}return null}function Ek(i){return(i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID))&&i.disableSignUp&&i.disableSignUp.adminEmail||null}function Tk(i){if((i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID))&&i.disableSignUp){var o=i.disableSignUp.helpLink||null;if(o&&typeof o=="string")return function(){fa(o)}}return null}function gw(i,o){return i=(i=ai(i,o))&&i.scopes,Array.isArray(i)?i:[]}function vw(i,o){return i=(i=ai(i,o))&&i.customParameters,ie(i)?(i=he(i),o===me.auth.GoogleAuthProvider.PROVIDER_ID&&delete i.login_hint,o===me.auth.GithubAuthProvider.PROVIDER_ID&&delete i.login,i):null}function Ik(i){i=ai(i,me.auth.PhoneAuthProvider.PROVIDER_ID);var o=null;return i&&typeof i.loginHint=="string"&&(o=cw(i.loginHint)),i&&i.defaultNationalNumber||o&&o.Aa||null}function Ak(i){var o=(i=ai(i,me.auth.PhoneAuthProvider.PROVIDER_ID))&&i.defaultCountry||null;o=o&&ow(o);var u=null;return i&&typeof i.loginHint=="string"&&(u=cw(i.loginHint)),o&&o[0]||u&&wo(u.a)||null}function Lm(i){if(i=ai(i,me.auth.PhoneAuthProvider.PROVIDER_ID),!i)return null;var o=i.whitelistedCountries,u=i.blacklistedCountries;if(typeof o<"u"&&(!Array.isArray(o)||o.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(o&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!o&&!u)return Nn;if(i=[],o){u={};for(var d=0;d<o.length;d++)for(var m=aw(o[d]),v=0;v<m.length;v++)u[m[v].c]=m[v];for(var E in u)u.hasOwnProperty(E)&&i.push(u[E])}else{for(E={},o=0;o<u.length;o++)for(m=aw(u[o]),d=0;d<m.length;d++)E[m[d].c]=m[d];for(m=0;m<Nn.length;m++)E!==null&&Nn[m].c in E||i.push(Nn[m])}return i}function yw(i){return Mm(i.a,"queryParameterForWidgetMode")}function Ot(i){var o=i.a.get("tosUrl")||null;if(i=i.a.get("privacyPolicyUrl")||null,o&&!i&&bs("Privacy Policy URL is missing, the link will not be displayed."),o&&i){if(typeof o=="function")return o;if(typeof o=="string")return function(){fa(o)}}return null}function Mt(i){var o=i.a.get("tosUrl")||null,u=i.a.get("privacyPolicyUrl")||null;if(u&&!o&&bs("Term of Service URL is missing, the link will not be displayed."),o&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){fa(u)}}return null}function _w(i){return(i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID))&&typeof i.requireDisplayName<"u"?!!i.requireDisplayName:!0}function Ia(i){return i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID),!(!i||i.signInMethod!==me.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Sk(i){return i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID),!(!i||!i.forceSameDevice)}function Pk(i){if(Ia(i)){var o={url:Mr(),handleCodeInApp:!0};(i=ai(i,me.auth.EmailAuthProvider.PROVIDER_ID))&&typeof i.emailLinkSignIn=="function"&&ye(o,i.emailLinkSignIn()),i=o.url;var u=Mr();u instanceof Hn||(u=Zo(u)),i instanceof Hn||(i=Zo(i));var d=u;u=new Hn(d);var m=!!i.j;m?Js(u,i.j):m=!!i.A,m?u.A=i.A:m=!!i.h,m?u.h=i.h:m=i.C!=null;var v=i.g;if(m)Qs(u,i.C);else if(m=!!i.g){if(v.charAt(0)!="/"&&(d.h&&!d.g?v="/"+v:(d=u.g.lastIndexOf("/"),d!=-1&&(v=u.g.substr(0,d+1)+v))),v==".."||v==".")v="";else if(v.indexOf("./")!=-1||v.indexOf("/.")!=-1){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var E=[],k=0;k<v.length;){var $=v[k++];$=="."?d&&k==v.length&&E.push(""):$==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),d&&k==v.length&&E.push("")):(E.push($),d=!0)}v=E.join("/")}}return m?u.g=v:m=i.a.toString()!=="",m?Ri(u,Mh(i.a)):m=!!i.s,m&&(u.s=i.s),o.url=u.toString(),o}return null}function Fm(i){var o=!!i.a.get("immediateFederatedRedirect"),u=Ta(i);return i=ww(i),o&&u.length==1&&!ot(dw,u[0])&&i==Ad}function ww(i){i=i.a.get("signInFlow");for(var o in $m)if($m[o]==i)return $m[o];return Ad}function Um(i){return vu(i).signInSuccess||null}function bw(i){return vu(i).signInSuccessWithAuthResult||null}function Ew(i){return vu(i).signInFailure||null}function vu(i){return i.a.get("callbacks")||{}}var jm="googleyolo",Id="none",Bm={nc:jm,NONE:Id},Ad="redirect",$m={qc:"popup",rc:Ad},Hm={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Ck=["anonymous"],Rk=["sitekey","tabindex","callback","expired-callback"],yu,Aa,Wm,Tw,ze={};function ce(i,o,u,d){ze[i].apply(null,Array.prototype.slice.call(arguments,1))}function Iw(i){return i.classList?i.classList:(i=i.className,I(i)&&i.match(/\S+/g)||[])}function _u(i,o){return i.classList?i.classList.contains(o):ot(Iw(i),o)}function or(i,o){i.classList?i.classList.add(o):_u(i,o)||(i.className+=0<i.className.length?" "+o:o)}function ar(i,o){i.classList?i.classList.remove(o):_u(i,o)&&(i.className=ht(Iw(i),function(u){return u!=o}).join(" "))}function on(i){var o=i.type;switch(I(o)&&o.toLowerCase()){case"checkbox":case"radio":return i.checked?i.value:null;case"select-one":return o=i.selectedIndex,0<=o?i.options[o].value:null;case"select-multiple":o=[];for(var u,d=0;u=i.options[d];d++)u.selected&&o.push(u.value);return o.length?o:null;default:return i.value!=null?i.value:null}}function Aw(i,o){var u=i.type;switch(I(u)&&u.toLowerCase()){case"checkbox":case"radio":i.checked=o;break;case"select-one":if(i.selectedIndex=-1,I(o)){for(var d=0;u=i.options[d];d++)if(u.value==o){u.selected=!0;break}}break;case"select-multiple":for(I(o)&&(o=[o]),d=0;u=i.options[d];d++)if(u.selected=!1,o)for(var m,v=0;m=o[v];v++)u.value==m&&(u.selected=!0);break;default:i.value=o??""}}function kk(i){if(i.altKey&&!i.ctrlKey||i.metaKey||112<=i.keyCode&&123>=i.keyCode)return!1;if(wu(i.keyCode))return!0;switch(i.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Kn;default:return 166>i.keyCode||183<i.keyCode}}function Sw(i,o,u,d,m,v){if(nn&&!Yi("525"))return!0;if(_i&&m)return wu(i);if(m&&!d)return!1;if(!Kn){typeof o=="number"&&(o=Km(o));var E=o==17||o==18||_i&&o==91;if((!u||_i)&&E||_i&&o==16&&(d||v))return!1}if((nn||yi)&&d&&u)switch(i){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Ye&&d&&o==i)return!1;switch(i){case 13:return Kn?v||m?!1:!(u&&d):!0;case 27:return!(nn||yi||Kn)}return Kn&&(d||m||v)?!1:wu(i)}function wu(i){if(48<=i&&57>=i||96<=i&&106>=i||65<=i&&90>=i||(nn||yi)&&i==0)return!0;switch(i){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Kn;default:return!1}}function Km(i){if(Kn)i=xk(i);else if(_i&&nn)switch(i){case 93:i=91}return i}function xk(i){switch(i){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return i}}function Sa(i){Ft.call(this),this.a=i,Vi(i,"keydown",this.g,!1,this),Vi(i,"click",this.h,!1,this)}ge(Sa,Ft),Sa.prototype.g=function(i){(i.keyCode==13||nn&&i.keyCode==3)&&Pw(this,i)},Sa.prototype.h=function(i){Pw(this,i)};function Pw(i,o){var u=new Rw(o);if(_s(i,u)){u=new Cw(o);try{_s(i,u)}finally{o.stopPropagation()}}}Sa.prototype.o=function(){Sa.K.o.call(this),mo(this.a,"keydown",this.g,!1,this),mo(this.a,"click",this.h,!1,this),delete this.a};function Cw(i){Mn.call(this,i.a),this.type="action"}ge(Cw,Mn);function Rw(i){Mn.call(this,i.a),this.type="beforeaction"}ge(Rw,Mn);function Pa(i){Ft.call(this),this.a=i,i=Ye?"focusout":"blur",this.g=Vi(this.a,Ye?"focusin":"focus",this,!Ye),this.h=Vi(this.a,i,this,!Ye)}ge(Pa,Ft),Pa.prototype.handleEvent=function(i){var o=new Mn(i.a);o.type=i.type=="focusin"||i.type=="focus"?"focusin":"focusout",_s(this,o)},Pa.prototype.o=function(){Pa.K.o.call(this),ys(this.g),ys(this.h),delete this.a};function Sd(i,o){Ft.call(this),this.g=i||1,this.a=o||_,this.h=C(this.gc,this),this.j=U()}ge(Sd,Ft),t=Sd.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var i=U()-this.j;0<i&&i<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-i):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),_s(this,"tick"),this.Ka&&(Pd(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=U())};function Pd(i){i.Ka=!1,i.aa&&(i.a.clearTimeout(i.aa),i.aa=null)}t.o=function(){Sd.K.o.call(this),Pd(this),delete this.a};function Dk(i,o){if(q(i))o&&(i=C(i,o));else if(i&&typeof i.handleEvent=="function")i=C(i.handleEvent,i);else throw Error("Invalid listener argument");return _.setTimeout(i,0)}function Ca(i){Ve.call(this),this.g=i,this.a={}}ge(Ca,Ve);var kw=[];function Ra(i,o,u,d){B(u)||(u&&(kw[0]=u.toString()),u=kw);for(var m=0;m<u.length;m++){var v=Vi(o,u[m],d||i.handleEvent,!1,i.g||i);if(!v)break;i.a[v.key]=v}}function xw(i){ae(i.a,function(o,u){this.a.hasOwnProperty(u)&&ys(o)},i),i.a={}}Ca.prototype.o=function(){Ca.K.o.call(this),xw(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bu(i){Ft.call(this),this.a=null,this.g=i,i=Ye||yi||nn&&!Yi("531")&&i.tagName=="TEXTAREA",this.h=new Ca(this),Ra(this.h,this.g,i?["keydown","paste","cut","drop","input"]:"input",this)}ge(bu,Ft),bu.prototype.handleEvent=function(i){if(i.type=="input")Ye&&Yi(10)&&i.keyCode==0&&i.j==0||(qm(this),_s(this,Dw(i)));else if(i.type!="keydown"||kk(i)){var o=i.type=="keydown"?this.g.value:null;Ye&&i.keyCode==229&&(o=null);var u=Dw(i);qm(this),this.a=Dk(function(){this.a=null,this.g.value!=o&&_s(this,u)},this)}};function qm(i){i.a!=null&&(_.clearTimeout(i.a),i.a=null)}function Dw(i){return i=new Mn(i.a),i.type="input",i}bu.prototype.o=function(){bu.K.o.call(this),this.h.m(),qm(this),delete this.g};function Eu(i,o){Ft.call(this),i&&(this.Oa&&Lw(this),this.qa=i,this.Na=Vi(this.qa,"keypress",this,o),this.Ya=Vi(this.qa,"keydown",this.Jb,o,this),this.Oa=Vi(this.qa,"keyup",this.Kb,o,this))}ge(Eu,Ft),t=Eu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Ow={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Mw={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Nw=!nn||Yi("525"),Vw=_i&&Kn;t=Eu.prototype,t.Jb=function(i){(nn||yi)&&(this.R==17&&!i.ctrlKey||this.R==18&&!i.altKey||_i&&this.R==91&&!i.metaKey)&&(this.X=this.R=-1),this.R==-1&&(i.ctrlKey&&i.keyCode!=17?this.R=17:i.altKey&&i.keyCode!=18?this.R=18:i.metaKey&&i.keyCode!=91&&(this.R=91)),Nw&&!Sw(i.keyCode,this.R,i.shiftKey,i.ctrlKey,i.altKey,i.metaKey)?this.handleEvent(i):(this.X=Km(i.keyCode),Vw&&(this.Ua=i.altKey))},t.Kb=function(i){this.X=this.R=-1,this.Ua=i.altKey},t.handleEvent=function(i){var o=i.a,u=o.altKey;if(Ye&&i.type=="keypress")var d=this.X,m=d!=13&&d!=27?o.keyCode:0;else(nn||yi)&&i.type=="keypress"?(d=this.X,m=0<=o.charCode&&63232>o.charCode&&wu(d)?o.charCode:0):ds&&!nn?(d=this.X,m=wu(d)?o.keyCode:0):(i.type=="keypress"?(Vw&&(u=this.Ua),o.keyCode==o.charCode?32>o.keyCode?(d=o.keyCode,m=0):(d=this.X,m=o.charCode):(d=o.keyCode||this.X,m=o.charCode||0)):(d=o.keyCode||this.X,m=o.charCode||0),_i&&m==63&&d==224&&(d=191));var v=d=Km(d);d?63232<=d&&d in Ow?v=Ow[d]:d==25&&i.shiftKey&&(v=9):o.keyIdentifier&&o.keyIdentifier in Mw&&(v=Mw[o.keyIdentifier]),Kn&&Nw&&i.type=="keypress"&&!Sw(v,this.R,i.shiftKey,i.ctrlKey,u,i.metaKey)||(i=v==this.R,this.R=v,o=new Fw(v,m,i,o),o.altKey=u,_s(this,o))},t.N=function(){return this.qa};function Lw(i){i.Na&&(ys(i.Na),ys(i.Ya),ys(i.Oa),i.Na=null,i.Ya=null,i.Oa=null),i.qa=null,i.R=-1,i.X=-1}t.o=function(){Eu.K.o.call(this),Lw(this)};function Fw(i,o,u,d){Mn.call(this,d),this.type="key",this.keyCode=i,this.j=o,this.repeat=u}ge(Fw,Mn);function ka(i,o,u,d){this.top=i,this.right=o,this.bottom=u,this.left=d}ka.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},ka.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},ka.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},ka.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Cd(i,o){var u=co(i);return u.defaultView&&u.defaultView.getComputedStyle&&(i=u.defaultView.getComputedStyle(i,null))&&(i[o]||i.getPropertyValue(o))||""}function Uw(i){try{var o=i.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Ye&&i.ownerDocument.body&&(i=i.ownerDocument,o.left-=i.documentElement.clientLeft+i.body.clientLeft,o.top-=i.documentElement.clientTop+i.body.clientTop),o}function Ok(i,o){o=o||gs(document);var u=o||gs(document),d=jw(i),m=jw(u);if(!Ye||9<=Number(so)){E=Cd(u,"borderLeftWidth");var v=Cd(u,"borderRightWidth");k=Cd(u,"borderTopWidth"),$=Cd(u,"borderBottomWidth"),v=new ka(parseFloat(k),parseFloat(v),parseFloat($),parseFloat(E))}else{var E=Rd(u,"borderLeft");v=Rd(u,"borderRight");var k=Rd(u,"borderTop"),$=Rd(u,"borderBottom");v=new ka(k,v,$,E)}u==gs(document)?(E=d.a-u.scrollLeft,d=d.g-u.scrollTop,!Ye||10<=Number(so)||(E+=v.left,d+=v.top)):(E=d.a-m.a-v.left,d=d.g-m.g-v.top),m=i.offsetWidth,v=i.offsetHeight,k=nn&&!m&&!v,b(m)&&!k||!i.getBoundingClientRect?i=new zl(m,v):(i=Uw(i),i=new zl(i.right-i.left,i.bottom-i.top)),m=u.clientHeight-i.height,v=u.scrollLeft,k=u.scrollTop,v+=Math.min(E,Math.max(E-(u.clientWidth-i.width),0)),k+=Math.min(d,Math.max(d-m,0)),u=new Zi(v,k),o.scrollLeft=u.a,o.scrollTop=u.g}function jw(i){var o=co(i),u=new Zi(0,0),d=o?co(o):document;return d=!Ye||9<=Number(so)||Rr(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,i==d||(i=Uw(i),d=Rr(o).a,o=gs(d),d=d.parentWindow||d.defaultView,o=Ye&&Yi("10")&&d.pageYOffset!=o.scrollTop?new Zi(o.scrollLeft,o.scrollTop):new Zi(d.pageXOffset||o.scrollLeft,d.pageYOffset||o.scrollTop),u.a=i.left+o.a,u.g=i.top+o.g),u}var Bw={thin:2,medium:4,thick:6};function Rd(i,o){if((i.currentStyle?i.currentStyle[o+"Style"]:null)=="none")return 0;var u=i.currentStyle?i.currentStyle[o+"Width"]:null;if(u in Bw)i=Bw[u];else if(/^\d+px?$/.test(u))i=parseInt(u,10);else{o=i.style.left;var d=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left,i.style.left=u,u=i.style.pixelLeft,i.style.left=o,i.runtimeStyle.left=d,i=+u}return i}function Gm(){}D(Gm),Gm.prototype.a=0;function Eo(i){Ft.call(this),this.s=i||Rr(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}ge(Eo,Ft),t=Eo.prototype,t.Lb=Gm.Xa(),t.N=function(){return this.g};function He(i,o){return i.g?oa(o,i.g||i.s.a):null}function Tu(i){return i.L||(i.L=new Ca(i)),i.L}t.Za=function(i){if(this.Y&&this.Y!=i)throw Error("Method not supported");Eo.K.Za.call(this,i)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(i){if(this.na)throw Error("Component already rendered");this.g||this.kb(),i?i.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,zm(this,function(i){!i.na&&i.N()&&i.v()})},t.ya=function(){zm(this,function(i){i.na&&i.ya()}),this.L&&xw(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),zm(this,function(i){i.m()}),this.g&&Xe(this.g),this.Y=this.g=this.oa=this.Ea=null,Eo.K.o.call(this)};function zm(i,o){i.Ea&&En(i.Ea,o,void 0)}t.removeChild=function(i,o){if(i){var u=I(i)?i:i.cb||(i.cb=":"+(i.Lb.a++).toString(36));if(this.oa&&u?(i=this.oa,i=(i!==null&&u in i?i[u]:void 0)||null):i=null,u&&i){var d=this.oa;if(u in d&&delete d[u],Dn(this.Ea,i),o&&(i.ya(),i.g&&Xe(i.g)),o=i,o==null)throw Error("Unable to set parent component");o.Y=null,Eo.K.Za.call(o,null)}}if(!i)throw Error("Child is not in parent component");return i};function At(i,o){var u=Jl(i,"firebaseui-textfield");o?(ar(i,"firebaseui-input-invalid"),or(i,"firebaseui-input"),u&&ar(u,"firebaseui-textfield-invalid")):(ar(i,"firebaseui-input"),or(i,"firebaseui-input-invalid"),u&&or(u,"firebaseui-textfield-invalid"))}function xa(i,o,u){o=new bu(o),Tt(i,O(Ei,o)),Ra(Tu(i),o,"input",u)}function Iu(i,o,u){o=new Eu(o),Tt(i,O(Ei,o)),Ra(Tu(i),o,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function Mk(i,o,u){o=new Pa(o),Tt(i,O(Ei,o)),Ra(Tu(i),o,"focusin",u)}function Nk(i,o,u){o=new Pa(o),Tt(i,O(Ei,o)),Ra(Tu(i),o,"focusout",u)}function _t(i,o,u){o=new Sa(o),Tt(i,O(Ei,o)),Ra(Tu(i),o,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function li(i){or(i,"firebaseui-hidden")}function an(i,o){o&&Xl(i,o),ar(i,"firebaseui-hidden")}function Da(i){return!_u(i,"firebaseui-hidden")&&i.style.display!="none"}function Oa(i){i=i||{};var o=i.email,u=i.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=i.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+rn(o??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ue(d)}function Gn(i){i=i||{},i=i.label;var o='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return o=i?o+Te(i):o+"Next",ue(o+"</button>")}function Ym(){var i=""+Gn({label:ut("Sign In")});return ue(i)}function $w(){var i=""+Gn({label:ut("Save")});return ue(i)}function Li(){var i=""+Gn({label:ut("Continue")});return ue(i)}function Hw(i){i=i||{},i=i.label;var o='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return o=i?o+Te(i):o+"Choose password",ue(o+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Ww(){var i={},o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return o=i.current?o+"Current password":o+"Password",ue(o+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Kw(){return ue('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ui(i){i=i||{},i=i.label;var o='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return o=i?o+Te(i):o+"Cancel",ue(o+"</button>")}function mn(i){var o="";return i.F&&i.D&&(o+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ue(o)}function Ma(i){var o="";return i.F&&i.D&&(o+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ue(o)}function qw(i){return i='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Te(i.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ue(i)}qw.a="firebaseui.auth.soy2.element.infoBar";function Gw(i){var o=i.content;return i=i.Ab,ue('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(i?" "+rn(i):"")+'">'+Te(o)+"</dialog>")}function zw(i){var o=i.message;return ue(Gw({content:fo('<div class="firebaseui-dialog-icon-wrapper"><div class="'+rn(i.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Te(o)+"</div>")}))}zw.a="firebaseui.auth.soy2.element.progressDialog";function Yw(i){var o='<div class="firebaseui-list-box-actions">';i=i.items;for(var u=i.length,d=0;d<u;d++){var m=i[d];o+='<button type="button" data-listboxid="'+rn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+rn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Te(m.label)+"</div></button>"}return o=""+Gw({Ab:ut("firebaseui-list-box-dialog"),content:fo(o+"</div>")}),ue(o)}Yw.a="firebaseui.auth.soy2.element.listBoxDialog";function kd(i){return i=i||{},ue(i.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}kd.a="firebaseui.auth.soy2.element.busyIndicator";function Es(i,o){return i=i||{},i=i.ga,je(i.S?i.S:o.hb[i.providerId]?""+o.hb[i.providerId]:i.providerId&&i.providerId.indexOf("saml.")==0||i.providerId&&i.providerId.indexOf("oidc.")==0?i.providerId.substring(5):""+i.providerId)}function Xm(i){Xw(i,"upgradeElement")}function Jm(i){Xw(i,"downgradeElements")}var Vk=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Xw(i,o){i&&window.componentHandler&&window.componentHandler[o]&&Vk.forEach(function(u){_u(i,u)&&window.componentHandler[o](i),En(ps(u,i),function(d){window.componentHandler[o](d)})})}function Jw(i,o,u){if(xd.call(this),document.body.appendChild(i),i.showModal||window.dialogPolyfill.registerDialog(i),i.showModal(),Xm(i),o&&_t(this,i,function(v){var E=i.getBoundingClientRect();(v.clientX<E.left||E.left+E.width<v.clientX||v.clientY<E.top||E.top+E.height<v.clientY)&&xd.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(i.open){var v=i.getBoundingClientRect().height,E=d.getBoundingClientRect().height,k=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,$=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,te=i.getBoundingClientRect().width,pe=d.getBoundingClientRect().width;i.style.top=(k+(E-v)/2).toString()+"px",v=$+(pe-te)/2,i.style.left=v.toString()+"px",i.style.right=(document.body.getBoundingClientRect().width-v-te).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function xd(){var i=Qm.call(this);i&&(Jm(i),i.open&&i.close(),Xe(i),this.da&&window.removeEventListener("resize",this.da))}function Qm(){return oa("firebaseui-id-dialog")}function Qw(){Xe(Zw.call(this))}function Zw(){return He(this,"firebaseui-id-info-bar")}function eb(){return He(this,"firebaseui-id-dismiss-info-bar")}var Lk={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Zm(i,o,u){Dr.call(this,i,o);for(var d in u)this[d]=u[d]}ge(Zm,Dr);function G(i,o,u,d,m){Eo.call(this,u),this.fb=i,this.eb=o,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=he(Lk),ye(this.Z,m||{})}ge(G,Eo),t=G.prototype,t.kb=function(){var i=Ni(this.fb,this.eb,this.Z,this.s);Xm(i),this.g=i},t.v=function(){if(G.K.v.call(this),n0(pt(this),new Zm("pageEnter",pt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var i=this.Z.F;_t(this,this.bb(),function(){i()})}if(this.ab()&&this.Z.D){var o=this.Z.D;_t(this,this.ab(),function(){o()})}},t.ya=function(){n0(pt(this),new Zm("pageExit",pt(this),{pageId:this.Ga})),G.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Jm(this.N()),G.K.o.call(this)};function Fk(i){i.Fa=!0;var o=_u(i.N(),"firebaseui-use-spinner");i.ca=window.setTimeout(function(){i.N()&&i.A===null&&(i.A=Ni(kd,{tb:o},null,i.s),i.N().appendChild(i.A),Xm(i.A))},500)}t.I=function(i,o,u,d){function m(){if(v.T)return null;v.Fa=!1,window.clearTimeout(v.ca),v.ca=null,v.A&&(Jm(v.A),Xe(v.A),v.A=null)}var v=this;return v.Fa?null:(Fk(v),i.apply(null,o).then(u,d).then(m,m))};function pt(i){return i.N().parentElement||i.N().parentNode}function Au(i,o,u){Iu(i,o,function(){u.focus()})}function Na(i,o,u){Iu(i,o,function(){u()})}M(G.prototype,{a:function(i){Qw.call(this);var o=Ni(qw,{message:i},null,this.s);this.N().appendChild(o),_t(this,eb.call(this),function(){Xe(o)})},yc:Qw,Ac:Zw,zc:eb,$:function(i,o){i=Ni(zw,{Ma:i,message:o},null,this.s),Jw.call(this,i)},h:xd,Cb:Qm,Cc:function(){return He(this,"firebaseui-tos")},bb:function(){return He(this,"firebaseui-tos-link")},ab:function(){return He(this,"firebaseui-pp-link")},Dc:function(){return He(this,"firebaseui-tos-list")}});function tb(i,o,u){i=i||{},o=i.Va;var d=i.ia;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Oa(i)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?ui(null):"")+Gn(null)+'</div></div><div class="firebaseui-card-footer">'+(d?Ma(u):mn(u))+"</div></form></div>",ue(i)}tb.a="firebaseui.auth.soy2.page.signIn";function nb(i,o,u){return i=i||{},o=i.ia,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Oa(i)+Ww()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Kw()+'</div><div class="firebaseui-form-actions">'+Ym()+'</div></div><div class="firebaseui-card-footer">'+(o?Ma(u):mn(u))+"</div></form></div>",ue(i)}nb.a="firebaseui.auth.soy2.page.passwordSignIn";function ib(i,o,u){i=i||{};var d=i.Tb;o=i.Ta;var m=i.ia,v='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Oa(i);return d?(i=i||{},i=i.name,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+rn(i??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',i=ue(i)):i="",u=v+i+Hw(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?ui(null):"")+$w()+'</div></div><div class="firebaseui-card-footer">'+(m?Ma(u):mn(u))+"</div></form></div>",ue(u)}ib.a="firebaseui.auth.soy2.page.passwordSignUp";function rb(i,o,u){return i=i||{},o=i.Ta,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Oa(i)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?ui(null):"")+Gn({label:ut("Send")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(i)}rb.a="firebaseui.auth.soy2.page.passwordRecovery";function sb(i,o,u){o=i.G;var d="";return i="Follow the instructions sent to <strong>"+(Te(i.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions">',o&&(d+='<div class="firebaseui-form-actions">'+Gn({label:ut("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+mn(u)+"</div></div>",ue(d)}sb.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function ob(i,o,u){return ue('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+kd(null)+"</div></div>")}ob.a="firebaseui.auth.soy2.page.callback";function ab(i,o,u){return ue('<div class="firebaseui-container firebaseui-id-page-spinner">'+kd({tb:!0})+"</div>")}ab.a="firebaseui.auth.soy2.page.spinner";function lb(){return ue('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}lb.a="firebaseui.auth.soy2.page.blank";function ub(i,o,u){o="",i="A sign-in email with additional instructions was sent to <strong>"+(Te(i.email)+"</strong>. Check your email to complete sign-in.");var d=ue('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+ui({label:ut("Back")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}ub.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function cb(i,o,u){return i=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ue('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ui({label:ut("Back")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(i)}cb.a="firebaseui.auth.soy2.page.emailNotReceived";function hb(i,o,u){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Oa(i)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui(null)+Gn(null)+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(i)}hb.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function db(){var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui({label:ut("Dismiss")})+"</div></div></div>";return ue(i)}db.a="firebaseui.auth.soy2.page.differentDeviceError";function fb(){var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui({label:ut("Dismiss")})+"</div></div></div>";return ue(i)}fb.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function pb(i,o,u){return o="",i="You’ve already used <strong>"+(Te(i.email)+"</strong> to sign in. Enter your password for that account."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+i+"</p>"+Ww()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Kw()+'</div><div class="firebaseui-form-actions">'+Ym()+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}pb.a="firebaseui.auth.soy2.page.passwordLinking";function mb(i,o,u){var d=i.email;return o="",i=""+Es(i,u),i=ut(i),d="You’ve already used <strong>"+(Te(d)+("</strong>. You can connect your <strong>"+(Te(i)+("</strong> account with <strong>"+(Te(d)+"</strong> by signing in with email link below."))))),i="For this flow to successfully connect your "+(Te(i)+" account with this email, you have to open the link on the same device or browser."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ym()+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}mb.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function gb(i,o,u){o="";var d=""+Es(i,u);return d=ut(d),i="You originally intended to connect <strong>"+(Te(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(Te(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+i+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Li()+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}gb.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function vb(i,o,u){var d=i.email;return o="",i=""+Es(i,u),i=ut(i),d="You’ve already used <strong>"+(Te(d)+("</strong>. Sign in with "+(Te(i)+" to continue."))),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gn({label:ut("Sign in with "+i)})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}vb.a="firebaseui.auth.soy2.page.federatedLinking";function yb(i,o,u){i=i||{};var d=i.kc;o=i.yb,i=i.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(Te(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",o&&(o="Please contact <strong>"+(Te(o)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+o+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',i&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+ui({label:ut("Back")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(m)}yb.a="firebaseui.auth.soy2.page.unauthorizedUser";function _b(i,o,u){return o="",i="To continue sign in with <strong>"+(Te(i.email)+"</strong> on this device, you have to recover the password."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui(null)+Gn({label:ut("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}_b.a="firebaseui.auth.soy2.page.unsupportedProvider";function wb(i){var o="",u='<p class="firebaseui-text">for <strong>'+(Te(i.email)+"</strong></p>");return o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+Hw(nu(i))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$w()+"</div></div></form></div>",ue(o)}wb.a="firebaseui.auth.soy2.page.passwordReset";function bb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}bb.a="firebaseui.auth.soy2.page.passwordResetSuccess";function Eb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}Eb.a="firebaseui.auth.soy2.page.passwordResetFailure";function Tb(i){var o=i.G,u="";return i="Your sign-in email address has been changed back to <strong>"+(Te(i.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(o?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></form></div>",ue(u)}Tb.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function Ib(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}Ib.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function Ab(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}Ab.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function Sb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}Sb.a="firebaseui.auth.soy2.page.emailVerificationFailure";function Pb(i){var o=i.G,u="";return i="You can now sign in with your new email <strong>"+(Te(i.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions">'+(o?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(u)}Pb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function Cb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}Cb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function Rb(i){var o=i.factorId,u=i.phoneNumber;i=i.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(o){case"phone":o="The <strong>"+(Te(o)+(" "+(Te(u)+"</strong> was removed as a second authentication step."))),d+=o;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(i?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></form></div>",ue(d)}Rb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function kb(i){return i=i||{},i=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(i.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",ue(i)}kb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function xb(i){var o=i.zb;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Te(i.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',o&&(i+=Gn({label:ut("Retry")})),ue(i+"</div></div></div>")}xb.a="firebaseui.auth.soy2.page.recoverableError";function Db(i){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Te(i.errorMessage)+"</p></div></div>",ue(i)}Db.a="firebaseui.auth.soy2.page.unrecoverableError";function Ob(i,o,u){var d=i.Qb;return o="",i="Continue with "+(Te(i.jc)+"?"),d="You originally wanted to sign in with "+Te(d),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+i+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui(null)+Gn({label:ut("Continue")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form></div>",ue(o)}Ob.a="firebaseui.auth.soy2.page.emailMismatch";function Mb(i,o,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';i=i.Sb,o=i.length;for(var m=0;m<o;m++){var v={ga:i[m]},E=u;v=v||{};var k=v.ga,$=v;$=$||{};var te="";switch($.ga.providerId){case"google.com":te+="firebaseui-idp-google";break;case"github.com":te+="firebaseui-idp-github";break;case"facebook.com":te+="firebaseui-idp-facebook";break;case"twitter.com":te+="firebaseui-idp-twitter";break;case"phone":te+="firebaseui-idp-phone";break;case"anonymous":te+="firebaseui-idp-anonymous";break;case"password":te+="firebaseui-idp-password";break;default:te+="firebaseui-idp-generic"}$='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+rn(je(te))+' firebaseui-id-idp-button" data-provider-id="'+rn(k.providerId)+'" style="background-color:',te=(te=v)||{},te=te.ga,$=$+rn(ir(je(te.ta?te.ta:E.wa[te.providerId]?""+E.wa[te.providerId]:te.providerId.indexOf("saml.")==0?""+E.wa.saml:te.providerId.indexOf("oidc.")==0?""+E.wa.oidc:""+E.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var pe=v;te=E,pe=pe||{},pe=pe.ga,te=tu(pe.za?nr(pe.za):te.xa[pe.providerId]?nr(te.xa[pe.providerId]):pe.providerId.indexOf("saml.")==0?nr(te.xa.saml):pe.providerId.indexOf("oidc.")==0?nr(te.xa.oidc):nr(te.xa.password)),$=$+rn(nr(te))+'"></span>',k.providerId=="password"?($+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',k.V?$+=Te(k.V):k.S?(v="Sign in with "+Te(Es(v,E)),$+=v):$+="Sign in with email",$+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',$=k.S?$+Te(k.S):$+"Email",$+="</span>"):k.providerId=="phone"?($+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',k.V?$+=Te(k.V):k.S?(v="Sign in with "+Te(Es(v,E)),$+=v):$+="Sign in with phone",$+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',$=k.S?$+Te(k.S):$+"Phone",$+="</span>"):k.providerId=="anonymous"?($+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',k.V?$+=Te(k.V):k.S?(v="Sign in with "+Te(Es(v,E)),$+=v):$+="Continue as guest",$+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',$=k.S?$+Te(k.S):$+"Guest",$+="</span>"):($+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',k.V?$+=Te(k.V):(te="Sign in with "+Te(Es(v,E)),$+=te),$+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(k.S?Te(k.S):Te(Es(v,E)))+"</span>"),k=ue($+"</button>"),d+='<li class="firebaseui-list-item">'+k+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ma(u)+"</div></div>",ue(d)}Mb.a="firebaseui.auth.soy2.page.providerSignIn";function Nb(i,o,u){i=i||{};var d=i.Gb,m=i.Va;o=i.ia,i=i||{},i=i.Aa,i='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+rn(i??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ue(i);var v;return d?v=ue('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):v="",v=i+v+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?ui(null):"")+Gn({label:ut("Verify")})+'</div></div><div class="firebaseui-card-footer">',o?(o='<p class="firebaseui-tos firebaseui-phone-tos">',o=u.F&&u.D?o+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':o+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ue(o+"</p>")):u=ue('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+mn(u),ue(v+u+"</div></form></div>")}Nb.a="firebaseui.auth.soy2.page.phoneSignInStart";function Vb(i,o,u){i=i||{},o=i.phoneNumber;var d="";return i='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Te(o)+"</a>"),Te(o),o=d,d=ue('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui(null)+Gn({label:ut("Continue")})+'</div></div><div class="firebaseui-card-footer">'+mn(u)+"</div></form>",i=ue('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ue(o+(u+i+"</div>"))}Vb.a="firebaseui.auth.soy2.page.phoneSignInFinish";function Lb(){return ue('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}Lb.a="firebaseui.auth.soy2.page.signOut";function Fb(i,o,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';i=i.ec,o=i.length;for(var m=0;m<o;m++){var v=i[m],E="",k=Te(v.displayName),$=v.tenantId?v.tenantId:"top-level-project";$=ut($),E+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+rn($)+' firebaseui-id-tenant-selection-button"'+(v.tenantId?'data-tenant-id="'+rn(v.tenantId)+'"':"")+'style="background-color:'+rn(ir(v.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+rn(nr(v.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',v.V?E+=Te(v.V):(v="Sign in to "+Te(v.displayName),E+=v),E=ue(E+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+k+"</span></button>")),d+='<li class="firebaseui-list-item">'+E+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ma(u)+"</div></div>",ue(d)}Fb.a="firebaseui.auth.soy2.page.selectTenant";function Ub(i,o,u){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Oa(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gn(null)+'</div></div><div class="firebaseui-card-footer">'+Ma(u)+"</div></form></div>",ue(i)}Ub.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Qt(){return He(this,"firebaseui-id-submit")}function jt(){return He(this,"firebaseui-id-secondary-link")}function ln(i,o){_t(this,Qt.call(this),function(d){i(d)});var u=jt.call(this);u&&o&&_t(this,u,function(d){o(d)})}function Dd(){return He(this,"firebaseui-id-password")}function Od(){return He(this,"firebaseui-id-password-error")}function jb(){var i=Dd.call(this),o=Od.call(this);xa(this,i,function(){Da(o)&&(At(i,!0),li(o))})}function Bb(){var i=Dd.call(this),o=Od.call(this);return on(i)?(At(i,!0),li(o),o=!0):(At(i,!1),an(o,je("Enter your password").toString()),o=!1),o?on(i):null}function Va(i,o,u,d,m,v){G.call(this,pb,{email:i},v,"passwordLinking",{F:d,D:m}),this.w=o,this.H=u}c(Va,G),Va.prototype.v=function(){this.P(),this.M(this.w,this.H),Na(this,this.i(),this.w),this.i().focus(),G.prototype.v.call(this)},Va.prototype.o=function(){this.w=null,G.prototype.o.call(this)},Va.prototype.j=function(){return on(He(this,"firebaseui-id-email"))},M(Va.prototype,{i:Dd,B:Od,P:jb,u:Bb,ea:Qt,ba:jt,M:ln});var Uk=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Nr(){return He(this,"firebaseui-id-email")}function Ts(){return He(this,"firebaseui-id-email-error")}function La(i){var o=Nr.call(this),u=Ts.call(this);xa(this,o,function(){Da(u)&&(At(o,!0),li(u))}),i&&Iu(this,o,function(){i()})}function Fa(){return L(on(Nr.call(this))||"")}function Ua(){var i=Nr.call(this),o=Ts.call(this),u=on(i)||"";return u?Uk.test(u)?(At(i,!0),li(o),o=!0):(At(i,!1),an(o,je("That email address isn't correct").toString()),o=!1):(At(i,!1),an(o,je("Enter your email address to continue").toString()),o=!1),o?L(on(i)):null}function Su(i,o,u,d,m,v,E){G.call(this,nb,{email:u,ia:!!v},E,"passwordSignIn",{F:d,D:m}),this.w=i,this.H=o}c(Su,G),Su.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Au(this,this.l(),this.i()),Na(this,this.i(),this.w),on(this.l())?this.i().focus():this.l().focus(),G.prototype.v.call(this)},Su.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},M(Su.prototype,{l:Nr,U:Ts,P:La,M:Fa,j:Ua,i:Dd,B:Od,ea:jb,u:Bb,ua:Qt,pa:jt,ba:ln});function Je(i,o,u,d,m,v){G.call(this,i,o,d,m||"notice",v),this.i=u||null}ge(Je,G),Je.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Je.K.v.call(this)},Je.prototype.o=function(){this.i=null,Je.K.o.call(this)},M(Je.prototype,{l:Qt,w:jt,u:ln});function Md(i,o,u,d,m){Je.call(this,sb,{email:i,G:!!o},o,m,"passwordRecoveryEmailSent",{F:u,D:d})}ge(Md,Je);function $b(i,o){Je.call(this,Ab,{G:!!i},i,o,"emailVerificationSuccess")}ge($b,Je);function Hb(i,o){Je.call(this,Sb,{G:!!i},i,o,"emailVerificationFailure")}ge(Hb,Je);function Wb(i,o,u){Je.call(this,Pb,{email:i,G:!!o},o,u,"verifyAndChangeEmailSuccess")}ge(Wb,Je);function Kb(i,o){Je.call(this,Cb,{G:!!i},i,o,"verifyAndChangeEmailFailure")}ge(Kb,Je);function qb(i,o){Je.call(this,kb,{G:!!i},i,o,"revertSecondFactorAdditionFailure")}ge(qb,Je);function Gb(i){Je.call(this,Lb,void 0,void 0,i,"signOut")}ge(Gb,Je);function zb(i,o){Je.call(this,bb,{G:!!i},i,o,"passwordResetSuccess")}ge(zb,Je);function Yb(i,o){Je.call(this,Eb,{G:!!i},i,o,"passwordResetFailure")}ge(Yb,Je);function Xb(i,o){Je.call(this,Ib,{G:!!i},i,o,"emailChangeRevokeFailure")}ge(Xb,Je);function Jb(i,o,u){Je.call(this,xb,{errorMessage:i,zb:!!o},o,u,"recoverableError")}ge(Jb,Je);function Qb(i,o){Je.call(this,Db,{errorMessage:i},void 0,o,"unrecoverableError")}ge(Qb,Je);function Pu(i){if(i.code==="auth/invalid-credential"&&i.message&&i.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(i.message&&i.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var o=JSON.parse(i.message.substring(i.message.indexOf("{"),i.message.lastIndexOf("}")+1));return{code:i.code,message:o&&o.error&&o.error.message||i.message}}return i}function Vr(i,o,u,d){function m(E){if(!E.name||E.name!="cancel"){e:{var k=E.message;try{var $=((JSON.parse(k).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if($&&$.length){var te=!0;break e}}catch{}te=!1}if(te)E=pt(o),o.m(),rt(i,E,void 0,je("Your sign-in session has expired. Please try again.").toString());else{if(te=E&&E.message||"",E.code){if(E.code=="auth/email-already-in-use"||E.code=="auth/credential-already-in-use")return;te=tt(E)}o.a(te)}}}if(wE(i),d)return Zb(i,u),It();if(!u.credential)throw Error("No credential found!");if(!Ue(i).currentUser&&!u.user)throw Error("User not logged in.");try{var v=vx(i,u)}catch(E){return oi(E.code||E.message,E),o.a(E.code||E.message),It()}return u=v.then(function(E){Zb(i,E)},m).then(void 0,m),Me(i,v),It(u)}function Zb(i,o){if(!o.user)throw Error("No user found");var u=bw(z(i));if(Um(z(i))&&u&&bs("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=bw(z(i));var d=ew(Ae(i))||void 0;qn(fu,Ae(i));var m=!1;w0()?((!u||u(o,d))&&(m=!0,On(window.opener.location,Nd(i,d))),u||window.close()):(!u||u(o,d))&&(m=!0,On(window.location,Nd(i,d))),m||i.reset()}else{u=o.user,o=o.credential,d=Um(z(i)),m=ew(Ae(i))||void 0,qn(fu,Ae(i));var v=!1;w0()?((!d||d(u,o,m))&&(v=!0,On(window.opener.location,Nd(i,m))),d||window.close()):(!d||d(u,o,m))&&(v=!0,On(window.location,Nd(i,m))),v||i.reset()}}function Nd(i,o){if(i=o||z(i).a.get("signInSuccessUrl"),!i)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return i}function tt(i){var o={code:i.code};o=o||{};var u="";switch(o.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=se();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=se();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=y();break;case"auth/invalid-verification-code":u+=je("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(o=je(u).toString())return o;try{return JSON.parse(i.message),oi("Internal error: "+i.message,void 0),A().toString()}catch{return i.message}}function jk(i,o,u){var d=Ea[o]&&me.auth[Ea[o]]?new me.auth[Ea[o]]:o.indexOf("saml.")==0?new me.auth.SAMLAuthProvider(o):new me.auth.OAuthProvider(o);if(!d)throw Error("Invalid Firebase Auth provider!");var m=gw(z(i),o);if(d.addScope)for(var v=0;v<m.length;v++)d.addScope(m[v]);return m=vw(z(i),o)||{},u&&(o==me.auth.GoogleAuthProvider.PROVIDER_ID?i="login_hint":o==me.auth.GithubAuthProvider.PROVIDER_ID?i="login":i=(i=gu(z(i),o))&&i.Ob,i&&(m[i]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function Cu(i,o,u,d){function m(){pk(new F0(i.h.tenantId||null),Ae(i)),Me(i,o.I(C(i.dc,i),[$],function(){if((window.location&&window.location.protocol)==="file:")return Me(i,mE(i).then(function(te){o.m(),qn(_o,Ae(i)),ce("callback",i,k,It(te))},v))},E))}function v(te){if(qn(_o,Ae(i)),!te.name||te.name!="cancel")switch(te=Pu(te),te.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":o.a(tt(te));break;case"auth/admin-restricted-operation":o.m(),bo(z(i))?ce("handleUnauthorizedUser",i,k,null,u):ce("callback",i,k,ha(te));break;default:o.m(),ce("callback",i,k,ha(te))}}function E(te){qn(_o,Ae(i)),te.name&&te.name=="cancel"||(oi("signInWithRedirect: "+te.code,void 0),te=tt(te),o.Ga=="blank"&&Fm(z(i))?(o.m(),ce("providerSignIn",i,k,te)):o.a(te))}var k=pt(o),$=jk(i,u,d);ww(z(i))==Ad?m():Me(i,gx(i,$).then(function(te){o.m(),ce("callback",i,k,It(te))},v))}function Bk(i,o){Me(i,o.I(C(i.$b,i),[],function(u){return o.m(),Vr(i,o,u,!0)},function(u){u.name&&u.name=="cancel"||(oi("ContinueAsGuest: "+u.code,void 0),u=tt(u),o.a(u))}))}function $k(i,o,u){function d(v){var E=!1;return v=o.I(C(i.ac,i),[v],function(k){var $=pt(o);o.m(),ce("callback",i,$,It(k)),E=!0},function(k){if((!k.name||k.name!="cancel")&&(!k||k.code!="auth/credential-already-in-use"))if(k&&k.code=="auth/email-already-in-use"&&k.email&&k.credential){var $=pt(o);o.m(),ce("callback",i,$,ha(k))}else k&&k.code=="auth/admin-restricted-operation"&&bo(z(i))?(k=pt(o),o.m(),ce("handleUnauthorizedUser",i,k,null,me.auth.GoogleAuthProvider.PROVIDER_ID)):(k=tt(k),o.a(k))}),Me(i,v),v.then(function(){return E},function(){return!1})}if(u&&u.credential&&u.clientId===pw(z(i))){if(gw(z(i),me.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Cu(i,o,me.auth.GoogleAuthProvider.PROVIDER_ID,m),It(!0)}return d(me.auth.GoogleAuthProvider.credential(u.credential))}return u&&o.a(je("The selected credential for the authentication provider is not supported!").toString()),It(!1)}function Hk(i,o){var u=o.j(),d=o.u();if(u)if(d){var m=me.auth.EmailAuthProvider.credential(u,d);Me(i,o.I(C(i.bc,i),[u,d],function(v){return Vr(i,o,{user:v.user,credential:m,operationType:v.operationType,additionalUserInfo:v.additionalUserInfo})},function(v){if(!v.name||v.name!="cancel")switch(v.code){case"auth/email-already-in-use":break;case"auth/email-exists":At(o.l(),!1),an(o.U(),tt(v));break;case"auth/too-many-requests":case"auth/wrong-password":At(o.i(),!1),an(o.B(),tt(v));break;default:oi("verifyPassword: "+v.message,void 0),o.a(tt(v))}}))}else o.i().focus();else o.l().focus()}function Vd(i){return i=Ta(z(i)),i.length==1&&i[0]==me.auth.EmailAuthProvider.PROVIDER_ID}function eE(i){return i=Ta(z(i)),i.length==1&&i[0]==me.auth.PhoneAuthProvider.PROVIDER_ID}function rt(i,o,u,d){Vd(i)?d?ce("signIn",i,o,u,d):tg(i,o,u):i&&eE(i)&&!d?ce("phoneSignInStart",i,o):i&&Fm(z(i))&&!d?ce("federatedRedirect",i,o,u):ce("providerSignIn",i,o,d,u)}function tE(i,o,u,d){var m=pt(o);Me(i,o.I(C(Ue(i).fetchSignInMethodsForEmail,Ue(i)),[u],function(v){o.m(),nE(i,m,v,u,d)},function(v){v=tt(v),o.a(v)}))}function nE(i,o,u,d,m,v){u.length||Ia(z(i))&&!Ia(z(i))?ot(u,me.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ce("passwordSignIn",i,o,d,v):u.length==1&&u[0]===me.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ia(z(i))?ce("sendEmailLinkForSignIn",i,o,d,function(){ce("signIn",i,o)}):ce("unsupportedProvider",i,o,d):(u=hw(u,Ta(z(i))))?(tw(new Am(d),Ae(i)),ce("federatedSignIn",i,o,d,u,m)):ce("unsupportedProvider",i,o,d):mw(z(i))?ce("handleUnauthorizedUser",i,o,d,me.auth.EmailAuthProvider.PROVIDER_ID):Ia(z(i))?ce("sendEmailLinkForSignIn",i,o,d,function(){ce("signIn",i,o)}):ce("passwordSignUp",i,o,d,void 0,void 0,v)}function eg(i,o,u,d,m,v){var E=pt(o);Me(i,o.I(C(i.Ib,i),[u,v],function(){o.m(),ce("emailLinkSignInSent",i,E,u,d,v)},m))}function tg(i,o,u){u?ce("prefilledEmailSignIn",i,o,u):ce("signIn",i,o)}function Ru(){return Xs(Mr(),"oobCode")}function ng(){var i=Xs(Mr(),"continueUrl");return i?function(){On(window.location,i)}:null}function ku(i,o){G.call(this,fb,void 0,o,"anonymousUserMismatch"),this.i=i}c(ku,G),ku.prototype.v=function(){var i=this;_t(this,this.l(),function(){i.i()}),this.l().focus(),G.prototype.v.call(this)},ku.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(ku.prototype,{l:jt}),ze.anonymousUserMismatch=function(i,o){var u=new ku(function(){u.m(),rt(i,o)});u.render(o),Le(i,u)};function Ld(i){G.call(this,ob,void 0,i,"callback")}c(Ld,G),Ld.prototype.I=function(i,o,u,d){return i.apply(null,o).then(u,d)};function iE(i,o,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=rr(Ae(i)),v=m&&m.g;if(v&&!Kk(u.user,v))Wk(i,o,d);else{var E=m&&m.a;E?Me(i,u.user.linkWithCredential(E).then(function(k){d={user:k.user,credential:E,operationType:k.operationType,additionalUserInfo:k.additionalUserInfo},rE(i,o,d)},function(k){Fd(i,o,k)})):rE(i,o,d)}}else u=pt(o),o.m(),sr(Ae(i)),rt(i,u)}function rE(i,o,u){sr(Ae(i)),Vr(i,o,u)}function Fd(i,o,u){var d=pt(o);sr(Ae(i)),u=tt(u),o.m(),rt(i,d,void 0,u)}function sE(i,o,u,d){var m=pt(o);Me(i,Ue(i).fetchSignInMethodsForEmail(u).then(function(v){o.m(),v.length?ot(v,me.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ce("passwordLinking",i,m,u):v.length==1&&v[0]===me.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ce("emailLinkSignInLinking",i,m,u):(v=hw(v,Ta(z(i))))?ce("federatedLinking",i,m,u,v,d):(sr(Ae(i)),ce("unsupportedProvider",i,m,u)):(sr(Ae(i)),ce("passwordRecovery",i,m,u,!1,j().toString()))},function(v){Fd(i,o,v)}))}function Wk(i,o,u){var d=pt(o);Me(i,Is(i).then(function(){o.m(),ce("emailMismatch",i,d,u)},function(m){m.name&&m.name=="cancel"||(m=tt(m.code),o.a(m))}))}function Kk(i,o){if(o==i.email)return!0;if(i.providerData){for(var u=0;u<i.providerData.length;u++)if(o==i.providerData[u].email)return!0}return!1}ze.callback=function(i,o,u){var d=new Ld;d.render(o),Le(i,d),u=u||mE(i),Me(i,u.then(function(m){iE(i,d,m)},function(m){if((m=Pu(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)tw(new Am(m.email,m.credential),Ae(i)),sE(i,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var v=rr(Ae(i)),E=tt(m);v&&v.a?sE(i,d,v.g,E):v?tE(i,d,v.g,E):Fd(i,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Vd(i)?iE(i,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&bo(z(i))?(d.m(),sr(Ae(i)),ce("handleUnauthorizedUser",i,o,null,null)):Fd(i,d,m))}))};function xu(i,o){G.call(this,db,void 0,o,"differentDeviceError"),this.i=i}c(xu,G),xu.prototype.v=function(){var i=this;_t(this,this.l(),function(){i.i()}),this.l().focus(),G.prototype.v.call(this)},xu.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(xu.prototype,{l:jt}),ze.differentDeviceError=function(i,o){var u=new xu(function(){u.m(),rt(i,o)});u.render(o),Le(i,u)};function Du(i,o,u,d){G.call(this,Tb,{email:i,G:!!u},d,"emailChangeRevoke"),this.l=o,this.i=u||null}c(Du,G),Du.prototype.v=function(){var i=this;_t(this,He(this,"firebaseui-id-reset-password-link"),function(){i.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},Du.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},M(Du.prototype,{u:Qt,B:jt,w:ln});function Ou(){return He(this,"firebaseui-id-new-password")}function Ud(){return He(this,"firebaseui-id-password-toggle")}function qk(){this.Ra=!this.Ra;var i=Ud.call(this),o=Ou.call(this);this.Ra?(o.type="text",or(i,"firebaseui-input-toggle-off"),ar(i,"firebaseui-input-toggle-on")):(o.type="password",or(i,"firebaseui-input-toggle-on"),ar(i,"firebaseui-input-toggle-off")),o.focus()}function jd(){return He(this,"firebaseui-id-new-password-error")}function oE(){this.Ra=!1;var i=Ou.call(this);i.type="password";var o=jd.call(this);xa(this,i,function(){Da(o)&&(At(i,!0),li(o))});var u=Ud.call(this);or(u,"firebaseui-input-toggle-on"),ar(u,"firebaseui-input-toggle-off"),Mk(this,i,function(){or(u,"firebaseui-input-toggle-focus"),ar(u,"firebaseui-input-toggle-blur")}),Nk(this,i,function(){or(u,"firebaseui-input-toggle-blur"),ar(u,"firebaseui-input-toggle-focus")}),_t(this,u,C(qk,this))}function aE(){var i=Ou.call(this),o=jd.call(this);return on(i)?(At(i,!0),li(o),o=!0):(At(i,!1),an(o,je("Enter your password").toString()),o=!1),o?on(i):null}function Mu(i,o,u){G.call(this,wb,{email:i},u,"passwordReset"),this.l=o}c(Mu,G),Mu.prototype.v=function(){this.H(),this.B(this.l),Na(this,this.i(),this.l),this.i().focus(),G.prototype.v.call(this)},Mu.prototype.o=function(){this.l=null,G.prototype.o.call(this)},M(Mu.prototype,{i:Ou,w:jd,M:Ud,H:oE,u:aE,U:Qt,P:jt,B:ln});function Nu(i,o,u,d,m){G.call(this,Rb,{factorId:i,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=o,this.i=d||null}c(Nu,G),Nu.prototype.v=function(){var i=this;_t(this,He(this,"firebaseui-id-reset-password-link"),function(){i.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},Nu.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},M(Nu.prototype,{u:Qt,B:jt,w:ln});function Gk(i,o,u,d,m){var v=u.u();v&&Me(i,u.I(C(Ue(i).confirmPasswordReset,Ue(i)),[d,v],function(){u.m();var E=new zb(m);E.render(o),Le(i,E)},function(E){lE(i,o,u,E)}))}function lE(i,o,u,d){(d&&d.code)=="auth/weak-password"?(i=tt(d),At(u.i(),!1),an(u.w(),i),u.i().focus()):(u&&u.m(),u=new Yb,u.render(o),Le(i,u))}function zk(i,o,u){var d=new Du(u,function(){Me(i,d.I(C(Ue(i).sendPasswordResetEmail,Ue(i)),[u],function(){d.m(),d=new Md(u,void 0,Ot(z(i)),Mt(z(i))),d.render(o),Le(i,d)},function(){d.a(w().toString())}))});d.render(o),Le(i,d)}function Yk(i,o,u,d){var m=new Nu(d.factorId,function(){m.I(C(Ue(i).sendPasswordResetEmail,Ue(i)),[u],function(){m.m(),m=new Md(u,void 0,Ot(z(i)),Mt(z(i))),m.render(o),Le(i,m)},function(){m.a(w().toString())})},d.phoneNumber);m.render(o),Le(i,m)}ze.passwordReset=function(i,o,u,d){Me(i,Ue(i).verifyPasswordResetCode(u).then(function(m){var v=new Mu(m,function(){Gk(i,o,v,u,d)});v.render(o),Le(i,v)},function(){lE(i,o)}))},ze.emailChangeRevocation=function(i,o,u){var d=null;Me(i,Ue(i).checkActionCode(u).then(function(m){return d=m.data.email,Ue(i).applyActionCode(u)}).then(function(){zk(i,o,d)},function(){var m=new Xb;m.render(o),Le(i,m)}))},ze.emailVerification=function(i,o,u,d){Me(i,Ue(i).applyActionCode(u).then(function(){var m=new $b(d);m.render(o),Le(i,m)},function(){var m=new Hb;m.render(o),Le(i,m)}))},ze.revertSecondFactorAddition=function(i,o,u){var d=null,m=null;Me(i,Ue(i).checkActionCode(u).then(function(v){return d=v.data.email,m=v.data.multiFactorInfo,Ue(i).applyActionCode(u)}).then(function(){Yk(i,o,d,m)},function(){var v=new qb;v.render(o),Le(i,v)}))},ze.verifyAndChangeEmail=function(i,o,u,d){var m=null;Me(i,Ue(i).checkActionCode(u).then(function(v){return m=v.data.email,Ue(i).applyActionCode(u)}).then(function(){var v=new Wb(m,d);v.render(o),Le(i,v)},function(){var v=new Kb;v.render(o),Le(i,v)}))};function Bd(i,o){try{var u=typeof i.selectionStart=="number"}catch{u=!1}u?(i.selectionStart=o,i.selectionEnd=o):Ye&&!Yi("9")&&(i.type=="textarea"&&(o=i.value.substring(0,o).replace(/(\r\n|\r|\n)/g,`
`).length),i=i.createTextRange(),i.collapse(!0),i.move("character",o),i.select())}function Vu(i,o,u,d,m,v){G.call(this,hb,{email:u},v,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=i,this.u=o}c(Vu,G),Vu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Bd(this.i(),(this.i().value||"").length),G.prototype.v.call(this)},Vu.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},M(Vu.prototype,{i:Nr,M:Ts,w:La,H:Fa,j:Ua,U:Qt,P:jt,B:ln}),ze.emailLinkConfirmation=function(i,o,u,d,m,v){var E=new Vu(function(){var k=E.j();k?(E.m(),d(i,o,k,u)):E.i().focus()},function(){E.m(),rt(i,o,m||void 0)},m||void 0,Ot(z(i)),Mt(z(i)));E.render(o),Le(i,E),v&&E.a(v)};function Lu(i,o,u,d,m){G.call(this,gb,{ga:i},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=o}c(Lu,G),Lu.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Lu.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(Lu.prototype,{l:Qt,u:ln}),ze.emailLinkNewDeviceLinking=function(i,o,u,d){var m=new xi(u);if(u=m.a.a.get(ft.PROVIDER_ID)||null,Ul(m,null),u){var v=new Lu(gu(z(i),u),function(){v.m(),d(i,o,m.toString())},Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v)}else rt(i,o)};function $d(i){G.call(this,lb,void 0,i,"blank")}c($d,G);function ig(i,o,u,d,m){var v=new $d,E=new xi(u),k=E.a.a.get(ft.$a)||"",$=E.a.a.get(ft.Sa)||"",te=E.a.a.get(ft.Qa)==="1",pe=Fl(E),Qe=E.a.a.get(ft.PROVIDER_ID)||null;E=E.a.a.get(ft.vb)||null,bE(i,E);var ji=!wa(_a,Ae(i)),SE=d||mk($,Ae(i)),Xu=(d=gk($,Ae(i)))&&d.a;Qe&&Xu&&Xu.providerId!==Qe&&(Xu=null),v.render(o),Le(i,v),Me(i,v.I(function(){var Ti=It(null);Ti=pe&&ji||ji&&te?ha(Error("anonymous-user-not-found")):fx(i,u).then(function(pg){if(Qe&&!Xu)throw Error("pending-credential-not-found");return pg});var Ju=null;return Ti.then(function(pg){return Ju=pg,m?null:Ue(i).checkActionCode(k)}).then(function(){return Ju})},[],function(Ti){SE?Jk(i,v,SE,u,Xu,Ti):te?(v.m(),ce("differentDeviceError",i,o)):(v.m(),ce("emailLinkConfirmation",i,o,u,uE))},function(Ti){var Ju=void 0;if(!Ti||!Ti.name||Ti.name!="cancel")switch(v.m(),Ti&&Ti.message){case"anonymous-user-not-found":ce("differentDeviceError",i,o);break;case"anonymous-user-mismatch":ce("anonymousUserMismatch",i,o);break;case"pending-credential-not-found":ce("emailLinkNewDeviceLinking",i,o,u,Xk);break;default:Ti&&(Ju=tt(Ti)),rt(i,o,void 0,Ju)}}))}function uE(i,o,u,d){ig(i,o,d,u,!0)}function Xk(i,o,u){ig(i,o,u)}function Jk(i,o,u,d,m,v){var E=pt(o);o.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",je("Signing in...").toString());var k=null;m=(v?px(i,v,u,d,m):mx(i,u,d,m)).then(function($){qn(pu,Ae(i)),qn(_a,Ae(i)),o.h(),o.$("firebaseui-icon-done",je("Signed in!").toString()),k=setTimeout(function(){o.h(),Vr(i,o,$,!0)},1e3),Me(i,function(){o&&(o.h(),o.m()),clearTimeout(k)})},function($){if(o.h(),o.m(),!$.name||$.name!="cancel"){$=Pu($);var te=tt($);$.code=="auth/email-already-in-use"||$.code=="auth/credential-already-in-use"?(qn(pu,Ae(i)),qn(_a,Ae(i))):$.code=="auth/invalid-email"?(te=je("The email provided does not match the current sign-in session.").toString(),ce("emailLinkConfirmation",i,E,d,uE,null,te)):rt(i,E,u,te)}}),Me(i,m)}ze.emailLinkSignInCallback=ig;function Fu(i,o,u,d,m,v){G.call(this,mb,{email:i,ga:o},v,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}c(Fu,G),Fu.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Fu.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(Fu.prototype,{l:Qt,u:ln});function Qk(i,o,u,d){var m=pt(o);eg(i,o,u,function(){rt(i,m,u)},function(v){if(!v.name||v.name!="cancel"){var E=tt(v);v&&v.code=="auth/network-request-failed"?o.a(E):(o.m(),rt(i,m,u,E))}},d)}ze.emailLinkSignInLinking=function(i,o,u){var d=rr(Ae(i));if(sr(Ae(i)),d){var m=d.a.providerId,v=new Fu(u,gu(z(i),m),function(){Qk(i,v,u,d)},Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v)}else rt(i,o)};function Uu(i,o,u,d,m,v){G.call(this,ub,{email:i},v,"emailLinkSignInSent",{F:d,D:m}),this.u=o,this.i=u}c(Uu,G),Uu.prototype.v=function(){var i=this;_t(this,this.l(),function(){i.i()}),_t(this,He(this,"firebaseui-id-trouble-getting-email-link"),function(){i.u()}),this.l().focus(),G.prototype.v.call(this)},Uu.prototype.o=function(){this.i=this.u=null,G.prototype.o.call(this)},M(Uu.prototype,{l:jt}),ze.emailLinkSignInSent=function(i,o,u,d,m){var v=new Uu(u,function(){v.m(),ce("emailNotReceived",i,o,u,d,m)},function(){v.m(),d()},Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v)};function ju(i,o,u,d,m,v,E){G.call(this,Ob,{jc:i,Qb:o},E,"emailMismatch",{F:m,D:v}),this.l=u,this.i=d}c(ju,G),ju.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},ju.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(ju.prototype,{u:Qt,B:jt,w:ln}),ze.emailMismatch=function(i,o,u){var d=rr(Ae(i));if(d){var m=new ju(u.user.email,d.g,function(){var v=m;sr(Ae(i)),Vr(i,v,u)},function(){var v=u.credential.providerId,E=pt(m);m.m(),d.a?ce("federatedLinking",i,E,d.g,v):ce("federatedSignIn",i,E,d.g,v)},Ot(z(i)),Mt(z(i)));m.render(o),Le(i,m)}else rt(i,o)};function ja(i,o,u,d,m){G.call(this,cb,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=i,this.i=o}c(ja,G),ja.prototype.v=function(){var i=this;_t(this,this.u(),function(){i.i()}),_t(this,this.Da(),function(){i.l()}),this.u().focus(),G.prototype.v.call(this)},ja.prototype.Da=function(){return He(this,"firebaseui-id-resend-email-link")},ja.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},M(ja.prototype,{u:jt}),ze.emailNotReceived=function(i,o,u,d,m){var v=new ja(function(){eg(i,v,u,d,function(E){E=tt(E),v.a(E)},m)},function(){v.m(),rt(i,o,u)},Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v)};function Ba(i,o,u,d,m,v){G.call(this,vb,{email:i,ga:o},v,"federatedLinking",{F:d,D:m}),this.i=u}c(Ba,G),Ba.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Ba.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(Ba.prototype,{l:Qt,u:ln}),ze.federatedLinking=function(i,o,u,d,m){var v=rr(Ae(i));if(v&&v.a){var E=new Ba(u,gu(z(i),d),function(){Cu(i,E,d,u)},Ot(z(i)),Mt(z(i)));E.render(o),Le(i,E),m&&E.a(m)}else rt(i,o)},ze.federatedRedirect=function(i,o,u){var d=new $d;d.render(o),Le(i,d),o=Ta(z(i))[0],Cu(i,d,o,u)},ze.federatedSignIn=function(i,o,u,d,m){var v=new Ba(u,gu(z(i),d),function(){Cu(i,v,d,u)},Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v),m&&v.a(m)};function Zk(i,o,u,d){var m=o.u();m?Me(i,o.I(C(i.Xb,i),[u,m],function(v){return v=v.user.linkWithCredential(d).then(function(E){return Vr(i,o,{user:E.user,credential:d,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo})}),Me(i,v),v},function(v){if(!v.name||v.name!="cancel")switch(v.code){case"auth/wrong-password":At(o.i(),!1),an(o.B(),tt(v));break;case"auth/too-many-requests":o.a(tt(v));break;default:oi("signInWithEmailAndPassword: "+v.message,void 0),o.a(tt(v))}})):o.i().focus()}ze.passwordLinking=function(i,o,u){var d=rr(Ae(i));sr(Ae(i));var m=d&&d.a;if(m){var v=new Va(u,function(){Zk(i,v,u,m)},function(){v.m(),ce("passwordRecovery",i,o,u)},Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v)}else rt(i,o)};function Bu(i,o,u,d,m,v){G.call(this,rb,{email:u,Ta:!!o},v,"passwordRecovery",{F:d,D:m}),this.l=i,this.u=o}c(Bu,G),Bu.prototype.v=function(){this.B(),this.H(this.l,this.u),on(this.i())||this.i().focus(),Na(this,this.i(),this.l),G.prototype.v.call(this)},Bu.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},M(Bu.prototype,{i:Nr,w:Ts,B:La,M:Fa,j:Ua,U:Qt,P:jt,H:ln});function ex(i,o){var u=o.j();if(u){var d=pt(o);Me(i,o.I(C(Ue(i).sendPasswordResetEmail,Ue(i)),[u],function(){o.m();var m=new Md(u,function(){m.m(),rt(i,d)},Ot(z(i)),Mt(z(i)));m.render(d),Le(i,m)},function(m){At(o.i(),!1),an(o.w(),tt(m))}))}else o.i().focus()}ze.passwordRecovery=function(i,o,u,d,m){var v=new Bu(function(){ex(i,v)},d?void 0:function(){v.m(),rt(i,o)},u,Ot(z(i)),Mt(z(i)));v.render(o),Le(i,v),m&&v.a(m)},ze.passwordSignIn=function(i,o,u,d){var m=new Su(function(){Hk(i,m)},function(){var v=m.M();m.m(),ce("passwordRecovery",i,o,v)},u,Ot(z(i)),Mt(z(i)),d);m.render(o),Le(i,m)};function rg(){return He(this,"firebaseui-id-name")}function sg(){return He(this,"firebaseui-id-name-error")}function $u(i,o,u,d,m,v,E,k,$){G.call(this,ib,{email:d,Tb:i,name:m,Ta:!!u,ia:!!k},$,"passwordSignUp",{F:v,D:E}),this.w=o,this.H=u,this.B=i}c($u,G),$u.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Au(this,this.i(),this.u()),Au(this,this.u(),this.l())):Au(this,this.i(),this.l()),this.w&&Na(this,this.l(),this.w),on(this.i())?this.B&&!on(this.u())?this.u().focus():this.l().focus():this.i().focus(),G.prototype.v.call(this)},$u.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},M($u.prototype,{i:Nr,U:Ts,ea:La,jb:Fa,j:Ua,u:rg,Bc:sg,Ja:function(){var i=rg.call(this),o=sg.call(this);xa(this,i,function(){Da(o)&&(At(i,!0),li(o))})},M:function(){var i=rg.call(this),o=sg.call(this),u=on(i);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),At(i,u),u?(li(o),o=!0):(an(o,je("Enter your account name").toString()),o=!1),o?L(on(i)):null},l:Ou,ba:jd,lb:Ud,ua:oE,P:aE,Nb:Qt,Mb:jt,pa:ln});function tx(i,o){var u=_w(z(i)),d=o.j(),m=null;u&&(m=o.M());var v=o.P();if(d){if(u)if(m)m=fe(m);else{o.u().focus();return}if(v){var E=me.auth.EmailAuthProvider.credential(d,v);Me(i,o.I(C(i.Yb,i),[d,v],function(k){var $={user:k.user,credential:E,operationType:k.operationType,additionalUserInfo:k.additionalUserInfo};return u?(k=k.user.updateProfile({displayName:m}).then(function(){return Vr(i,o,$)}),Me(i,k),k):Vr(i,o,$)},function(k){if(!k.name||k.name!="cancel"){var $=Pu(k);switch(k=tt($),$.code){case"auth/email-already-in-use":return nx(i,o,d,$);case"auth/too-many-requests":k=je("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":At(o.l(),!1),an(o.ba(),k);break;case"auth/admin-restricted-operation":bo(z(i))?(k=pt(o),o.m(),ce("handleUnauthorizedUser",i,k,d,me.auth.EmailAuthProvider.PROVIDER_ID)):o.a(k);break;default:$="setAccountInfo: "+Y0($),oi($,void 0),o.a(k)}}}))}else o.l().focus()}else o.i().focus()}function nx(i,o,u,d){function m(){var E=tt(d);At(o.i(),!1),an(o.U(),E),o.i().focus()}var v=Ue(i).fetchSignInMethodsForEmail(u).then(function(E){E.length?m():(E=pt(o),o.m(),ce("passwordRecovery",i,E,u,!1,j().toString()))},function(){m()});return Me(i,v),v}ze.passwordSignUp=function(i,o,u,d,m,v){function E(){k.m(),rt(i,o)}var k=new $u(_w(z(i)),function(){tx(i,k)},m?void 0:E,u,d,Ot(z(i)),Mt(z(i)),v);k.render(o),Le(i,k)};function og(){return He(this,"firebaseui-id-phone-confirmation-code")}function cE(){return He(this,"firebaseui-id-phone-confirmation-code-error")}function hE(){return He(this,"firebaseui-id-resend-countdown")}function $a(i,o,u,d,m,v,E,k,$){G.call(this,Vb,{phoneNumber:m},$,"phoneSignInFinish",{F:E,D:k}),this.jb=v,this.i=new Sd(1e3),this.B=v,this.P=i,this.l=o,this.H=u,this.M=d}c($a,G),$a.prototype.v=function(){var i=this;this.U(this.jb),Vi(this.i,"tick",this.w,!1,this),this.i.start(),_t(this,He(this,"firebaseui-id-change-phone-number-link"),function(){i.P()}),_t(this,this.Da(),function(){i.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),G.prototype.v.call(this)},$a.prototype.o=function(){this.M=this.H=this.l=this.P=null,Pd(this.i),mo(this.i,"tick",this.w),this.i=null,G.prototype.o.call(this)},$a.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Pd(this.i),mo(this.i,"tick",this.w),this.ua(),this.lb())},M($a.prototype,{u:og,pa:cE,Ja:function(i){var o=og.call(this),u=cE.call(this);xa(this,o,function(){Da(u)&&(At(o,!0),li(u))}),i&&Iu(this,o,function(){i()})},ba:function(){var i=L(on(og.call(this))||"");return/^\d{6}$/.test(i)?i:null},Fb:hE,U:function(i){Xl(hE.call(this),je("Resend code in "+((9<i?"0:":"0:0")+i)).toString())},ua:function(){li(this.Fb())},Da:function(){return He(this,"firebaseui-id-resend-link")},lb:function(){an(this.Da())},Nb:Qt,Mb:jt,ea:ln});function ix(i,o,u,d){function m(E){o.u().focus(),At(o.u(),!1),an(o.pa(),E)}var v=o.ba();v?(o.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",je("Verifying...").toString()),Me(i,o.I(C(d.confirm,d),[v],function(E){o.h(),o.$("firebaseui-icon-done",je("Verified!").toString());var k=setTimeout(function(){o.h(),o.m();var $={user:Fi(i).currentUser,credential:null,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo};Vr(i,o,$,!0)},1e3);Me(i,function(){o&&o.h(),clearTimeout(k)})},function(E){if(E.name&&E.name=="cancel")o.h();else{var k=Pu(E);switch(E=tt(k),k.code){case"auth/credential-already-in-use":o.h();break;case"auth/code-expired":k=pt(o),o.h(),o.m(),ce("phoneSignInStart",i,k,u,E);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":o.h(),m(E);break;default:o.h(),o.a(E)}}}))):m(je("Wrong code. Try again.").toString())}ze.phoneSignInFinish=function(i,o,u,d,m,v){var E=new $a(function(){E.m(),ce("phoneSignInStart",i,o,u)},function(){ix(i,E,u,m)},function(){E.m(),rt(i,o)},function(){E.m(),ce("phoneSignInStart",i,o,u)},Vm(u),d,Ot(z(i)),Mt(z(i)));E.render(o),Le(i,E),v&&E.a(v)};var rx=!Ye&&!(Fe("Safari")&&!(io()||Fe("Coast")||Fe("Opera")||Fe("Edge")||Fe("Firefox")||Fe("FxiOS")||Fe("Silk")||Fe("Android")));function Hd(i,o){return/-[a-z]/.test(o)?null:rx&&i.dataset?!Fe("Android")||io()||Fe("Firefox")||Fe("FxiOS")||Fe("Opera")||Fe("Silk")||o in i.dataset?(i=i.dataset[o],i===void 0?null:i):null:i.getAttribute("data-"+String(o).replace(/([A-Z])/g,"-$1").toLowerCase())}function sx(i,o,u){var d=this;i=Ni(Yw,{items:i},null,this.s),Jw.call(this,i,!0,!0),u&&(u=ox(i,u))&&(u.focus(),Ok(u,i)),_t(this,i,function(m){(m=(m=Jl(m.target,"firebaseui-id-list-box-dialog-button"))&&Hd(m,"listboxid"))&&(xd.call(d),o(m))})}function ox(i,o){i=(i||document).getElementsByTagName("BUTTON");for(var u=0;u<i.length;u++)if(Hd(i[u],"listboxid")===o)return i[u];return null}function To(){return He(this,"firebaseui-id-phone-number")}function dE(){return He(this,"firebaseui-id-country-selector")}function ag(){return He(this,"firebaseui-id-phone-number-error")}function ax(i,o){var u=i.a,d=lg("1-US-0",u),m=null;if(o&&lg(o,u)?m=o:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");Wd.call(this,m,i)}function lg(i,o){return i=wo(i),!(!i||!ot(o,i))}function lx(i){return i.map(function(o){return{id:o.c,Ma:"firebaseui-flag "+ug(o),label:o.name+" "+("‎+"+o.b)}})}function ug(i){return"firebaseui-flag-"+i.f}function ux(i){var o=this;sx.call(this,lx(i.a),function(u){Wd.call(o,u,i,!0),o.O().focus()},this.Ba)}function Wd(i,o,u){var d=wo(i);d&&(u&&(u=L(on(To.call(this))||""),o=bd(o,u),o.length&&o[0].b!=d.b&&(u="+"+d.b+u.substr(o[0].b.length+1),Aw(To.call(this),u))),o=wo(this.Ba),this.Ba=i,i=He(this,"firebaseui-id-country-selector-flag"),o&&ar(i,ug(o)),or(i,ug(d)),Xl(He(this,"firebaseui-id-country-selector-code"),"‎+"+d.b))}function Hu(i,o,u,d,m,v,E,k,$,te){G.call(this,Nb,{Gb:o,Aa:$||null,Va:!!u,ia:!!v},te,"phoneSignInStart",{F:d,D:m}),this.H=k||null,this.M=o,this.l=i,this.w=u||null,this.pa=E||null}c(Hu,G),Hu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Au(this,this.O(),this.i()),Na(this,this.i(),this.l),this.O().focus(),Bd(this.O(),(this.O().value||"").length),G.prototype.v.call(this)},Hu.prototype.o=function(){this.w=this.l=null,G.prototype.o.call(this)},M(Hu.prototype,{Cb:Qm,O:To,B:ag,ea:function(i,o,u){var d=this,m=To.call(this),v=dE.call(this),E=ag.call(this),k=i||mu,$=k.a;if($.length==0)throw Error("No available countries provided.");ax.call(d,k,o),_t(this,v,function(){ux.call(d,k)}),xa(this,m,function(){Da(E)&&(At(m,!0),li(E));var te=L(on(m)||""),pe=wo(this.Ba),Qe=bd(k,te);te=lg("1-US-0",$),Qe.length&&Qe[0].b!=pe.b&&(pe=Qe[0],Wd.call(d,pe.b=="1"&&te?"1-US-0":pe.c,k))}),u&&Iu(this,m,function(){u()})},U:function(i){var o=L(on(To.call(this))||"");i=i||mu;var u=i.a,d=bd(mu,o);if(d.length&&!ot(u,d[0]))throw Aw(To.call(this)),To.call(this).focus(),an(ag.call(this),je("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=wo(this.Ba),d.length&&d[0].b!=u.b&&Wd.call(this,d[0].c,i),d.length&&(o=o.substr(d[0].b.length+1)),o?new uw(this.Ba,o):null},Ja:dE,ba:function(){return He(this,"firebaseui-recaptcha-container")},u:function(){return He(this,"firebaseui-id-recaptcha-error")},i:Qt,ua:jt,P:ln});function fE(i,o,u,d){try{var m=o.U(Wm)}catch{return}m?yu?(o.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",je("Verifying...").toString()),Me(i,o.I(C(i.cc,i),[Vm(m),u],function(v){var E=pt(o);o.$("firebaseui-icon-done",je("Code sent!").toString());var k=setTimeout(function(){o.h(),o.m(),ce("phoneSignInFinish",i,E,m,15,v)},1e3);Me(i,function(){o&&o.h(),clearTimeout(k)})},function(v){if(o.h(),!v.name||v.name!="cancel"){grecaptcha.reset(Tw),yu=null;var E=v&&v.message||"";if(v.code)switch(v.code){case"auth/too-many-requests":E=je("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":o.O().focus(),an(o.B(),y().toString());return;case"auth/admin-restricted-operation":if(bo(z(i))){v=pt(o),o.m(),ce("handleUnauthorizedUser",i,v,Vm(m),me.auth.PhoneAuthProvider.PROVIDER_ID);return}E=tt(v);break;default:E=tt(v)}o.a(E)}}))):Aa?an(o.u(),je("Solve the reCAPTCHA").toString()):!Aa&&d&&o.i().click():(o.O().focus(),an(o.B(),y().toString()))}ze.phoneSignInStart=function(i,o,u,d){var m=_k(z(i))||{};yu=null,Aa=!(m&&m.size==="invisible");var v=eE(i),E=Ak(z(i)),k=v?Ik(z(i)):null;E=u&&u.a||E&&E.c||null,u=u&&u.Aa||k,(k=Lm(z(i)))&&lw(k),Wm=k?new sw(Lm(z(i))):mu;var $=new Hu(function(pe){fE(i,$,te,!(!pe||!pe.keyCode))},Aa,v?null:function(){te.clear(),$.m(),rt(i,o)},Ot(z(i)),Mt(z(i)),v,Wm,E,u);$.render(o),Le(i,$),d&&$.a(d),m.callback=function(pe){$.u()&&li($.u()),yu=pe,Aa||fE(i,$,te)},m["expired-callback"]=function(){yu=null};var te=new me.auth.RecaptchaVerifier(Aa?$.ba():$.i(),m,Fi(i).app);Me(i,$.I(C(te.render,te),[],function(pe){Tw=pe},function(pe){pe.name&&pe.name=="cancel"||(pe=tt(pe),$.m(),rt(i,o,void 0,pe))}))},ze.prefilledEmailSignIn=function(i,o,u){var d=new $d;d.render(o),Le(i,d),Me(i,d.I(C(Ue(i).fetchSignInMethodsForEmail,Ue(i)),[u],function(m){d.m();var v=!(!Vd(i)||!gE(i));nE(i,o,m,u,void 0,v)},function(m){m=tt(m),d.m(),ce("signIn",i,o,u,m)}))};function Wu(i,o,u,d,m){G.call(this,Mb,{Sb:o},m,"providerSignIn",{F:u,D:d}),this.i=i}c(Wu,G),Wu.prototype.v=function(){this.l(this.i),G.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(Wu.prototype,{l:function(i){function o(E){i(E)}for(var u=this.g?ps("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],v=Hd(m,"providerId");_t(this,m,O(o,v))}}}),ze.providerSignIn=function(i,o,u,d){var m=new Wu(function(v){v==me.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),tg(i,o,d)):v==me.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ce("phoneSignInStart",i,o)):v=="anonymous"?Bk(i,m):Cu(i,m,v,d),We(i),i.l.cancel()},fw(z(i)),Ot(z(i)),Mt(z(i)));m.render(o),Le(i,m),u&&m.a(u),dx(i)},ze.sendEmailLinkForSignIn=function(i,o,u,d){var m=new Ld;m.render(o),Le(i,m),eg(i,m,u,d,function(v){m.m(),v&&v.code=="auth/admin-restricted-operation"&&bo(z(i))?ce("handleUnauthorizedUser",i,o,u,me.auth.EmailAuthProvider.PROVIDER_ID):(v=tt(v),ce("signIn",i,o,u,v))})};function Ku(i,o,u,d,m,v,E){G.call(this,tb,{email:u,Va:!!o,ia:!!v},E,"signIn",{F:d,D:m}),this.i=i,this.u=o}c(Ku,G),Ku.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Bd(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},Ku.prototype.o=function(){this.u=this.i=null,G.prototype.o.call(this)},M(Ku.prototype,{l:Nr,M:Ts,w:La,H:Fa,j:Ua,U:Qt,P:jt,B:ln}),ze.signIn=function(i,o,u,d){var m=Vd(i),v=new Ku(function(){var E=v,k=E.j()||"";k&&tE(i,E,k)},m?null:function(){v.m(),rt(i,o,u)},u,Ot(z(i)),Mt(z(i)),m);v.render(o),Le(i,v),d&&v.a(d)};function qu(i,o,u,d,m,v,E){G.call(this,yb,{kc:i,yb:u,Eb:!!d},E,"unauthorizedUser",{F:m,D:v}),this.l=o,this.i=d}c(qu,G),qu.prototype.v=function(){var i=this,o=He(this,"firebaseui-id-unauthorized-user-help-link");this.i&&o&&_t(this,o,function(){i.i()}),_t(this,this.u(),function(){i.l()}),this.u().focus(),G.prototype.v.call(this)},qu.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},M(qu.prototype,{u:jt}),ze.handleUnauthorizedUser=function(i,o,u,d){function m(){rt(i,o)}d===me.auth.EmailAuthProvider.PROVIDER_ID?m=function(){tg(i,o)}:d===me.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ce("phoneSignInStart",i,o)});var v=null,E=null;d===me.auth.EmailAuthProvider.PROVIDER_ID&&mw(z(i))?(v=Ek(z(i)),E=Tk(z(i))):bo(z(i))&&(v=wk(z(i)),E=bk(z(i)));var k=new qu(u,function(){k.m(),m()},v,E,Ot(z(i)),Mt(z(i)));k.render(o),Le(i,k)};function Gu(i,o,u,d,m,v){G.call(this,_b,{email:i},v,"unsupportedProvider",{F:d,D:m}),this.l=o,this.i=u}c(Gu,G),Gu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},Gu.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},M(Gu.prototype,{u:Qt,B:jt,w:ln}),ze.unsupportedProvider=function(i,o,u){var d=new Gu(u,function(){d.m(),ce("passwordRecovery",i,o,u)},function(){d.m(),rt(i,o,u)},Ot(z(i)),Mt(z(i)));d.render(o),Le(i,d)};function lr(i,o){this.$=!1;var u=cg(o);if(zu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');zu[u]=this,this.a=i,this.u=null,this.Y=!1,pE(this.a),this.h=me.initializeApp({apiKey:i.app.options.apiKey,authDomain:i.app.options.authDomain},i.app.name+"-firebaseui-temp").auth(),(i=i.emulatorConfig)&&(u=i.port,this.h.useEmulator(i.protocol+"://"+i.host+(u===null?"":":"+u),i.options)),pE(this.h),this.h.setPersistence&&this.h.setPersistence(me.auth.Auth.Persistence.SESSION),this.oa=o,this.ca=new yk,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=mm.Xa(),this.j=this.C=null,this.da=this.A=!1}function pE(i){i&&i.INTERNAL&&i.INTERNAL.logFramework&&i.INTERNAL.logFramework("FirebaseUI-web")}var zu={};function cg(i){return i||"[DEFAULT]"}function mE(i){return We(i),i.i||(i.i=Lr(i,function(o){return o&&!rr(Ae(i))?It(Fi(i).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return As(i,u)})):It(Ue(i).getRedirectResult().then(function(u){return Ed(z(i))&&!u.user&&i.j&&!i.j.isAnonymous?Fi(i).getRedirectResult():u}))})),i.i}function Le(i,o){We(i),i.g=o}var Ha=null;function Ue(i){return We(i),i.h}function Fi(i){return We(i),i.a}function Ae(i){return We(i),i.oa}function gE(i){return We(i),i.O?i.O.emailHint:void 0}t=lr.prototype,t.nb=function(){return We(this),!!xm(Ae(this))||vE(Mr())};function vE(i){return i=new xi(i),(i.a.a.get(ft.ub)||null)==="signIn"&&!!i.a.a.get(ft.$a)}t.start=function(i,o){yE(this,i,o)};function yE(i,o,u,d){We(i),typeof i.a.languageCode<"u"&&(i.u=i.a.languageCode);var m="en".replace(/_/g,"-");i.a.languageCode=m,i.h.languageCode=m,i.Y=!0,typeof i.a.tenantId<"u"&&(i.h.tenantId=i.a.tenantId),i.ib(u),i.O=d||null;var v=_.document;i.C?i.C.then(function(){v.readyState=="complete"?Kd(i,o):su(window,"load",function(){Kd(i,o)})}):v.readyState=="complete"?Kd(i,o):su(window,"load",function(){Kd(i,o)})}function Kd(i,o){var u=ed(o,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ha){var d=Ha;We(d),rr(Ae(d))&&bs("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ha.reset()}if(Ha=i,i.T=u,hx(i,u),wd(new Pm)&&wd(new Cm)){o=ed(o,"Could not find the FirebaseUI widget element on the page."),u=Mr(),d=Mm(z(i).a,"queryParameterForSignInSuccessUrl"),u=(u=Xs(u,d))?Qi(sa(u)).toString():null;e:{d=Mr();var m=yw(z(i));d=Xs(d,m)||"";for(v in Hm)if(Hm[v].toLowerCase()==d.toLowerCase()){var v=Hm[v];break e}v="callback"}switch(v){case"callback":u&&(v=Ae(i),ba(fu,u,v)),i.nb()?ce("callback",i,o):rt(i,o,gE(i));break;case"resetPassword":ce("passwordReset",i,o,Ru(),ng());break;case"recoverEmail":ce("emailChangeRevocation",i,o,Ru());break;case"revertSecondFactorAddition":ce("revertSecondFactorAddition",i,o,Ru());break;case"verifyEmail":ce("emailVerification",i,o,Ru(),ng());break;case"verifyAndChangeEmail":ce("verifyAndChangeEmail",i,o,Ru(),ng());break;case"signIn":ce("emailLinkSignInCallback",i,o,Mr()),EE();break;case"select":u&&(v=Ae(i),ba(fu,u,v)),rt(i,o);break;default:throw Error("Unhandled widget operation.")}o=z(i),(o=vu(o).uiShown||null)&&o()}else o=ed(o,"Could not find the FirebaseUI widget element on the page."),v=new Qb(je("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),v.render(o),Le(i,v);o=i.g&&i.g.Ga=="blank"&&Fm(z(i)),xm(Ae(i))&&!o&&(o=xm(Ae(i)),bE(i,o.a),qn(_o,Ae(i)))}function Lr(i,o){if(i.A)return o(_E(i));if(Me(i,function(){i.A=!1}),Ed(z(i))){var u=new Ut(function(d){Me(i,i.a.onAuthStateChanged(function(m){i.j=m,i.A||(i.A=!0,d(o(_E(i))))}))});return Me(i,u),u}return i.A=!0,o(null)}function _E(i){return We(i),Ed(z(i))&&i.j&&i.j.isAnonymous?i.j:null}function Me(i,o){if(We(i),o){i.s.push(o);var u=function(){vi(i.s,function(d){return d==o})};typeof o!="function"&&o.then(u,u)}}t.Db=function(){We(this),this.Z=!0};function cx(i){We(i);var o;return(o=i.Z)||(i=z(i),i=vw(i,me.auth.GoogleAuthProvider.PROVIDER_ID),o=!(!i||i.prompt!=="select_account")),o}function wE(i){typeof i.a.languageCode<"u"&&i.Y&&(i.Y=!1,i.a.languageCode=i.u)}function bE(i,o){i.a.tenantId=o,i.h.tenantId=o}t.reset=function(){We(this);var i=this;this.T&&this.T.removeAttribute("lang"),this.J&&K2(this.J),wE(this),this.O=null,EE(),qn(_o,Ae(this)),We(this),this.l.cancel(),this.i=It({user:null,credential:null}),Ha==this&&(Ha=null),this.T=null;for(var o=0;o<this.s.length;o++)typeof this.s[o]=="function"?this.s[o]():this.s[o].cancel&&this.s[o].cancel();this.s=[],sr(Ae(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Is(this).then(function(){i.C=null},function(){i.C=null}))};function hx(i,o){i.L=null,i.J=new Qh(o),i.J.register(),Vi(i.J,"pageEnter",function(u){if(u=u&&u.pageId,i.L!=u){var d=z(i);(d=vu(d).uiChanged||null)&&d(i.L,u),i.L=u}})}t.ib=function(i){We(this);var o=this.ca,u;for(u in i)try{Om(o.a,u,i[u])}catch{oi('Invalid config: "'+u+'"',void 0)}Vh&&Om(o.a,"popupMode",!1),Lm(o),!this.da&&Um(z(this))&&(bs("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function z(i){return We(i),i.ca}t.Wb=function(){We(this);var i=z(this),o=Mm(i.a,"widgetUrl");i=yw(i);for(var u=o.search(Qo),d=0,m,v=[];0<=(m=Ys(o,d,i,u));)v.push(o.substring(d,m)),d=Math.min(o.indexOf("&",m)+1||u,u);v.push(o.substr(d)),o=v.join("").replace(xh,"$1"),u="="+encodeURIComponent("select"),(i+=u)?(u=o.indexOf("#"),0>u&&(u=o.length),d=o.indexOf("?"),0>d||d>u?(d=u,m=""):m=o.substring(d+1,u),o=[o.substr(0,d),m,o.substr(u)],u=o[1],o[1]=i?u?u+"&"+i:i:u,u=o[0]+(o[1]?"?"+o[1]:"")+o[2]):u=o,z(this).a.get("popupMode")?(i=(window.screen.availHeight-600)/2,o=(window.screen.availWidth-500)/2,u=u||"about:blank",i={width:500,height:600,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},i.target=i.target||u.target||"google_popup",i.width=i.width||690,i.height=i.height||500,(i=_0(u,i))&&i.focus()):On(window.location,u)};function We(i){if(i.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var i=this;return We(this),this.h.app.delete().then(function(){var o=cg(Ae(i));delete zu[o],i.reset(),i.$=!0})};function dx(i){We(i);try{A0(i.l,pw(z(i)),cx(i)).then(function(o){return i.g?$k(i,i.g,o):!1})}catch{}}t.Ib=function(i,o){We(this);var u=this,d=Q2();if(!Ia(z(this)))return ha(Error("Email link sign-in should be enabled to trigger email sending."));var m=Pk(z(this)),v=new xi(m.url);return ea(v,d),o&&o.a&&(vk(d,o,Ae(this)),Ul(v,o.a.providerId)),Gi(v,Sk(z(this))),Lr(this,function(E){return E&&((E=E.uid)?v.a.a.set(ft.Pa,E):Wn(v.a.a,ft.Pa)),m.url=v.toString(),Ue(u).sendSignInLinkToEmail(i,m)}).then(function(){var E=Ae(u),k={};k.email=i,ba(_a,q0(d,JSON.stringify(k)),E)},function(E){throw qn(pu,Ae(u)),qn(_a,Ae(u)),E})};function fx(i,o){var u=Fl(new xi(o));return u?(o=new Ut(function(d,m){var v=Fi(i).onAuthStateChanged(function(E){v(),E&&E.isAnonymous&&E.uid===u?d(E):E&&E.isAnonymous&&E.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Me(i,v)}),Me(i,o),o):It(null)}function px(i,o,u,d,m){We(i);var v=m||null,E=me.auth.EmailAuthProvider.credentialWithLink(u,d);return u=v?Ue(i).signInWithEmailLink(u,d).then(function(k){return k.user.linkWithCredential(v)}).then(function(){return Is(i)}).then(function(){return As(i,{code:"auth/email-already-in-use"},v)}):Ue(i).fetchSignInMethodsForEmail(u).then(function(k){return k.length?As(i,{code:"auth/email-already-in-use"},E):o.linkWithCredential(E)}),Me(i,u),u}function mx(i,o,u,d){We(i);var m=d||null,v;return o=Ue(i).signInWithEmailLink(o,u).then(function(E){if(v={user:E.user,credential:null,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo},m)return E.user.linkWithCredential(m).then(function(k){v={user:k.user,credential:m,operationType:v.operationType,additionalUserInfo:k.additionalUserInfo}})}).then(function(){Is(i)}).then(function(){return Fi(i).updateCurrentUser(v.user)}).then(function(){return v.user=Fi(i).currentUser,v}),Me(i,o),o}function EE(){var i=Mr();if(vE(i)){i=new xi(i);for(var o in ft)ft.hasOwnProperty(o)&&Wn(i.a.a,ft[o]);o={state:"signIn",mode:"emailLink",operation:"clear"};var u=_.document.title;_.history&&_.history.replaceState&&_.history.replaceState(o,u,i.toString())}}t.bc=function(i,o){We(this);var u=this;return Ue(this).signInWithEmailAndPassword(i,o).then(function(d){return Lr(u,function(m){return m?Is(u).then(function(){return As(u,{code:"auth/email-already-in-use"},me.auth.EmailAuthProvider.credential(i,o))}):d})})},t.Yb=function(i,o){We(this);var u=this;return Lr(this,function(d){if(d){var m=me.auth.EmailAuthProvider.credential(i,o);return d.linkWithCredential(m)}return Ue(u).createUserWithEmailAndPassword(i,o)})},t.ac=function(i){We(this);var o=this;return Lr(this,function(u){return u?u.linkWithCredential(i).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return As(o,d,i)}):Ue(o).signInWithCredential(i)})};function gx(i,o){return We(i),Lr(i,function(u){return u&&!rr(Ae(i))?u.linkWithPopup(o).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return As(i,d)}):Ue(i).signInWithPopup(o)})}t.dc=function(i){We(this);var o=this,u=this.i;return this.i=null,Lr(this,function(d){return d&&!rr(Ae(o))?d.linkWithRedirect(i):Ue(o).signInWithRedirect(i)}).then(function(){},function(d){throw o.i=u,d})},t.cc=function(i,o){We(this);var u=this;return Lr(this,function(d){return d?d.linkWithPhoneNumber(i,o).then(function(m){return new vm(m,function(v){if(v.code=="auth/credential-already-in-use")return As(u,v);throw v})}):Fi(u).signInWithPhoneNumber(i,o).then(function(m){return new vm(m)})})},t.$b=function(){return We(this),Fi(this).signInAnonymously()};function vx(i,o){return We(i),Lr(i,function(u){if(i.j&&!i.j.isAnonymous&&Ed(z(i))&&!Ue(i).currentUser)return Is(i).then(function(){return o.credential.providerId=="password"&&(o.credential=null),o});if(u)return Is(i).then(function(){return u.linkWithCredential(o.credential)}).then(function(d){return o.user=d.user,o.credential=d.credential,o.operationType=d.operationType,o.additionalUserInfo=d.additionalUserInfo,o},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return As(i,d,o.credential)});if(!o.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Is(i).then(function(){return Fi(i).updateCurrentUser(o.user)}).then(function(){return o.user=Fi(i).currentUser,o.operationType="signIn",o.credential&&o.credential.providerId&&o.credential.providerId=="password"&&(o.credential=null),o})})}t.Xb=function(i,o){return We(this),Ue(this).signInWithEmailAndPassword(i,o)};function Is(i){return We(i),Ue(i).signOut()}function As(i,o,u){if(We(i),o&&o.code&&(o.code=="auth/email-already-in-use"||o.code=="auth/credential-already-in-use")){var d=Ew(z(i));return It().then(function(){return d(new qe("anonymous-upgrade-merge-conflict",null,u||o.credential))}).then(function(){throw i.g&&(i.g.m(),i.g=null),o})}return ha(o)}function Yu(i,o,u,d){G.call(this,Ub,void 0,d,"providerMatchByEmail",{F:o,D:u}),this.i=i}c(Yu,G),Yu.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Bd(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},Yu.prototype.o=function(){this.i=null,G.prototype.o.call(this)},M(Yu.prototype,{l:Nr,H:Ts,u:La,B:Fa,j:Ua,M:Qt,w:ln});function qd(i,o,u,d,m){G.call(this,Fb,{ec:o},m,"selectTenant",{F:u,D:d}),this.i=i}c(qd,G),qd.prototype.v=function(){yx(this,this.i),G.prototype.v.call(this)},qd.prototype.o=function(){this.i=null,G.prototype.o.call(this)};function yx(i,o){function u(k){o(k)}for(var d=i.g?ps("firebaseui-id-tenant-selection-button",i.g||i.s.a):[],m=0;m<d.length;m++){var v=d[m],E=Hd(v,"tenantId");_t(i,v,O(u,E))}}function hg(i){G.call(this,ab,void 0,i,"spinner")}c(hg,G);function _x(i){this.a=new Dm,Dt(this.a,"authDomain"),Dt(this.a,"displayMode",zd),Dt(this.a,"tenants"),Dt(this.a,"callbacks"),Dt(this.a,"tosUrl"),Dt(this.a,"privacyPolicyUrl");for(var o in i)if(i.hasOwnProperty(o))try{Om(this.a,o,i[o])}catch{oi('Invalid config: "'+o+'"',void 0)}}function wx(i){i=i.a.get("displayMode");for(var o in fg)if(fg[o]===i)return fg[o];return zd}function Gd(i){return i.a.get("callbacks")||{}}function TE(i){var o=i.a.get("tosUrl")||null;if(i=i.a.get("privacyPolicyUrl")||null,o&&!i&&bs("Privacy Policy URL is missing, the link will not be displayed."),o&&i){if(typeof o=="function")return o;if(typeof o=="string")return function(){fa(o)}}return null}function IE(i){var o=i.a.get("tosUrl")||null,u=i.a.get("privacyPolicyUrl")||null;if(u&&!o&&bs("Terms of Service URL is missing, the link will not be displayed."),o&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){fa(u)}}return null}function dg(i,o){if(i=i.a.get("tenants"),!i||!i.hasOwnProperty(o)&&!i.hasOwnProperty(Yd))throw Error("Invalid tenant configuration!")}function AE(i,o,u){if(i=i.a.get("tenants"),!i)throw Error("Invalid tenant configuration!");var d=[];if(i=i[o]||i[Yd],!i)return oi("Invalid tenant configuration: "+(o+" is not configured!"),void 0),d;if(o=i.signInOptions,!o)throw Error("Invalid tenant configuration: signInOptions are invalid!");return o.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var v=m.hd;v&&u?(v instanceof RegExp?v:new RegExp("@"+v.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),oi(m,void 0)}),d}function bx(i,o,u){return i=Ex(i,o),(o=i.signInOptions)&&u&&(o=o.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),i.signInOptions=o),i}function Ex(i,o){var u=Tx,d=d===void 0?{}:d;return dg(i,o),i=i.a.get("tenants"),Z2(i[o]||i[Yd],u,d)}var Tx=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],zd="optionFirst",fg={pc:zd,oc:"identifierFirst"},Yd="*";function Ui(i,o){var u=this;this.s=ed(i),this.a={},Object.keys(o).forEach(function(d){u.a[d]=new _x(o[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=Ui.prototype,t.Ub=function(i,o){var u=this;Ss(this);var d=i.apiKey;return new Ut(function(m,v){if(u.a.hasOwnProperty(d)){var E=Gd(u.a[d]).selectTenantUiHidden||null;if(wx(u.a[d])===zd){var k=[];o.forEach(function(pe){pe=pe||"_";var Qe=u.a[d].a.get("tenants");if(!Qe)throw Error("Invalid tenant configuration!");(Qe=Qe[pe]||Qe[Yd])?pe={tenantId:pe!=="_"?pe:null,V:Qe.fullLabel||null,displayName:Qe.displayName,za:Qe.iconUrl,ta:Qe.buttonColor}:(oi("Invalid tenant configuration: "+(pe+" is not configured!"),void 0),pe=null),pe&&k.push(pe)});var $=function(pe){pe={tenantId:pe,providerIds:AE(u.a[d],pe||"_")},m(pe)};if(k.length===1){$(k[0].tenantId);return}u.g=new qd(function(pe){Ss(u),E&&E(),$(pe)},k,TE(u.a[d]),IE(u.a[d]))}else u.g=new Yu(function(){var pe=u.g.j();if(pe){for(var Qe=0;Qe<o.length;Qe++){var ji=AE(u.a[d],o[Qe]||"_",pe);if(ji.length!==0){pe={tenantId:o[Qe],providerIds:ji,email:pe},Ss(u),E&&E(),m(pe);return}}u.g.a(H({code:"no-matching-tenant-for-email"}).toString())}},TE(u.a[d]),IE(u.a[d]));u.g.render(u.s),(v=Gd(u.a[d]).selectTenantUiShown||null)&&v()}else{var te=Error("Invalid project configuration: API key is invalid!");te.code="invalid-configuration",u.pb(te),v(te)}})},t.Pb=function(i,o){if(!this.a.hasOwnProperty(i))throw Error("Invalid project configuration: API key is invalid!");var u=o||void 0;dg(this.a[i],o||"_");try{this.i=me.app(u).auth()}catch{var d=this.a[i].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");i=me.initializeApp({apiKey:i,authDomain:d},u),i.auth().tenantId=o,this.i=i.auth()}return this.i},t.Zb=function(i,o){var u=this;return new Ut(function(d,m){function v(Qe,ji){u.j=new lr(i),yE(u.j,u.s,Qe,ji)}var E=i.app.options.apiKey;u.a.hasOwnProperty(E)||m(Error("Invalid project configuration: API key is invalid!"));var k=bx(u.a[E],i.tenantId||"_",o&&o.providerIds);Ss(u),m={signInSuccessWithAuthResult:function(Qe){return d(Qe),!1}};var $=Gd(u.a[E]).signInUiShown||null,te=!1;m.uiChanged=function(Qe,ji){Qe===null&&ji==="callback"?((Qe=oa("firebaseui-id-page-callback",u.s))&&li(Qe),u.h=new hg,u.h.render(u.s)):te||Qe===null&&ji==="spinner"||ji==="blank"||(u.h&&(u.h.m(),u.h=null),te=!0,$&&$(i.tenantId))},k.callbacks=m,k.credentialHelper="none";var pe;o&&o.email&&(pe={emailHint:o.email}),u.j?u.j.Wa().then(function(){v(k,pe)}):v(k,pe)})},t.reset=function(){var i=this;return It().then(function(){i.j&&i.j.Wa()}).then(function(){i.j=null,Ss(i)})},t.Vb=function(){var i=this;this.h||this.A||(this.A=window.setTimeout(function(){Ss(i),i.h=new hg,i.g=i.h,i.h.render(i.s),i.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Ss(this),this.g=new Gb,this.g.render(this.s),It()};function Ss(i){i.j&&i.j.reset(),i.mb(),i.g&&i.g.m()}t.pb=function(i){var o=this,u=H({code:i.code}).toString()||i.message;Ss(this);var d;i.retry&&typeof i.retry=="function"&&(d=function(){o.reset(),i.retry()}),this.g=new Jb(u,d),this.g.render(this.s)},t.Rb=function(i){var o=this;return It().then(function(){var u=o.i&&o.i.app.options.apiKey;if(!o.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(dg(o.a[u],i.tenantId||"_"),!o.i.currentUser||o.i.currentUser.uid!==i.uid)throw Error("The user being processed does not match the signed in user!");return(u=Gd(o.a[u]).beforeSignInSuccess||null)?u(i):i}).then(function(u){if(u.uid!==i.uid)throw Error("User with mismatching UID returned.");return u})},R("firebaseui.auth.FirebaseUiHandler",Ui),R("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ui.prototype.Ub),R("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ui.prototype.Pb),R("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ui.prototype.Zb),R("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ui.prototype.reset),R("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ui.prototype.Vb),R("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ui.prototype.mb),R("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ui.prototype.Bb),R("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ui.prototype.pb),R("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ui.prototype.Rb),R("firebaseui.auth.AuthUI",lr),R("firebaseui.auth.AuthUI.getInstance",function(i){return i=cg(i),zu[i]?zu[i]:null}),R("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",lr.prototype.Db),R("firebaseui.auth.AuthUI.prototype.start",lr.prototype.start),R("firebaseui.auth.AuthUI.prototype.setConfig",lr.prototype.ib),R("firebaseui.auth.AuthUI.prototype.signIn",lr.prototype.Wb),R("firebaseui.auth.AuthUI.prototype.reset",lr.prototype.reset),R("firebaseui.auth.AuthUI.prototype.delete",lr.prototype.Wa),R("firebaseui.auth.AuthUI.prototype.isPendingRedirect",lr.prototype.nb),R("firebaseui.auth.AuthUIError",qe),R("firebaseui.auth.AuthUIError.prototype.toJSON",qe.prototype.toJSON),R("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",jm),R("firebaseui.auth.CredentialHelper.NONE",Id),R("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Ut.prototype.catch=Ut.prototype.Ca,Ut.prototype.finally=Ut.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=B8);var G8=firebaseui.auth;const z8={class:"my-auto"},Y8={__name:"LoginPage",emits:["login"],setup(t,{emit:e}){me.initializeApp(b_);const n=e,r={signInFlow:"popup",signInOptions:[me.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(a){s.delete(),n("login",{userDisplayName:a.user.displayName,photoUrl:a.user.photoURL})},uiShown:function(){document.getElementById("loader").style.display="none"}}};var s=new G8.AuthUI(me.auth());return s.start("#firebaseui-auth-container",r),(a,l)=>(wt(),Vt("div",z8,l[0]||(l[0]=[Ce("p",{class:"text-sky-800 text-2xl font-bold"},"Login to continue",-1),Ce("div",{id:"firebaseui-auth-container"},null,-1),Ce("div",{id:"loader",class:"flex justify-center items-center h-24"},[Ce("div",{class:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})],-1)])))}},X8={class:"flex flex-col h-full"},J8={__name:"App",setup(t){const e=di(null),n=di(null),r=di(null),s=di("jj6j6j6j6"),a=({currentProject:f})=>{s.value=f},l=()=>{bU(mI),e.value=!1,window.location.reload()};wU(mI,f=>{f?(e.value=!0,r.value=f.photoURL,n.value=f.displayName):e.value=!1});const c=()=>{e.value=!0};return(f,p)=>(wt(),Vt("div",X8,[e.value?(wt(),Vt(Fn,{key:1},[mt(w9,{userPhoto:r.value,userDisplayName:n.value,onLogout:l,onChooseProject:a},null,8,["userPhoto","userDisplayName"]),mt(Y7,{project:s.value},null,8,["project"])],64)):(wt(),oS(Y8,{key:0,onLogin:c}))]))}};jO(J8).mount("#app");
